System.register(["./vendor-legacy-BFWz_Ol4.js","./vendor-query-legacy-DmLb6WcG.js","./client-legacy-CFiQjTX9.js"],function(t,e){var n,a,r,o,s;async function c(t,e){const n=e||function(){const t=new Date,e=t.toISOString().split("T")[0],n=new Date(t);n.setDate(n.getDate()-6);const a=n.toISOString().split("T")[0];return console.log("[DateRange]",{start_date:a,end_date:e}),{start_date:a,end_date:e}}(),a={type:t,start_date:n.start_date,end_date:n.end_date},s=await o.post(r.trendReview.indicatorDetail,a);if(200!==s.data.code)throw new Error(s.data.msg||"Failed to fetch indicator detail");return s.data.data}function i(t){return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`}return t({a:c,i:async function(t){return c("heart_rate",t)},n:async function(t){return c("blood_pressure",t)},o:async function(t){return c("sleep",t)},r:async function(t){return c("blood_glucose",t)},s:async function(t){return c("blood_oxygen",t)},t:function(t){const e=a(),{featureName:n,queryKeyFn:r,fetchFn:o,staleTime:c=3e5}=t;return{prefetchPreviousWeeks:(0,s.useCallback)((t,a=3)=>{console.log(`[${n} Prefetch] Starting prefetch of ${a} previous weeks`);for(let s=1;s<=a;s++){const a=new Date(t);a.setDate(a.getDate()-7*s);const u=new Date(a);u.setDate(u.getDate()-6);const d={startDate:i(u),endDate:i(a)};console.log(`[${n} Prefetch] Week ${s}: ${d.startDate} to ${d.endDate}`),e.prefetchQuery({queryKey:r(d),queryFn:()=>o(d),staleTime:c})}},[e,n,r,o,c])}}}),{setters:[function(t){n=t.at},function(t){a=t.r},function(t){r=t.n,o=t.t}],execute:function(){s=n()}}});