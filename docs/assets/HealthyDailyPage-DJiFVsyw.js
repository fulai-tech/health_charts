import{E as e,O as t,T as n,at as r,r as i,rt as a}from"./vendor-DxyDeVV0.js";import"./vendor-charts-B__IZl80.js";import{n as o}from"./vendor-i18n-BSzAmJZ7.js";import{c as s,i as c,l,s as u}from"./theme-XEO8amRP.js";import{t as d}from"./card-DR_iUne-.js";import{n as f,r as p,t as m}from"./SuggestionsList-Bpkae-v8.js";import"./useChartAnimation-DiAB65-P.js";import{t as h}from"./TrendLineChart-B7CWIoTy.js";var g=r();function _(){return{score:82,level:`good`,percentile:99,percentileMessage:`Exceeding 99% people with same age!`,aiTags:[`Physical health`,`Needs attention`,`Maintain schedule`],indicators:{bloodPressure:{latest:{systolic:136,diastolic:95},avg:{systolic:126,diastolic:76},max:{systolic:140,diastolic:98},min:{systolic:118,diastolic:70},reference:{systolic:`90-129`,diastolic:`60-89`},status:`high_normal`,chart:[{time:`01:00`,systolic:136,diastolic:95},{time:`08:00`,systolic:125,diastolic:78},{time:`14:00`,systolic:130,diastolic:82},{time:`20:00`,systolic:128,diastolic:80}]},heartRate:{latest:84,avg:73,max:111,min:63,reference:`60-100`,status:`normal`,chart:[{time:`01:00`,value:84},{time:`08:00`,value:72},{time:`12:00`,value:88},{time:`18:00`,value:75}]},bloodGlucose:{latest:8.5,avg:5.4,max:4.6,min:7.8,reference:`3.9-6.1`,status:`high`,chart:[{time:`08:00`,value:5.2},{time:`12:00`,value:7.8},{time:`18:00`,value:6.1}]},bloodOxygen:{latest:94,avg:96,max:99,min:96,reference:`93-100`,status:`normal`,chart:[{time:`01:00`,value:98},{time:`08:00`,value:97},{time:`14:00`,value:96},{time:`20:00`,value:97}]}},aiInsights:[`The average blood oxygen saturation this week was 94.9%, the same as last week.`,`Your blood oxygen level remained at a high level (98%) from Tuesday to Thursday this week.`],suggestions:[{icon:`/images/daily_report/1.webp`,title:`Deep breath for 5 minutes`,description:`Relieve current anxiety and lower heart rate.`},{icon:`/images/daily_report/2.webp`,title:`Today's nap suggestion`,description:`Rest and recover with a short nap.`},{icon:`/images/daily_report/3.webp`,title:`Drink water`,description:`The recent water intake is lower than usual.`}]}}var v=`healthy_daily_demo_mode`;function y(){try{return localStorage.getItem(v)===`true`}catch(e){return console.warn(`[Demo Mode] Failed to read from localStorage:`,e),!1}}function b(){try{localStorage.setItem(v,`true`),console.log(`✅ [Healthy Daily Demo Mode] Enabled - Using dummy data`)}catch(e){console.error(`[Demo Mode] Failed to enable:`,e)}}function x(){try{localStorage.setItem(v,`false`),console.log(`✅ [Healthy Daily Demo Mode] Disabled - Using backend data`)}catch(e){console.error(`[Demo Mode] Failed to disable:`,e)}}function S(){let e=!y();return e?b():x(),e}var C=a(),w=(0,g.memo)(({active:e,payload:t})=>{var n;if(!e||!t||t.length===0)return null;let r=(n=t[0])==null?void 0:n.payload;return r?(0,C.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,C.jsx)(`p`,{className:`font-medium mb-1`,children:r.time}),(0,C.jsxs)(`p`,{className:`text-orange-300`,children:[`SBP: `,r.systolic]}),(0,C.jsxs)(`p`,{className:`text-emerald-300`,children:[`DBP: `,r.diastolic]})]}):null});w.displayName=`BPCustomTooltip`;const T=(0,g.memo)(({latest:t,avg:r,max:a,min:s,reference:c,status:f,chart:p,className:m=``})=>{let{t:_}=o(),v=l.bp,y=`#10B981`,b=(0,g.useMemo)(()=>!p||p.length===0?[{time:`00:00`,systolic:120,diastolic:80},{time:`04:00`,systolic:118,diastolic:78},{time:`08:00`,systolic:125,diastolic:82},{time:`12:00`,systolic:130,diastolic:85},{time:`16:00`,systolic:128,diastolic:84},{time:`20:00`,systolic:122,diastolic:80}]:p.map(e=>{var t,n;return{time:e.time,systolic:(t=e.systolic)==null?0:t,diastolic:(n=e.diastolic)==null?0:n}}),[p]),x=()=>{if(!t||!r)return null;let i=t.systolic-r.systolic;if(i===0)return null;let a=i>0?n:e;return(0,C.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:i>0?u.trend.up:u.trend.down},children:[(0,C.jsx)(a,{className:`w-3 h-3`}),Math.abs(i)]})},S=`${c.systolic}/${c.diastolic}`;return(0,C.jsxs)(d,{className:m,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,C.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,C.jsx)(i,{className:`w-5 h-5`,style:{color:v}}),(0,C.jsx)(`span`,{className:`text-base font-semibold text-slate-800`,children:_(`vitals.bloodPressure`,`Blood pressure`)}),(0,C.jsx)(`span`,{className:`text-xs text-slate-400`,children:`mmHg`})]}),(0,C.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[_(`daily.standard`,`Standard`),`: `,S]})]}),(0,C.jsxs)(`div`,{className:`flex gap-6 mb-4`,children:[(0,C.jsxs)(`div`,{children:[(0,C.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,C.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:v},children:t?`${t.systolic}/${t.diastolic}`:`--`}),x()]}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:_(`daily.newestValue`,`Newest value`)})]}),(0,C.jsxs)(`div`,{children:[(0,C.jsx)(`span`,{className:`text-2xl font-semibold text-slate-700`,children:r?`${r.systolic}/${r.diastolic}`:`--`}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:_(`daily.average`,`Average`)})]})]}),(0,C.jsxs)(`div`,{className:`flex items-center gap-4 mb-2`,children:[(0,C.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,C.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:v}}),(0,C.jsx)(`span`,{className:`text-xs text-slate-500`,children:`SBP`})]}),(0,C.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,C.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:y}}),(0,C.jsx)(`span`,{className:`text-xs text-slate-500`,children:`DBP`})]})]}),(0,C.jsx)(h,{data:b,lines:[{dataKey:`systolic`,color:v,label:`SBP`,showArea:!0,gradientId:`bpSbpGradient`,legendShape:`circle`},{dataKey:`diastolic`,color:y,label:`DBP`,showArea:!0,gradientId:`bpDbpGradient`,legendShape:`circle`}],xAxisKey:`time`,yAxisDomain:[50,180],renderTooltip:e=>(0,C.jsx)(w,{...e}),height:180,showLegend:!1})]})});var E=(0,g.memo)(({active:e,payload:t})=>{var n;let{t:r}=o();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,C.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,C.jsx)(`p`,{className:`font-medium mb-1`,children:i.time}),(0,C.jsxs)(`p`,{className:`text-red-300`,children:[r(`vitals.heartRate`,`Heart Rate`),`: `,i.value,` `,r(`units.bpm`,`bpm`)]})]}):null});E.displayName=`HRCustomTooltip`;const D=(0,g.memo)(({latest:t,avg:r,max:a,min:s,reference:c,status:f,chart:p,className:m=``})=>{let{t:_}=o(),v=l.heartRate,y=(0,g.useMemo)(()=>!p||p.length===0?[{time:`00:00`,value:65,range:[60,70]},{time:`04:00`,value:62,range:[58,68]},{time:`08:00`,value:75,range:[70,85]},{time:`12:00`,value:82,range:[75,90]},{time:`16:00`,value:78,range:[72,88]},{time:`20:00`,value:70,range:[65,78]}]:p.map(e=>{var t,n,r;return{time:e.time,value:(t=e.value)==null?0:t,range:[Math.max(0,((n=e.value)==null?70:n)-10),((r=e.value)==null?70:r)+10]}}),[p]);return(0,C.jsxs)(d,{className:m,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,C.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,C.jsx)(i,{className:`w-5 h-5`,style:{color:v}}),(0,C.jsx)(`span`,{className:`text-base font-semibold text-slate-800`,children:_(`vitals.heartRate`,`Heart rate`)}),(0,C.jsx)(`span`,{className:`text-xs text-slate-400`,children:`bpm`})]}),(0,C.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[_(`daily.standard`,`Standard`),`: `,c]})]}),(0,C.jsxs)(`div`,{className:`flex gap-6 mb-4`,children:[(0,C.jsxs)(`div`,{children:[(0,C.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,C.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:v},children:t==null?`--`:t}),(()=>{if(t===null||r===null)return null;let i=t-r;if(i===0)return null;let a=i>0?n:e;return(0,C.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:i>0?u.trend.up:u.trend.down},children:[(0,C.jsx)(a,{className:`w-3 h-3`}),Math.abs(i)]})})()]}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:_(`daily.newestValue`,`Newest value`)})]}),(0,C.jsxs)(`div`,{children:[(0,C.jsx)(`span`,{className:`text-2xl font-semibold text-slate-700`,children:r==null?`--`:r}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:_(`daily.average`,`Average`)})]})]}),(0,C.jsx)(h,{data:y,lines:[{dataKey:`value`,areaDataKey:`range`,color:v,label:_(`vitals.heartRate`,`Heart Rate`),showArea:!0,gradientId:`hrGradient`,legendShape:`line`}],xAxisKey:`time`,yAxisDomain:[40,120],renderTooltip:e=>(0,C.jsx)(E,{...e}),height:180,showLegend:!1})]})});var O=(0,g.memo)(({active:e,payload:t})=>{var n;let{t:r}=o();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,C.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,C.jsx)(`p`,{className:`font-medium mb-1`,children:i.time}),(0,C.jsxs)(`p`,{className:`text-amber-300`,children:[r(`vitals.bloodGlucose`,`Blood Glucose`),`: `,i.value.toFixed(1),` `,r(`units.mmolL`,`mmol/L`)]})]}):null});O.displayName=`GlucoseCustomTooltip`;const k=(0,g.memo)(({latest:t,avg:r,max:a,min:s,reference:c,status:u,chart:f,className:p=``})=>{let{t:m}=o(),_=l.glucose,v=(0,g.useMemo)(()=>!f||f.length===0?[{time:`06:00`,value:5.2,range:[4.5,6]},{time:`08:00`,value:7.5,range:[6.5,8.5]},{time:`10:00`,value:6.2,range:[5.5,7]},{time:`12:00`,value:7.8,range:[7,8.5]},{time:`14:00`,value:6.5,range:[5.8,7.2]},{time:`18:00`,value:5.8,range:[5,6.5]}]:f.map(e=>{var t,n,r;return{time:e.time,value:(t=e.value)==null?0:t,range:[Math.max(0,((n=e.value)==null?5.5:n)-1),((r=e.value)==null?5.5:r)+1]}}),[f]);return(0,C.jsxs)(d,{className:p,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,C.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,C.jsx)(i,{className:`w-5 h-5`,style:{color:_}}),(0,C.jsx)(`span`,{className:`text-base font-semibold text-slate-800`,children:m(`vitals.bloodGlucose`,`POCT`)}),(0,C.jsx)(`span`,{className:`text-xs text-slate-400`,children:`mmol/L`})]}),(0,C.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[m(`daily.standard`,`Standard`),`: `,c]})]}),(0,C.jsxs)(`div`,{className:`flex gap-6 mb-4`,children:[(0,C.jsxs)(`div`,{children:[(0,C.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,C.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:_},children:t===null?`--`:t.toFixed(1)}),(()=>{if(t===null||r===null)return null;let i=t-r;return Math.abs(i)<.1?null:(0,C.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:i>0?`#EF4444`:`#10B981`},children:[(0,C.jsx)(i>0?n:e,{className:`w-3 h-3`}),Math.abs(i).toFixed(1)]})})()]}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:m(`daily.newestValue`,`Newest value`)})]}),(0,C.jsxs)(`div`,{children:[(0,C.jsx)(`span`,{className:`text-2xl font-semibold text-slate-700`,children:r===null?`--`:r.toFixed(1)}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:m(`daily.average`,`Average`)})]})]}),(0,C.jsx)(h,{data:v,lines:[{dataKey:`value`,areaDataKey:`range`,color:_,label:m(`vitals.bloodGlucose`,`Blood Glucose`),showArea:!0,gradientId:`glucoseGradient`,legendShape:`line`}],xAxisKey:`time`,yAxisDomain:[3,12],renderTooltip:e=>(0,C.jsx)(O,{...e}),height:180,showLegend:!1})]})});var A=(0,g.memo)(({active:e,payload:t})=>{var n;let{t:r}=o();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,C.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,C.jsx)(`p`,{className:`font-medium mb-1`,children:i.time}),(0,C.jsxs)(`p`,{className:`text-cyan-300`,children:[`SpO2: `,i.value,`%`]})]}):null});A.displayName=`SpO2CustomTooltip`;const j=(0,g.memo)(({latest:t,avg:r,max:a,min:s,reference:c,status:f,chart:p,className:m=``})=>{let{t:_}=o(),v=l.spo2,y=(0,g.useMemo)(()=>!p||p.length===0?[{time:`00:00`,value:97,range:[95,98]},{time:`04:00`,value:96,range:[94,98]},{time:`08:00`,value:98,range:[96,99]},{time:`12:00`,value:97,range:[95,99]},{time:`16:00`,value:98,range:[96,99]},{time:`20:00`,value:97,range:[95,98]}]:p.map(e=>{var t,n,r;return{time:e.time,value:(t=e.value)==null?0:t,range:[Math.max(90,((n=e.value)==null?97:n)-2),Math.min(100,((r=e.value)==null?97:r)+2)]}}),[p]);return(0,C.jsxs)(d,{className:m,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,C.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,C.jsx)(i,{className:`w-5 h-5`,style:{color:v}}),(0,C.jsx)(`span`,{className:`text-base font-semibold text-slate-800`,children:_(`vitals.spo2`,`SpO2`)}),(0,C.jsx)(`span`,{className:`text-xs text-slate-400`,children:`%`})]}),(0,C.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[_(`daily.standard`,`Standard`),`: `,c]})]}),(0,C.jsx)(`div`,{className:`bg-slate-50 rounded-xl px-4 py-3 mb-4`,children:(0,C.jsxs)(`div`,{className:`flex gap-6`,children:[(0,C.jsxs)(`div`,{children:[(0,C.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,C.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:v},children:t==null?`--`:t}),(()=>{if(t===null||r===null)return null;let i=t-r;if(i===0)return null;let a=i>0?n:e;return(0,C.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:i>0?u.trend.down:u.trend.up},children:[(0,C.jsx)(a,{className:`w-3 h-3`}),Math.abs(i)]})})()]}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:_(`daily.newestValue`,`Newest value`)})]}),(0,C.jsxs)(`div`,{children:[(0,C.jsx)(`span`,{className:`text-2xl font-semibold text-slate-700`,children:r==null?`--`:r}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:_(`daily.average`,`Average`)})]})]})}),(0,C.jsx)(h,{data:y,lines:[{dataKey:`value`,areaDataKey:`range`,color:v,label:`SpO2`,showArea:!0,gradientId:`spo2Gradient`,legendShape:`line`}],xAxisKey:`time`,yAxisDomain:[90,100],renderTooltip:e=>(0,C.jsx)(A,{...e}),height:180,showLegend:!1})]})});function M(){let{t:e}=o(),[n,r]=(0,g.useState)(()=>_()),[i,a]=(0,g.useState)(y());return(0,g.useEffect)(()=>{r(_())},[i]),n?(0,C.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:`#F1EFEE`},children:(0,C.jsx)(`div`,{className:`${s.pageMaxWidth} mx-auto`,children:(0,C.jsxs)(`div`,{className:`p-4 space-y-4`,children:[(0,C.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,C.jsx)(`span`,{className:`text-xs text-slate-500`,children:`Demo Mode`}),(0,C.jsx)(`button`,{onClick:()=>{a(S())},className:`w-10 h-5 rounded-full transition-colors ${i?`bg-orange-400`:`bg-slate-300`}`,children:(0,C.jsx)(`span`,{className:`block w-4 h-4 bg-white rounded-full shadow transform transition-transform ${i?`translate-x-5`:`translate-x-0.5`}`})})]}),(0,C.jsx)(p,{score:n.score,maxScore:100,percentile:n.percentile,percentileMessage:n.percentileMessage,aiTags:n.aiTags,themeColor:`#FB923D`,title:e(`daily.todayScore`,`Today's score`),icon:(0,C.jsx)(t,{className:`w-6 h-6 text-white`})}),(0,C.jsxs)(`div`,{className:`space-y-4`,children:[(0,C.jsx)(`h3`,{className:`text-base font-semibold text-slate-800 px-1`,children:e(`daily.coreIndicators`,`Core indicator Analysis`)}),(0,C.jsx)(T,{latest:n.indicators.bloodPressure.latest,avg:n.indicators.bloodPressure.avg,max:n.indicators.bloodPressure.max,min:n.indicators.bloodPressure.min,reference:n.indicators.bloodPressure.reference,status:n.indicators.bloodPressure.status,chart:n.indicators.bloodPressure.chart}),(0,C.jsx)(D,{latest:n.indicators.heartRate.latest,avg:n.indicators.heartRate.avg,max:n.indicators.heartRate.max,min:n.indicators.heartRate.min,reference:n.indicators.heartRate.reference,status:n.indicators.heartRate.status,chart:n.indicators.heartRate.chart}),(0,C.jsx)(k,{latest:n.indicators.bloodGlucose.latest,avg:n.indicators.bloodGlucose.avg,max:n.indicators.bloodGlucose.max,min:n.indicators.bloodGlucose.min,reference:n.indicators.bloodGlucose.reference,status:n.indicators.bloodGlucose.status,chart:n.indicators.bloodGlucose.chart}),(0,C.jsx)(j,{latest:n.indicators.bloodOxygen.latest,avg:n.indicators.bloodOxygen.avg,max:n.indicators.bloodOxygen.max,min:n.indicators.bloodOxygen.min,reference:n.indicators.bloodOxygen.reference,status:n.indicators.bloodOxygen.status,chart:n.indicators.bloodOxygen.chart})]}),n.aiInsights.length>0&&(0,C.jsx)(f,{insights:n.aiInsights,themeColor:c.primary}),n.suggestions.length>0&&(0,C.jsx)(m,{suggestions:n.suggestions}),(0,C.jsx)(`p`,{className:`text-xs text-slate-400 text-center px-4 py-2`,children:e(`common.disclaimer`,`The monitoring results of this product are for reference only.`)})]})})}):null}export{M as default};