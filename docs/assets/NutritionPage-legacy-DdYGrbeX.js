System.register(["./vendor-legacy-BFWz_Ol4.js","./vendor-charts-legacy-T56nRIl-.js","./vendor-router-legacy-dtk8Qgi9.js","./vendor-i18n-legacy-fjOwBjkb.js","./theme-legacy-BPmhlnTm.js","./card-legacy-BAqfJ-x3.js","./useUrlParams-legacy-DwHop4BH.js"],function(e,t){var s,a,l,n,r,i,c,d,o,x,m,u,h,g,j,f,p,b,v,N,w,y,D,k,C,F,S,E,A,M,$,B,R,T,z;function L(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")}`}return{setters:[function(e){s=e.S,a=e.at,l=e.d,n=e.h,r=e.n,i=e.r,c=e.rt,d=e.u,o=e.y},function(e){x=e.c,m=e.d,u=e.i,h=e.m,g=e.o,j=e.p,f=e.r,p=e.s,b=e.v},function(e){},function(e){v=e.n},function(e){N=e.c},function(e){w=e.t},function(e){y=e.n,D=e.t}],execute:function(){k=a(),C={weeklyManagement:{currentCal:4350,targetCal:2350,remainingCal:2350,percentage:75,status:"good"},metabolismTrend:[{date:"Mon",value:1800,target:2e3},{date:"Tue",value:2100,target:2e3},{date:"Wed",value:2200,target:2e3},{date:"Thu",value:1700,target:2e3},{date:"Fri",value:2400,target:2e3},{date:"Sat",value:2300,target:2e3},{date:"Sun",value:1900,target:2e3}],nutrientStructure:[{label:"Carb",current:300,total:400,unit:"g",color:"#86EFAC"},{label:"Fat",current:62.3,total:80,unit:"g",color:"#FB923D"},{label:"Protein",current:130,total:150,unit:"g",color:"#93C5FD"}],microElements:[{name:"Ca",value:721,unit:"mg",range:[800,1200],status:"low"},{name:"Na",value:1743,unit:"mg",range:[1e3,2e3],status:"normal"},{name:"Fe",value:13,unit:"mg",range:[10,20],status:"normal"},{name:"Zn",value:12,unit:"g",range:[10,15],status:"normal"},{name:"Vitamin A",value:113,unit:"Î¼g",range:[600,900],status:"low"},{name:"Vitamin C",value:9,unit:"mg",range:[60,100],status:"low"}],recipes:[{id:"1",title:"Barbecue",calories:334,imageUrl:"https://images.unsplash.com/photo-1529193591184-b1d58069ecdd?w=800&q=80",tags:["High Protein","Lunch"]},{id:"2",title:"Salmon Salad",calories:250,imageUrl:"https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=800&q=80",tags:["Healthy","Dinner"]}],analysis:{score:85,summary:"Your diet structure is good, but you need to pay attention to Vitamin intake.",details:["Carbohydrate intake is within the normal range.","Fat intake is slightly high, consider reducing oil usage.","Protein intake is good, keep it up.","Micro-elements Calcium and Vitamin A are insufficient."]}},F=async()=>new Promise(e=>{setTimeout(()=>{e(C)},500)}),S=c(),E=({data:e,className:t})=>{if(!e)return null;const s=3500,a=[{name:"Low",value:1155,color:"#93C5FD"},{name:"Normal",value:1155,color:"#86EFAC"},{name:"Excess",value:1190,color:"#FB923D"}];return Math.min(s,Math.max(0,e.currentCal)),(0,S.jsxs)(w,{className:`${t} p-5 relative overflow-hidden`,children:[(0,S.jsx)("div",{className:"flex items-center justify-between mb-2",children:(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(i,{className:"w-5 h-5 text-orange-500"}),(0,S.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Weekly average report"})]})}),(0,S.jsxs)("div",{className:"flex justify-between items-center text-xs text-slate-400 mb-4",children:[(0,S.jsx)("span",{children:"Weekly intake report"}),"alert"===e.status&&(0,S.jsxs)("span",{className:"flex items-center gap-1 text-orange-500",children:[(0,S.jsx)(o,{className:"w-3 h-3"}),"Excessive intake"]})]}),(0,S.jsxs)("div",{className:"h-48 relative -mt-4",children:[(0,S.jsx)(b,{width:"100%",height:"100%",children:(0,S.jsx)(f,{children:(0,S.jsx)(j,{data:a,cx:"50%",cy:"70%",startAngle:180,endAngle:0,innerRadius:"75%",outerRadius:"100%",paddingAngle:2,dataKey:"value",stroke:"none",cornerRadius:5,children:a.map((e,t)=>(0,S.jsx)(h,{fill:e.color},`cell-${t}`))})})}),(0,S.jsx)("div",{className:"absolute inset-x-0 bottom-[30%] flex justify-center items-end pointer-events-none",children:(0,S.jsx)("div",{className:"relative w-full max-w-[220px]",style:{height:0},children:(0,S.jsxs)("div",{className:"absolute bottom-0 left-1/2 w-[50%] h-0 origin-left flex items-center justify-start transition-transform duration-1000 ease-out",style:{transform:`rotate(${Math.min(e.currentCal,s)/s*180-180}deg)`},children:[(0,S.jsx)("div",{className:"w-[90%] h-3 bg-orange-500 rounded-r-full relative shadow-sm"}),(0,S.jsx)("div",{className:"absolute -left-3 top-1/2 -translate-y-1/2 w-6 h-6 bg-orange-500 rounded-full border-[3px] border-white shadow-md z-10 box-content"})]})})}),(0,S.jsxs)("div",{className:"absolute inset-0 flex flex-col items-center pt-[35%] pointer-events-none",children:[(0,S.jsx)("span",{className:"text-4xl font-bold text-orange-500",children:e.currentCal}),(0,S.jsx)("span",{className:"text-sm font-medium text-slate-400",children:"kcal"}),(0,S.jsxs)("span",{className:"text-xs text-slate-400 mt-1",children:["Target: ",e.targetCal," kcal"]})]})]}),(0,S.jsxs)("div",{className:"grid grid-cols-2 gap-4 mt-2",children:[(0,S.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-3 flex flex-col items-center justify-center",children:[(0,S.jsx)("span",{className:"text-xs text-slate-400 mb-1",children:"Calorie intake"}),(0,S.jsxs)("span",{className:"text-xl font-bold text-orange-500",children:["+",e.remainingCal," ",(0,S.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"kcal"})]})]}),(0,S.jsxs)("div",{className:"bg-slate-50 rounded-2xl p-3 flex flex-col items-center justify-center",children:[(0,S.jsx)("span",{className:"text-xs text-slate-400 mb-1",children:"Average consumption"}),(0,S.jsxs)("span",{className:"text-xl font-bold text-orange-400",children:["--- ",(0,S.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"kcal"})]})]})]})]})},A=({data:e,className:t})=>e?(0,S.jsxs)(w,{className:`${t} p-5`,children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,S.jsx)(i,{className:"w-5 h-5 text-orange-500"}),(0,S.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Basal metabolism trend"}),(0,S.jsx)("span",{className:"ml-auto flex items-center gap-1 text-xs text-slate-500 bg-white border border-slate-200 px-2 py-1 rounded-full shadow-sm",children:"Avg 2100 kcal"})]}),(0,S.jsx)("div",{className:"h-48 w-full",children:(0,S.jsx)(b,{width:"100%",height:"100%",children:(0,S.jsxs)(u,{data:e,margin:{top:10,right:0,left:-20,bottom:0},barSize:12,children:[(0,S.jsx)(m,{strokeDasharray:"3 3",vertical:!1,stroke:"#F1F5F9"}),(0,S.jsx)(p,{dataKey:"date",axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94A3B8"},dy:10}),(0,S.jsx)(g,{axisLine:!1,tickLine:!1,tick:{fontSize:10,fill:"#94A3B8"}}),(0,S.jsx)(x,{dataKey:"value",radius:[6,6,6,6],children:e.map((e,t)=>(0,S.jsx)(h,{fill:e.value>e.target?"#FB923D":e.value<.8*e.target?"#93C5FD":"#86EFAC"},`cell-${t}`))})]})})}),(0,S.jsxs)("div",{className:"flex justify-center gap-6 mt-2",children:[(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("span",{className:"w-2 h-2 rounded-full bg-green-300"}),(0,S.jsx)("span",{className:"text-xs text-slate-500",children:"Meet"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-300"}),(0,S.jsx)("span",{className:"text-xs text-slate-500",children:"Insufficient"})]}),(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)("span",{className:"w-2 h-2 rounded-full bg-orange-400"}),(0,S.jsx)("span",{className:"text-xs text-slate-500",children:"Excess"})]})]})]}):null,M=({data:e,className:t})=>e?(0,S.jsxs)(w,{className:`${t} p-5`,children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,S.jsx)(n,{className:"w-5 h-5 text-orange-500"}),(0,S.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Diet analysis"})]}),(0,S.jsxs)("div",{className:"space-y-4",children:[(0,S.jsxs)("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-100",children:[(0,S.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,S.jsx)("span",{className:"text-sm font-semibold text-orange-800",children:"Health Score"}),(0,S.jsx)("span",{className:"text-2xl font-bold text-orange-500",children:e.score})]}),(0,S.jsx)("p",{className:"text-sm text-orange-700 leading-relaxed",children:e.summary})]}),(0,S.jsx)("div",{className:"space-y-2",children:e.details.map((e,t)=>(0,S.jsxs)("div",{className:"flex items-start gap-2",children:[(0,S.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-orange-300 mt-2 flex-shrink-0"}),(0,S.jsx)("p",{className:"text-sm text-slate-600 leading-relaxed",children:e})]},t))})]})]}):null,$=({data:e,className:t})=>e?(0,S.jsxs)(w,{className:`${t} p-5`,children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,S.jsx)(s,{className:"w-5 h-5 text-orange-500"}),(0,S.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Micro-element structure"})]}),(0,S.jsx)("div",{className:"flex flex-col gap-4",children:e.map((e,t)=>(0,S.jsxs)("div",{children:[(0,S.jsxs)("div",{className:"flex justify-between items-baseline mb-1",children:[(0,S.jsx)("span",{className:"text-sm font-medium text-slate-700",children:e.label}),(0,S.jsxs)("div",{children:[(0,S.jsx)("span",{className:"text-lg font-bold text-slate-800",style:{color:e.color},children:e.current}),(0,S.jsx)("span",{className:"text-xs text-slate-400 ml-1",children:e.unit}),(0,S.jsxs)("span",{className:"text-xs text-slate-400 ml-2",children:["Target: ",e.total]})]})]}),(0,S.jsx)("div",{className:"h-2 w-full bg-slate-100 rounded-full overflow-hidden",children:(0,S.jsx)("div",{className:"h-full rounded-full transition-all duration-500",style:{width:`${Math.min(100,e.current/e.total*100)}%`,backgroundColor:e.color}})})]},t))}),(0,S.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl text-xs text-slate-600 leading-relaxed",children:"Your intake of carbohydrates, protein, and fat is relatively balanced. Keep focusing on Vitamin intake."})]}):null,B=({data:e,className:t})=>e?(0,S.jsxs)(w,{className:`${t} p-5`,children:[(0,S.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[(0,S.jsx)(l,{className:"w-5 h-5 text-orange-500"}),(0,S.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Micro-element status"})]}),(0,S.jsx)("div",{className:"grid grid-cols-2 gap-3",children:e.map((e,t)=>{const s="normal"===e.status?"bg-green-100 text-green-600":"low"===e.status?"bg-blue-100 text-blue-600":"bg-orange-100 text-orange-600",a="normal"===e.status?"Normal":"low"===e.status?"Insufficient":"Excess",l="normal"===e.status?"#86EFAC":"low"===e.status?"#93C5FD":"#FB923D",n="low"===e.status?"30%":"normal"===e.status?"60%":"90%";return(0,S.jsxs)("div",{className:"bg-slate-50 p-3 rounded-xl border border-slate-100",children:[(0,S.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,S.jsx)("span",{className:"text-sm font-semibold text-slate-700",children:e.name}),(0,S.jsx)("span",{className:`text-[10px] px-1.5 py-0.5 rounded-md font-medium ${s}`,children:a})]}),(0,S.jsxs)("div",{className:"flex items-baseline gap-1 mb-2",children:[(0,S.jsx)("span",{className:"text-xl font-bold text-slate-800",children:e.value}),(0,S.jsx)("span",{className:"text-xs text-slate-400",children:e.unit})]}),(0,S.jsx)("div",{className:"relative h-1.5 bg-slate-200 rounded-full w-full overflow-hidden",children:(0,S.jsx)("div",{className:"absolute h-full rounded-full",style:{width:n,backgroundColor:l}})}),(0,S.jsxs)("div",{className:"flex justify-between text-[10px] text-slate-400 mt-1",children:[(0,S.jsx)("span",{children:"Range"}),(0,S.jsxs)("span",{children:[e.range[0],"-",e.range[1]]})]})]},t)})}),(0,S.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-xl text-center text-sm font-medium text-blue-600",children:"View all elements >"})]}):null,R=({total:e,current:t,onSelect:s,activeColor:a="#FB923D",inactiveColor:l="#D1D5DB"})=>e<=1?null:(0,S.jsx)("div",{className:"flex justify-center items-center gap-2 mt-4",children:Array.from({length:e}).map((e,n)=>(0,S.jsx)("button",{onClick:()=>s(n),className:"transition-all duration-300",style:{width:n===t?24:8,height:8,borderRadius:4,backgroundColor:n===t?a:l},"aria-label":`Go to slide ${n+1}`},n))}),T=({items:e,renderItem:t,className:s,isLoading:a,header:l,emptyMessage:n="No data available",indicatorActiveColor:r,indicatorInactiveColor:i})=>{const[c,o]=(0,k.useState)(0),x=(0,k.useRef)(null),m=(0,k.useRef)(0),u=(0,k.useRef)(0),h=(0,k.useRef)(0),g=(0,k.useRef)(!1),[j,f]=(0,k.useState)(0);(0,k.useEffect)(()=>{o(0)},[e.length]);const p=(0,k.useCallback)(e=>{m.current=e.touches[0].clientX,u.current=e.touches[0].clientY,g.current=!1,f(0)},[]),b=(0,k.useCallback)(t=>{const s=t.touches[0].clientX,a=t.touches[0].clientY,l=s-m.current,n=a-u.current;if(Math.abs(l)>Math.abs(n)&&Math.abs(l)>10){g.current=!0;let t=l;(0===c&&l>0||c===e.length-1&&l<0)&&(t=.3*l),f(t)}h.current=s},[c,e.length]),v=(0,k.useCallback)(()=>{const t=h.current-m.current;g.current&&(t>50&&c>0?o(e=>e-1):t<-50&&c<e.length-1&&o(e=>e+1)),f(0),g.current=!1,m.current=0,h.current=0},[c,e.length]),y=(0,k.useCallback)(e=>{o(e)},[]),D=100*-c;return(0,S.jsxs)(w,{className:`${s} relative overflow-hidden`,children:[(0,S.jsx)("div",{className:"absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out "+(a?"opacity-100":"opacity-0 pointer-events-none"),style:{backgroundColor:N.loadingOverlay},children:(0,S.jsx)(d,{className:"w-8 h-8 text-white animate-spin"})}),l&&(0,S.jsx)("div",{className:"mb-4",children:l}),e.length>0?(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{ref:x,className:"relative overflow-hidden touch-pan-y",onTouchStart:p,onTouchMove:b,onTouchEnd:v,style:{touchAction:"pan-y pinch-zoom"},children:(0,S.jsx)("div",{className:"flex",style:{transform:`translateX(calc(${D}% + ${j}px))`,transition:0===j?"transform 0.3s ease-out":"none"},children:e.map((e,s)=>(0,S.jsx)("div",{className:"w-full flex-shrink-0 px-1",children:t(e,s)},s))})}),(0,S.jsx)(R,{total:e.length,current:c,onSelect:y,activeColor:r,inactiveColor:i})]}):(0,S.jsx)("div",{className:"text-center py-8 text-slate-400 text-sm",children:n})]})},z=({data:e,className:t})=>{if(!e)return null;const s=(0,S.jsxs)("div",{className:"flex items-center gap-2",children:[(0,S.jsx)(r,{className:"w-5 h-5 text-orange-500"}),(0,S.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:"Complicated recipes"})]});return(0,S.jsx)(T,{className:t,items:e,renderItem:e=>(0,S.jsxs)("div",{className:"bg-orange-50 rounded-2xl p-4 flex gap-4 items-center",children:[(0,S.jsx)("div",{className:"w-20 h-20 rounded-xl overflow-hidden flex-shrink-0 bg-gray-200",children:(0,S.jsx)("img",{src:e.imageUrl,alt:e.title,className:"w-full h-full object-cover"})}),(0,S.jsxs)("div",{className:"flex-1",children:[(0,S.jsx)("h4",{className:"text-base font-bold text-slate-800 mb-1",children:e.title}),(0,S.jsx)("div",{className:"flex gap-2 mb-2",children:e.tags.map(e=>(0,S.jsx)("span",{className:"text-[10px] bg-white text-orange-600 px-2 py-0.5 rounded-full border border-orange-100",children:e},e))}),(0,S.jsxs)("div",{className:"text-lg font-bold text-orange-500",children:["+",e.calories," ",(0,S.jsx)("span",{className:"text-xs font-normal text-slate-500",children:"kcal"})]})]}),(0,S.jsx)("div",{className:"w-8 h-8 rounded-full bg-orange-500 flex items-center justify-center text-white shadow-md shadow-orange-200",children:">"})]}),header:s,indicatorActiveColor:"#FB923D",indicatorInactiveColor:"#FED7AA"})},e("NutritionPage",()=>{const{t:e}=v(),{theme:t}=D(),[s,a]=(0,k.useState)(null),[l,n]=(0,k.useState)(()=>{const e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}}),r=(0,k.useMemo)(()=>({start:L(l.start),end:L(l.end)}),[l]);return(0,k.useEffect)(()=>{(async()=>{try{a(await F())}catch(e){console.error("Failed to load nutrition data",e)}})()},[l]),(0,S.jsxs)("div",{className:"min-h-screen bg-[#F1EFEE] pb-20",children:[" ",(0,S.jsx)("div",{className:"sticky top-0 z-20 py-3 px-4 bg-[#F1EFEE]",children:(0,S.jsx)("div",{className:"flex justify-center",children:(0,S.jsx)(y,{startDate:r.start,endDate:r.end,onPrevious:()=>{n(e=>{const t=new Date(e.start),s=new Date(e.end);return t.setDate(t.getDate()-7),s.setDate(s.getDate()-7),{start:t,end:s}})},onNext:()=>{const e=new Date;l.end>=e||n(t=>{const s=new Date(t.start),a=new Date(t.end);if(s.setDate(s.getDate()+7),a.setDate(a.getDate()+7),a>e){const e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}}return{start:s,end:a}})},disableNext:l.end>=new Date((new Date).setHours(0,0,0,0))})})}),(0,S.jsx)("div",{className:"flex justify-center px-4",children:(0,S.jsxs)("div",{className:`w-full ${N.pageMaxWidth} space-y-4`,children:[(0,S.jsx)(E,{data:null==s?void 0:s.weeklyManagement}),(0,S.jsx)(A,{data:null==s?void 0:s.metabolismTrend}),(0,S.jsx)(M,{data:null==s?void 0:s.analysis}),(0,S.jsx)($,{data:null==s?void 0:s.nutrientStructure}),(0,S.jsx)(B,{data:null==s?void 0:s.microElements}),(0,S.jsx)(z,{data:null==s?void 0:s.recipes})]})})]})})}}});