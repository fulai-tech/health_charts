import{ot as e}from"./vendor-i_a7m9KR.js";import{_ as t,c as n,d as r,h as i,m as a,o,p as s,r as c,s as l,t as u}from"./vendor-charts-uxJ0cBSP.js";import{E as d,d as f,j as p,s as m}from"./vendor-react-B4dzC9y_.js";import{a as h,t as g}from"./index-B6oysRiB.js";import{n as _,r as v,t as y}from"./SuggestionsList-CwoUZ5Di.js";var b=e();function x(){return{score:88,level:`good`,levelLabel:`Good`,percentile:95,percentileMessage:`Exceeding 95% people with same age!`,aiTags:[`Strong self-regulation`,`Large mood swings`,`Afternoon Anxiety`],chart:[{hour:`08:00`,label:`8点-9点`,positive:60,neutral:30,negative:10},{hour:`10:00`,label:`10点-11点`,positive:50,neutral:40,negative:10},{hour:`12:00`,label:`12点-13点`,positive:40,neutral:60,negative:0},{hour:`14:00`,label:`14点-15点`,positive:30,neutral:50,negative:20},{hour:`16:00`,label:`16点-17点`,positive:20,neutral:65,negative:15},{hour:`18:00`,label:`18点-19点`,positive:35,neutral:50,negative:15},{hour:`20:00`,label:`20点-21点`,positive:45,neutral:45,negative:10},{hour:`22:00`,label:`22点-23点`,positive:55,neutral:40,negative:5}],distribution:{mainEmotion:`HAPPY`,mainEmotionLabel:`Happy`,items:[{type:`HAPPY`,label:`Happy`,count:42,percent:42},{type:`CALM`,label:`Calm`,count:30,percent:30},{type:`SURPRISED`,label:`Surprise`,count:10,percent:10},{type:`SAD`,label:`Sad`,count:8,percent:8},{type:`ANGRY`,label:`Angry`,count:5,percent:5},{type:`FEARFUL`,label:`Fear`,count:2,percent:2},{type:`DISGUSTED`,label:`Hate`,count:3,percent:3}]},aiInsights:[`The average blood oxygen saturation this week was 94.9%, the same as last week.`,`Your blood oxygen level remained at a high level (98%) from Tuesday to Thursday this week.`],suggestions:[{icon:`/images/daily_report/1.webp`,title:`4-6-4 breathing method`,description:`Relieve current anxiety and lower heart rate.`}]}}var S=`emotion_daily_demo_mode`;function C(){try{return localStorage.getItem(S)===`true`}catch(e){return!1}}function w(){try{localStorage.setItem(S,`true`),console.log(`✅ [Emotion Daily Demo Mode] Enabled`)}catch(e){console.error(`[Demo Mode] Failed to enable:`,e)}}function T(){try{localStorage.setItem(S,`false`),console.log(`✅ [Emotion Daily Demo Mode] Disabled`)}catch(e){console.error(`[Demo Mode] Failed to disable:`,e)}}function E(){let e=!C();return e?w():T(),e}var D=p(),O=e=>{let t=e.toUpperCase();return{HAPPY:g.happy,CALM:g.calm,NEUTRAL:g.neutral,SURPRISED:g.surprised,SAD:g.sad,ANGRY:g.angry,FEARFUL:g.fearful,DISGUSTED:g.disgusted}[t]||`#94a3b8`};const k=(0,b.memo)(({mainEmotion:e,mainEmotionLabel:n,items:r,className:i=``})=>{let{t:o}=d(),l=(0,b.useMemo)(()=>r.map(e=>({name:e.label,value:e.percent,color:O(e.type)})),[r]);return r.filter((e,t)=>t%2==0),r.filter((e,t)=>t%2==1),(0,D.jsxs)(`div`,{className:`bg-white rounded-2xl p-5 shadow-sm ${i}`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,D.jsx)(`span`,{className:`w-1.5 h-4 rounded-full bg-orange-400`}),(0,D.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:o(`daily.emotionDistribution`,`Emotion distribution`)}),(0,D.jsx)(f,{className:`w-4 h-4 text-slate-400 cursor-pointer`})]}),(0,D.jsxs)(`div`,{className:`flex items-center gap-6`,children:[(0,D.jsx)(`div`,{className:`flex-1 grid grid-cols-2 gap-x-4 gap-y-2`,children:r.slice(0,8).map(e=>(0,D.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,D.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:O(e.type)}}),(0,D.jsx)(`span`,{className:`text-sm text-slate-600`,children:e.label}),(0,D.jsxs)(`span`,{className:`text-sm font-medium text-slate-800`,children:[e.percent,`%`]})]},e.type))}),(0,D.jsxs)(`div`,{className:`relative w-48 h-48 flex-shrink-0`,children:[(0,D.jsx)(t,{width:`100%`,height:`100%`,children:(0,D.jsx)(c,{children:(0,D.jsx)(s,{data:l,cx:`50%`,cy:`50%`,innerRadius:75,outerRadius:95,paddingAngle:2,dataKey:`value`,children:l.map((e,t)=>(0,D.jsx)(a,{fill:e.color},`cell-${t}`))})})}),(0,D.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center`,children:[(0,D.jsx)(`span`,{className:`text-xl font-bold`,style:{color:O(e)},children:n}),(0,D.jsx)(`span`,{className:`text-xs text-slate-400`,children:o(`daily.asMain`,`as main`)})]})]})]})]})});var A=e=>{let[t]=e.split(`:`).map(Number);return t},j=(0,b.memo)(({active:e,payload:t,layers:n})=>{var r;if(!e||!t||t.length===0)return null;let i=(r=t[0])==null?void 0:r.payload;return i?(0,D.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,D.jsx)(`p`,{className:`font-medium mb-1`,children:i.label||i.hour}),n.map(e=>(0,D.jsxs)(`p`,{style:{color:e.color},children:[e.label,`: `,i[e.dataKey],`%`]},e.dataKey))]}):null});const M=(0,b.memo)(({data:e,layers:a,height:s=200,yAxisDomain:c=[0,100],showLegend:d=!0,renderTooltip:f,className:p=``})=>{let m=h(),g=(0,b.useMemo)(()=>([0,6,12,18,24].map(e=>({hour:`${e.toString().padStart(2,`0`)}:00`,position:e,...a.reduce((e,t)=>({...e,[t.dataKey]:0}),{})})),e.map(e=>({...e,position:A(e.hour)}))),[e,a]);return(0,D.jsxs)(`div`,{className:p,children:[d&&(0,D.jsx)(`div`,{className:`flex items-center gap-4 mb-3 flex-wrap`,children:a.map(e=>(0,D.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,D.jsx)(`span`,{className:`w-3 h-3 rounded-sm`,style:{backgroundColor:e.color}}),(0,D.jsx)(`span`,{className:`text-xs text-slate-500`,children:e.label})]},e.dataKey))}),(0,D.jsx)(`div`,{style:{height:s},className:`-mx-2`,children:(0,D.jsx)(t,{width:`100%`,height:`100%`,children:(0,D.jsxs)(u,{data:g,margin:{top:10,right:10,left:-15,bottom:0},children:[(0,D.jsx)(r,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,D.jsx)(l,{dataKey:`hour`,type:`category`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,ticks:[`00:00`,`06:00`,`12:00`,`18:00`,`24:00`]}),(0,D.jsx)(o,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:c,tickFormatter:e=>`${e}`}),(0,D.jsx)(i,{content:f||(e=>(0,D.jsx)(j,{...e,layers:a})),wrapperStyle:{outline:`none`,pointerEvents:`none`},allowEscapeViewBox:{x:!1,y:!1}}),a.map((e,t)=>(0,D.jsx)(n,{dataKey:e.dataKey,stackId:`stack`,fill:e.color,radius:t===a.length-1?[4,4,0,0]:[0,0,0,0],maxBarSize:30,...m},e.dataKey))]})})})]})}),N=(0,b.memo)(({data:e,className:t=``})=>{let{t:n}=d(),r=[{dataKey:`positive`,color:g.positive,label:n(`page.emotion.positive`,`Positive`)},{dataKey:`neutral`,color:g.neutral,label:n(`page.emotion.neutral`,`Neutral`)},{dataKey:`negative`,color:g.negative,label:n(`page.emotion.negative`,`Negative`)}];return(0,D.jsxs)(`div`,{className:`bg-white rounded-2xl p-5 shadow-sm ${t}`,children:[(0,D.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,D.jsx)(`span`,{className:`w-1.5 h-4 rounded-full bg-orange-400`}),(0,D.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:n(`daily.emotionProportion`,`Emotional proportion analysis`)})]}),(0,D.jsx)(M,{data:e,layers:r,height:200,yAxisDomain:[0,100],showLegend:!0})]})});function P(){let{t:e}=d(),[t,n]=(0,b.useState)(null),[r,i]=(0,b.useState)(C());return(0,b.useEffect)(()=>{n(x())},[r]),t?(0,D.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:`#F1EFEE`},children:(0,D.jsx)(`div`,{className:`max-w-2xl mx-auto`,children:(0,D.jsxs)(`div`,{className:`p-4 space-y-4`,children:[(0,D.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,D.jsx)(`span`,{className:`text-xs text-slate-500`,children:`Demo Mode`}),(0,D.jsx)(`button`,{onClick:()=>{i(E())},className:`w-10 h-5 rounded-full transition-colors ${r?`bg-orange-400`:`bg-slate-300`}`,children:(0,D.jsx)(`span`,{className:`block w-4 h-4 bg-white rounded-full shadow transform transition-transform ${r?`translate-x-5`:`translate-x-0.5`}`})})]}),(0,D.jsx)(v,{score:t.score,maxScore:100,levelLabel:t.levelLabel,percentile:t.percentile,percentileMessage:t.percentileMessage,aiTags:t.aiTags,themeColor:`#FFD12D`,gradientEndColor:`#FF9D03`,title:e(`daily.todayEmotionScore`,`Today's emotion score`),icon:(0,D.jsx)(m,{className:`w-6 h-6 text-white`})}),(0,D.jsx)(N,{data:t.chart}),(0,D.jsx)(k,{mainEmotion:t.distribution.mainEmotion,mainEmotionLabel:t.distribution.mainEmotionLabel,items:t.distribution.items}),t.aiInsights.length>0&&(0,D.jsx)(_,{insights:t.aiInsights,themeColor:g.primary}),t.suggestions.length>0&&(0,D.jsx)(y,{suggestions:t.suggestions}),(0,D.jsx)(`p`,{className:`text-xs text-slate-400 text-center px-4 py-2`,children:e(`common.disclaimer`,`The monitoring results of this product are for reference only. Some content is generated by AI, so please verify carefully. It should not be used for medical diagnosis. If you feel unwell, please seek medical attention promptly.`)})]})})}):(0,D.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:`Loading...`})}export{P as default};