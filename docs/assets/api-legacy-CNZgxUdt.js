System.register(["./vendor-query-legacy-DmLb6WcG.js","./usePrefetchData-legacy-IN3Mv77r.js"],function(t,e){var a,i,l,n,o,s;function d(t){const e=new Date(t);return`${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")}`}return t({n:function(){return l({featureName:"BP",queryKeyFn:s.trend,fetchFn:t=>i({start_date:t.startDate,end_date:t.endDate})})},t:function(t){return a({queryKey:s.trend(t),queryFn:async()=>{console.log("[BP API] Fetching with dateRange:",t);const e=await i(t?{start_date:t.startDate,end_date:t.endDate}:void 0);return console.log("[BP API] Result:",e),e},select:t=>function(t){var e,a,i,l,s,r,u,c,v,y,g,h,_,p;const w=((null==t||null===(e=t.trend_chart)||void 0===e?void 0:e.chart_data)||[]).map(t=>({date:new Date(t.date),dateLabel:d(t.date),weekdayKey:n[t.label]||"weekdays.mon",systolic:t.systolic||0,diastolic:t.diastolic||0})),m=(null==t||null===(a=t.overview)||void 0===a?void 0:a.systolic_avg)||0,b=(null==t||null===(i=t.overview)||void 0===i?void 0:i.diastolic_avg)||0,D=(k=b,(f=m)<90||k<60?"low":f<120&&k<80?"normal":f<130&&k<80?"elevated":"high");var f,k;const P=(null==t?void 0:t.comparison)||{},S=((null===(l=P.current)||void 0===l?void 0:l.systolic_avg)||m)-((null===(s=P.previous)||void 0===s?void 0:s.systolic_avg)||0),q=((null===(r=P.current)||void 0===r?void 0:r.diastolic_avg)||b)-((null===(u=P.previous)||void 0===u?void 0:u.diastolic_avg)||0),x=S>0?"up":S<0?"down":"stable",F=q>0?"up":q<0?"down":"stable",K=Math.abs(S),R=Math.abs(q),T=w.length>0?{systolic:w[w.length-1].systolic,diastolic:w[w.length-1].diastolic,date:w[w.length-1].date}:null,A=((null==t||null===(c=t.statistics)||void 0===c?void 0:c.distribution)||[]).map(t=>({...t,type:o[t.label]||t.type||"normal"}));return{chartData:w,yAxisRange:(null==t||null===(v=t.trend_chart)||void 0===v?void 0:v.y_axis_range)||{min:60,max:160},summary:{avgSystolic:m,avgDiastolic:b,status:D,statusKey:`status.${D}`,systolicTrend:x,diastolicTrend:F,systolicChange:K,diastolicChange:R,totalCount:(null==t||null===(y=t.statistics)||void 0===y?void 0:y.total_count)||0,distribution:A},comparison:{current:{systolic:(null===(g=P.current)||void 0===g?void 0:g.systolic_avg)||m,diastolic:(null===(h=P.current)||void 0===h?void 0:h.diastolic_avg)||b},previous:{systolic:(null===(_=P.previous)||void 0===_?void 0:_.systolic_avg)||0,diastolic:(null===(p=P.previous)||void 0===p?void 0:p.diastolic_avg)||0},insight:P.insight||null},latestReading:T}}(t),staleTime:3e5,gcTime:6e5,placeholderData:t=>t})}}),{setters:[function(t){a=t.t},function(t){i=t.n,l=t.t}],execute:function(){n={"周一":"weekdays.mon","周二":"weekdays.tue","周三":"weekdays.wed","周四":"weekdays.thu","周五":"weekdays.fri","周六":"weekdays.sat","周日":"weekdays.sun"},o={"正常血压":"normal","正常":"normal","正常高值":"high_normal","低血压":"low_bp","高血压":"high_bp","过低":"low_bp","过高":"high_bp"},s={all:["blood-pressure"],trend:t=>[...s.all,"trend",null==t?void 0:t.startDate,null==t?void 0:t.endDate],details:()=>[...s.all,"details"]}}}});