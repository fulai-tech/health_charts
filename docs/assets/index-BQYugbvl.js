export function __vite_legacy_guard(){import.meta.url,import(`_`).catch(()=>1),(async function*(){})().next()}import{it as t,n,nt as r,ot as i,t as a,tt as o}from"./vendor-i_a7m9KR.js";import{_ as s,a as c,c as l,d as u,f as d,g as f,h as p,i as m,l as h,m as g,n as _,o as v,p as y,r as b,s as x,t as S,u as C}from"./vendor-charts-uxJ0cBSP.js";import{A as w,C as T,D as E,E as D,F as O,I as k,L as A,M as j,N as M,O as N,P,R as F,S as I,T as L,_ as ee,a as te,b as ne,c as R,d as re,f as ie,g as z,h as ae,i as oe,j as se,k as ce,l as le,m as ue,n as de,o as fe,p as pe,r as me,s as he,t as ge,u as _e,v as ve,w as ye,x as be,y as xe}from"./vendor-react-BZA5IW9t.js";import{t as Se}from"./vendor-query-yIoHt1uW.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var Ce=F(),B=i();const we={animationDuration:300,animationEasing:`linear`,isAnimationActive:!0,animationBegin:0},Te={animationDuration:200,animationEasing:`linear`,isAnimationActive:!0},Ee={animationDuration:800,animationEasing:`ease-in-out`,isAnimationActive:!0};function De(){return!0}function Oe(){if(typeof navigator>`u`)return!1;let e=navigator.hardwareConcurrency||4,t=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);return e<=4||t}function ke(){return De()?(console.log(`ðŸ“Š Chart config: WebView mode [true] - simplified animations (300ms)`),we):Oe()?(console.log(`ðŸ“Š Chart config: Low-end device - minimal animations (200ms)`),Te):(console.log(`ðŸ“Š Chart config: Standard device - full animations (800ms)`),Ee)}const V={defaultMargin:{top:5,right:15,left:0,bottom:5},gridStyle:{strokeDasharray:`4 4`,stroke:`#E5E7EB`},axisStyle:{fontSize:12,fill:`#94a3b8`},animation:ke()};function H(...e){return o(r(e))}function Ae(e){return V.animation.animationDuration}function U(){return V.animation}var W=w();function je({startDate:e,endDate:t,onPrevious:n,onNext:r,disableNext:i=!1,className:a}){return(0,W.jsxs)(`div`,{className:H(`flex items-center justify-center gap-4 py-3 px-4 bg-white rounded-full shadow-sm border border-slate-100`,a),children:[(0,W.jsx)(`button`,{onClick:n,className:`p-1 text-slate-400 hover:text-slate-600 transition-colors`,"aria-label":`Previous period`,children:(0,W.jsx)(ee,{className:`w-5 h-5`})}),(0,W.jsxs)(`span`,{className:`text-sm font-medium text-slate-700`,children:[e,` ---- `,t]}),i?(0,W.jsx)(`div`,{className:`w-7 h-7`}):(0,W.jsx)(`button`,{onClick:r,className:`p-1 text-slate-400 hover:text-slate-600 transition-colors`,"aria-label":`Next period`,children:(0,W.jsx)(z,{className:`w-5 h-5`})})]})}var G=(0,B.forwardRef)(({className:e,asChild:t=!1,...n},r)=>(0,W.jsx)(t?ge:`div`,{ref:r,className:H(`rounded-2xl shadow-sm bg-white px-5 py-4 border border-slate-100`,e),...n}));G.displayName=`Card`;var Me=(0,B.forwardRef)(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:H(`flex flex-col space-y-1.5 pb-4`,e),...t}));Me.displayName=`CardHeader`;var Ne=(0,B.forwardRef)(({className:e,...t},n)=>(0,W.jsx)(`h3`,{ref:n,className:H(`text-lg font-semibold text-slate-800`,e),...t}));Ne.displayName=`CardTitle`;var Pe=(0,B.forwardRef)(({className:e,...t},n)=>(0,W.jsx)(`p`,{ref:n,className:H(`text-sm text-slate-500`,e),...t}));Pe.displayName=`CardDescription`;var K=(0,B.forwardRef)(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:H(``,e),...t}));K.displayName=`CardContent`;var Fe=(0,B.forwardRef)(({className:e,...t},n)=>(0,W.jsx)(`div`,{ref:n,className:H(`flex items-center pt-4`,e),...t}));Fe.displayName=`CardFooter`;const q={bp:`rgb(244, 162, 97)`,spo2:`rgb(76, 201, 240)`,heartRate:`rgb(248, 113, 113)`,glucose:`rgb(233, 196, 106)`,sleep:`rgb(167, 139, 250)`},J={bp:`rgba(244, 162, 97, 0.125)`,spo2:`rgba(76, 201, 240, 0.125)`,heartRate:`rgba(248, 113, 113, 0.125)`,glucose:`rgba(233, 196, 106, 0.125)`,sleep:`rgba(167, 139, 250, 0.125)`},Ie={primary:`rgb(16, 185, 129)`,alpha:`rgba(16, 185, 129, 0.125)`},Y={bp:{primary:`rgb(244, 162, 97)`,secondary:`rgba(244, 162, 97, 0.5)`,gradient:{start:`rgb(244, 162, 97)`,end:`rgba(244, 162, 97, 0.125)`}},spo2:{primary:`rgb(76, 201, 240)`,secondary:`rgba(76, 201, 240, 0.5)`,gradient:{start:`rgb(76, 201, 240)`,end:`rgba(76, 201, 240, 0.125)`}},heartRate:{primary:`rgb(248, 113, 113)`,secondary:`rgba(248, 113, 113, 0.5)`,gradient:{start:`rgb(248, 113, 113)`,end:`rgba(248, 113, 113, 0.125)`}},glucose:{primary:`rgb(233, 196, 106)`,secondary:`rgba(233, 196, 106, 0.5)`,gradient:{start:`rgb(233, 196, 106)`,end:`rgba(233, 196, 106, 0.125)`}}},X={loadingOverlay:`rgba(0, 0, 0, 0.27)`},Z={card:{background:`rgb(255, 255, 255)`,border:`rgb(229, 231, 235)`},page:{background:`rgb(248, 249, 250)`},text:{primary:`rgb(31, 41, 55)`,secondary:`rgb(107, 114, 128)`,muted:`rgb(156, 163, 175)`},status:{normal:`rgb(16, 185, 129)`,warning:`rgb(245, 158, 11)`,danger:`rgb(239, 68, 68)`},trend:{up:`rgb(239, 68, 68)`,down:`rgb(16, 185, 129)`,stable:`rgb(107, 114, 128)`},background:{warning:`rgb(248, 248, 248)`,neutral:`rgb(248, 248, 248)`,summaryBox:`rgb(248, 248, 248)`},chart:{grid:`rgb(226, 232, 240)`,tick:`rgb(148, 163, 184)`,activeDot:{fill:`rgb(255, 255, 255)`}}},Le={spo2:{normal:`rgb(178, 238, 177)`,low:`rgb(105, 218, 252)`,too_low:`rgb(248, 113, 113)`},bp:{normal:`rgb(145, 198, 255)`,high_normal:`rgb(178, 238, 177)`,low_bp:`rgb(255, 147, 147)`,high_bp:`rgb(255, 208, 36)`},glucose:{normal:`rgb(178, 238, 177)`,high:`rgb(251, 191, 36)`,too_high:`rgb(248, 113, 113)`,too_low:`rgb(96, 165, 250)`},heartRate:{normal:`rgb(95, 228, 143)`,high:`rgb(251, 191, 36)`,too_high:`rgb(248, 113, 113)`,slow:`rgb(96, 165, 250)`,low:`rgb(96, 165, 250)`}},Q={primary:`rgb(251, 146, 61)`,positive:`rgb(251, 146, 60)`,neutral:`rgb(178, 237, 181)`,negative:`rgb(87, 158, 255)`,happy:`rgb(252, 211, 77)`,surprised:`rgb(251, 146, 60)`,calm:`rgb(110, 231, 183)`,sad:`rgb(148, 163, 184)`,angry:`rgb(96, 165, 250)`,fearful:`rgb(34, 211, 238)`,disgusted:`rgb(167, 139, 250)`};var Re=(0,B.memo)(({active:e,payload:t,label:n})=>{if(!e||!t||t.length===0)return null;let r=t.find(e=>e.dataKey===`systolic`&&e.name===`systolic`),i=t.find(e=>e.dataKey===`diastolic`&&e.name===`diastolic`);return(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:n}),r&&(0,W.jsxs)(`p`,{className:`text-orange-300`,children:[`SBP: `,r.value]}),i&&(0,W.jsxs)(`p`,{className:`text-emerald-300`,children:[`DBP: `,i.value]})]})});const ze=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o;let{t:c}=L(),l=q.bp,d=[{name:`Mon`,systolic:120,diastolic:80},{name:`Tues`,systolic:118,diastolic:78},{name:`Wed`,systolic:122,diastolic:82},{name:`Thu`,systolic:119,diastolic:79},{name:`Fri`,systolic:121,diastolic:81},{name:`Sat`,systolic:117,diastolic:77},{name:`Sun`,systolic:120,diastolic:80}],f=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.chartData)==null?void 0:n.map((e,t)=>({name:[`Mon`,`Tues`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`][t%7],systolic:e.systolic,diastolic:e.diastolic})))==null?d:t},[e==null?void 0:e.chartData]),m=Ae(800);return(0,W.jsxs)(G,{className:`${t} relative`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(de,{className:`w-5 h-5`,style:{color:l}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`page.bloodPressure.trendyReport`)})]}),n&&(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5 text-xs text-slate-400`,children:[(0,W.jsx)(R,{className:`w-3 h-3 animate-spin`}),(0,W.jsx)(`span`,{children:c(`common.loading`)})]})]}),(0,W.jsxs)(`div`,{className:`flex gap-3 mb-5`,children:[(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-orange-50`,children:[(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold`,style:{color:l},children:(r=e==null||(i=e.summary)==null?void 0:i.avgSystolic)==null?`--`:r}),(0,W.jsx)(`span`,{className:`text-sm text-slate-500`,children:c(`units.mmHg`)})]}),(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mt-1`,children:c(`page.bloodPressure.weeksAverageSBP`)})]}),(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-orange-50`,children:[(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold`,style:{color:l},children:(a=e==null||(o=e.summary)==null?void 0:o.avgDiastolic)==null?`--`:a}),(0,W.jsx)(`span`,{className:`text-sm text-slate-500`,children:c(`units.mmHg`)})]}),(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mt-1`,children:c(`page.bloodPressure.weeksAverageDBP`)})]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:l}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:c(`vitals.sbp`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full bg-emerald-400`}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:c(`vitals.dbp`)})]})]}),(0,W.jsx)(`div`,{className:`h-44 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,minWidth:0,minHeight:0,children:(0,W.jsxs)(S,{data:f,margin:{top:10,right:10,left:-15,bottom:0},children:[(0,W.jsxs)(`defs`,{children:[(0,W.jsxs)(`linearGradient`,{id:`sbpGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:l,stopOpacity:.4}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:l,stopOpacity:.05})]}),(0,W.jsxs)(`linearGradient`,{id:`dbpGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:`#10B981`,stopOpacity:.3}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:`#10B981`,stopOpacity:.05})]})]}),(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[60,160]}),(0,W.jsx)(p,{content:(0,W.jsx)(Re,{})}),(0,W.jsx)(h,{type:`monotone`,dataKey:`systolic`,stroke:`transparent`,fill:`url(#sbpGradient)`,name:`systolic-area`,animationDuration:m}),(0,W.jsx)(h,{type:`monotone`,dataKey:`diastolic`,stroke:`transparent`,fill:`url(#dbpGradient)`,name:`diastolic-area`,animationDuration:m}),(0,W.jsx)(C,{type:`monotone`,dataKey:`systolic`,stroke:l,strokeWidth:2,dot:{fill:l,strokeWidth:0,r:4},activeDot:{r:6,stroke:l,strokeWidth:2,fill:`#fff`},name:`systolic`,animationDuration:m}),(0,W.jsx)(C,{type:`monotone`,dataKey:`diastolic`,stroke:`#10B981`,strokeWidth:2,dot:{fill:`#10B981`,strokeWidth:0,r:4},activeDot:{r:6,stroke:`#10B981`,strokeWidth:2,fill:`#fff`},name:`diastolic`,animationDuration:m})]})})})]})});var Be={normal:`status.normal`,high_normal:`status.normalHighValue`,low_bp:`status.tooLow`,high_bp:`status.tooHigh`},Ve=[`normal`,`high_normal`,`low_bp`,`high_bp`];const He=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o;let{t:c}=L(),l=q.bp,u=(r=e==null||(i=e.summary)==null?void 0:i.distribution)==null?[]:r,d=(a=e==null||(o=e.summary)==null?void 0:o.totalCount)==null?0:a,f=(0,B.useMemo)(()=>Ve.map(e=>{let t=u.find(t=>t.type===e);return{type:e,label:c(Be[e]),count:(t==null?void 0:t.count)||0,percent:(t==null?void 0:t.percent)||0,color:Le.bp[e]||`#94A3B8`}}),[u,c]),p=(0,B.useMemo)(()=>f.filter(e=>e.type===`normal`||e.type===`high_normal`).reduce((e,t)=>e+t.count,0),[f]),m=(0,B.useMemo)(()=>f.map(e=>({name:e.label,value:e.percent>0?e.percent:.1,color:e.color})),[f]),h=Ae(800);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(ye,{className:`w-5 h-5`,style:{color:l}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`page.bloodPressure.bpStatistics`)}),(0,W.jsx)(_e,{className:`w-4 h-4 text-slate-400`})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,W.jsxs)(`div`,{className:`mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-4xl font-bold`,style:{color:l},children:p}),(0,W.jsxs)(`span`,{className:`text-base text-slate-400`,children:[`/ `,d,` `,c(`common.times`)]})]}),(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mt-1`,children:c(`page.bloodPressure.normalResults`)})]}),(0,W.jsx)(`div`,{className:`grid grid-cols-2 gap-x-4 gap-y-2`,children:f.map(e=>(0,W.jsxs)(`div`,{className:`flex flex-col`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:e.color}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:e.label})]}),(0,W.jsxs)(`span`,{className:`text-base font-semibold ml-[18px]`,style:{color:e.color},children:[e.count,` `,e.count===1?c(`common.time`):c(`common.times`)]})]},e.type))})]}),(0,W.jsxs)(`div`,{className:`w-40 h-40 relative flex-shrink-0 ml-2`,children:[(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsx)(b,{children:(0,W.jsx)(y,{data:m,cx:`50%`,cy:`50%`,innerRadius:50,outerRadius:72,paddingAngle:3,dataKey:`value`,startAngle:90,endAngle:-270,strokeWidth:0,animationDuration:h,children:m.map((e,t)=>(0,W.jsx)(g,{fill:e.color},`cell-${t}`))})})}),(0,W.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center`,children:[(0,W.jsx)(`span`,{className:`text-lg font-bold`,style:{color:l},children:c(`common.good`)}),(0,W.jsx)(`span`,{className:`text-xs text-slate-400`,children:c(`common.inAverage`)})]})]})]})]})}),Ue=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i;let{t:a}=L(),o=q.bp,s=(r=e==null?void 0:e.comparison)==null?{current:{systolic:0,diastolic:0},previous:{systolic:0,diastolic:0},insight:null}:r,c=(i=e==null?void 0:e.summary)==null?{systolicChange:0,diastolicChange:0,systolicTrend:`stable`,diastolicTrend:`stable`}:i,l=(0,B.useMemo)(()=>e=>e===`up`?(0,W.jsx)(be,{className:`w-4 h-4`}):e===`down`?(0,W.jsx)(I,{className:`w-4 h-4`}):null,[]),u=(0,B.useMemo)(()=>s.insight||a(`page.bloodPressure.defaultInsight`,{defaultValue:`Your blood pressure is generally within the ideal range. Although your systolic blood pressure has risen slightly compared to last week, it remains within the normal fluctuation range.`}),[s.insight,a]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(xe,{className:`w-5 h-5`,style:{color:o}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:a(`page.bloodPressure.compareWithLastWeek`)})]}),(0,W.jsxs)(`div`,{className:`flex gap-3 mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:a(`page.bloodPressure.averageSBP`)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:o},children:e?s.current.systolic:`--`}),(0,W.jsx)(`span`,{className:`text-sm text-slate-400`,children:a(`units.mmHg`)}),c.systolicChange!==0&&(0,W.jsxs)(`div`,{className:`flex items-center gap-0.5 text-sm font-medium`,style:{color:o},children:[l(c.systolicTrend),Math.abs(c.systolicChange)]})]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-1`,children:[a(`time.lastWeek`),`: `,e?s.previous.systolic:`--`,a(`units.mmHg`)]})]}),(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:a(`page.bloodPressure.averageDBP`)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:o},children:e?s.current.diastolic:`--`}),(0,W.jsx)(`span`,{className:`text-sm text-slate-400`,children:a(`units.mmHg`)}),c.diastolicChange!==0&&(0,W.jsxs)(`div`,{className:`flex items-center gap-0.5 text-sm font-medium`,style:{color:o},children:[l(c.diastolicTrend),Math.abs(c.diastolicChange)]})]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-1`,children:[a(`time.lastWeek`),`: `,e?s.previous.diastolic:`--`,a(`units.mmHg`)]})]})]}),(0,W.jsx)(`div`,{className:`p-4 rounded-2xl bg-sky-50`,children:(0,W.jsx)(`p`,{className:`text-sm text-slate-700 leading-relaxed`,children:u})})]})}),We=(0,B.memo)(({titleKey:e=`common.weeklyOverview`,Icon:t,overallText:n,highlightText:r,highlightLabelKey:i=`page.sleep.needsAttention`,highlightColor:a=`#FBBF24`,suggestions:o=[],themeColor:s,className:c,isLoading:l})=>{let{t:u}=L();return(0,W.jsxs)(G,{className:`${c} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${l?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(t,{className:`w-5 h-5`,style:{color:s}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:u(e)})]}),(0,W.jsxs)(`div`,{className:`mb-5`,children:[(0,W.jsx)(`span`,{className:`inline-block px-3 py-1 rounded-full text-white text-xs font-medium mb-2`,style:{backgroundColor:s},children:u(`page.bloodPressure.overallSituation`)}),(0,W.jsx)(`div`,{className:`p-4 rounded-lg`,style:{backgroundColor:`#F8F9FA`,boxShadow:`0 1px 3px rgba(0, 0, 0, 0.08)`},children:(0,W.jsx)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:n})})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`span`,{className:`inline-block px-3 py-1 rounded-full text-white text-xs font-medium mb-2`,style:{backgroundColor:a},children:u(i)}),(0,W.jsx)(`div`,{className:`p-4 rounded-lg`,style:{backgroundColor:`#F8F9FA`,boxShadow:`0 1px 3px rgba(0, 0, 0, 0.08)`},children:(0,W.jsx)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:r})})]}),o&&o.length>0&&(0,W.jsx)(`div`,{className:`mt-4 pt-4 border-t border-slate-100`,children:(0,W.jsx)(`ul`,{className:`space-y-2`,children:o.map((e,t)=>(0,W.jsxs)(`li`,{className:`flex items-start gap-2 text-sm text-slate-600`,children:[(0,W.jsx)(`span`,{style:{color:s},children:`â€¢`}),e]},t))})})]})}),Ge=(0,B.memo)(({data:e,weeklySummary:t,className:n,isLoading:r})=>{let{t:i}=L(),a=q.bp;return(0,W.jsx)(We,{titleKey:`page.bloodPressure.weeklyOverview`,Icon:ie,overallText:(0,B.useMemo)(()=>(t==null?void 0:t.overview)||i(`page.bloodPressure.defaultOverview`,{defaultValue:`Your blood pressure is generally within the ideal range. Although your systolic blood pressure has risen slightly compared to last week, it remains within the normal fluctuation range.`}),[t==null?void 0:t.overview,i]),highlightText:(0,B.useMemo)(()=>(t==null?void 0:t.highlights)||i(`page.bloodPressure.defaultHighlights`,{defaultValue:`The trend chart shows that your blood pressure rose significantly during the week (Wednesday and Thursday), with a peak systolic pressure approaching 150 mmHg. Meanwhile, the statistics show that your blood pressure measurements fluctuated considerably across different levels. We will continue to monitor your condition and help you identify any possible causes for the elevated blood pressure.`}),[t==null?void 0:t.highlights,i]),highlightLabelKey:`page.bloodPressure.needsAttention`,highlightColor:`#FBBF24`,suggestions:t==null?void 0:t.suggestions,themeColor:a,className:n,isLoading:r})}),Ke={baseURL:`https://test.fulai.tech`,auth:{deviceLogin:`/auth/app/login`},trendReview:{overview:`/trend-review/overview`,indicatorDetail:`/trend-review/indicator-detail`},device:{username:`fulai001`,password:`123456`}},qe={accessToken:10080*60*1e3,refreshToken:720*60*60*1e3},Je=`fulai_auth_data`,Ye=new class{constructor(){this.authData=null,this.loadFromStorage()}loadFromStorage(){try{let e=localStorage.getItem(Je);e&&(this.authData=JSON.parse(e))}catch(e){console.error(`Failed to load auth data from storage:`,e),this.authData=null}}saveToStorage(){try{this.authData?localStorage.setItem(Je,JSON.stringify(this.authData)):localStorage.removeItem(Je)}catch(e){console.error(`Failed to save auth data to storage:`,e)}}async login(e){let t=e||{username:Ke.device.username,password:Ke.device.password},r=await n.post(`${Ke.baseURL}${Ke.auth.deviceLogin}`,t,{headers:{"Content-Type":`application/json`,Accept:`application/json`}});if(r.data.code!==0)throw Error(r.data.msg||`Login failed`);let i=Date.now();return this.authData={user:r.data.data.user,accessToken:r.data.data.accessToken,refreshToken:r.data.data.refreshToken,accessTokenExpiry:i+qe.accessToken,refreshTokenExpiry:i+qe.refreshToken},this.saveToStorage(),this.authData}isAuthenticated(){return this.authData?Date.now()<this.authData.accessTokenExpiry-300*1e3:!1}canRefresh(){return this.authData?Date.now()<this.authData.refreshTokenExpiry:!1}getAccessToken(){return this.authData?this.authData.accessToken:null}getRefreshToken(){return this.authData?this.authData.refreshToken:null}getAuthData(){return this.authData}logout(){this.authData=null,this.saveToStorage()}async ensureAuthenticated(){return this.isAuthenticated()||await this.login(),this.authData.accessToken}};function Xe(){let e=n.create({baseURL:Ke.baseURL,headers:{"Content-Type":`application/json`,Accept:`application/json`},timeout:3e4});return e.interceptors.request.use(async e=>{var t;try{let t=await Ye.ensureAuthenticated();t&&(e.headers.Authorization=`Bearer ${t}`)}catch(e){console.error(`Failed to get auth token:`,e)}return console.log(`[API Request]`,(t=e.method)==null?void 0:t.toUpperCase(),e.url,e.data),e},e=>Promise.reject(e)),e.interceptors.response.use(e=>e,async t=>{var n;let r=t.config;if(((n=t.response)==null?void 0:n.status)===401&&!r._retry){r._retry=!0;try{Ye.logout();let t=await Ye.ensureAuthenticated();return r.headers.Authorization=`Bearer ${t}`,e(r)}catch(e){return Promise.reject(e)}}return Promise.reject(t)}),e}const Ze=Xe();function Qe(){let e=new Date,t=e.toISOString().split(`T`)[0],n=new Date(e);n.setDate(n.getDate()-6);let r=n.toISOString().split(`T`)[0];return console.log(`[DateRange]`,{start_date:r,end_date:t}),{start_date:r,end_date:t}}async function $e(e,t){let n=t||Qe(),r={type:e,start_date:n.start_date,end_date:n.end_date},i=await Ze.post(Ke.trendReview.indicatorDetail,r);if(i.data.code!==200)throw Error(i.data.msg||`Failed to fetch indicator detail`);return i.data.data}async function et(e){return $e(`blood_pressure`,e)}async function tt(e){return $e(`heart_rate`,e)}async function nt(e){return $e(`blood_glucose`,e)}async function rt(e){return $e(`blood_oxygen`,e)}async function it(e){return $e(`sleep`,e)}var at={å‘¨ä¸€:`weekdays.mon`,å‘¨äºŒ:`weekdays.tue`,å‘¨ä¸‰:`weekdays.wed`,å‘¨å››:`weekdays.thu`,å‘¨äº”:`weekdays.fri`,å‘¨å…­:`weekdays.sat`,å‘¨æ—¥:`weekdays.sun`},ot={æ­£å¸¸è¡€åŽ‹:`normal`,æ­£å¸¸:`normal`,æ­£å¸¸é«˜å€¼:`high_normal`,ä½Žè¡€åŽ‹:`low_bp`,é«˜è¡€åŽ‹:`high_bp`,è¿‡ä½Ž:`low_bp`,è¿‡é«˜:`high_bp`};function st(e){let t=new Date(e);return`${String(t.getMonth()+1).padStart(2,`0`)}/${String(t.getDate()).padStart(2,`0`)}`}function ct(e,t){return e<90||t<60?`low`:e<120&&t<80?`normal`:e<130&&t<80?`elevated`:`high`}function lt(e){var t,n,r,i,a,o,s,c,l,u,d,f,p,m;let h=((e==null||(t=e.trend_chart)==null?void 0:t.chart_data)||[]).map(e=>({date:new Date(e.date),dateLabel:st(e.date),weekdayKey:at[e.label]||`weekdays.mon`,systolic:e.systolic||0,diastolic:e.diastolic||0})),g=(e==null||(n=e.overview)==null?void 0:n.systolic_avg)||0,_=(e==null||(r=e.overview)==null?void 0:r.diastolic_avg)||0,v=ct(g,_),y=(e==null?void 0:e.comparison)||{},b=((i=y.current)==null?void 0:i.systolic_avg)||g,x=((a=y.previous)==null?void 0:a.systolic_avg)||0,S=((o=y.current)==null?void 0:o.diastolic_avg)||_,C=((s=y.previous)==null?void 0:s.diastolic_avg)||0,w=b-x,T=S-C,E=w>0?`up`:w<0?`down`:`stable`,D=T>0?`up`:T<0?`down`:`stable`,O=Math.abs(w),k=Math.abs(T),A=h.length>0?{systolic:h[h.length-1].systolic,diastolic:h[h.length-1].diastolic,date:h[h.length-1].date}:null,j=((e==null||(c=e.statistics)==null?void 0:c.distribution)||[]).map(e=>({...e,type:ot[e.label]||e.type||`normal`}));return{chartData:h,yAxisRange:(e==null||(l=e.trend_chart)==null?void 0:l.y_axis_range)||{min:60,max:160},summary:{avgSystolic:g,avgDiastolic:_,status:v,statusKey:`status.${v}`,systolicTrend:E,diastolicTrend:D,systolicChange:O,diastolicChange:k,totalCount:(e==null||(u=e.statistics)==null?void 0:u.total_count)||0,distribution:j},comparison:{current:{systolic:((d=y.current)==null?void 0:d.systolic_avg)||g,diastolic:((f=y.current)==null?void 0:f.diastolic_avg)||_},previous:{systolic:((p=y.previous)==null?void 0:p.systolic_avg)||0,diastolic:((m=y.previous)==null?void 0:m.diastolic_avg)||0},insight:y.insight||null},latestReading:A}}function ut(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function dt(e){let t=ce(),{featureName:n,queryKeyFn:r,fetchFn:i,staleTime:a=300*1e3}=e;return{prefetchPreviousWeeks:(0,B.useCallback)((e,o=3)=>{console.log(`[${n} Prefetch] Starting prefetch of ${o} previous weeks`);for(let s=1;s<=o;s++){let o=new Date(e);o.setDate(o.getDate()-7*s);let c=new Date(o);c.setDate(c.getDate()-6);let l={startDate:ut(c),endDate:ut(o)};console.log(`[${n} Prefetch] Week ${s}: ${l.startDate} to ${l.endDate}`),t.prefetchQuery({queryKey:r(l),queryFn:()=>i(l),staleTime:a})}},[t,n,r,i,a])}}const ft={all:[`blood-pressure`],trend:e=>[...ft.all,`trend`,e==null?void 0:e.startDate,e==null?void 0:e.endDate],details:()=>[...ft.all,`details`]};function pt(e){return E({queryKey:ft.trend(e),queryFn:async()=>{console.log(`[BP API] Fetching with dateRange:`,e);let t=await et(e?{start_date:e.startDate,end_date:e.endDate}:void 0);return console.log(`[BP API] Result:`,t),t},select:e=>lt(e),staleTime:300*1e3,gcTime:600*1e3,placeholderData:e=>e})}function mt(){return dt({featureName:`BP`,queryKeyFn:ft.trend,fetchFn:e=>et({start_date:e.startDate,end_date:e.endDate})})}const ht={light:{mode:`light`,background:`#F1EFEE`,cardBackground:`#FFFFFF`,textPrimary:`#1E293B`,textSecondary:`#64748B`,border:`#E2E8F0`},dark:{mode:`dark`,background:`#0F172A`,cardBackground:`#1E293B`,textPrimary:`#F1F5F9`,textSecondary:`#94A3B8`,border:`#334155`}};function gt(){let[e]=A(),t=e.get(`theme`);return(0,B.useMemo)(()=>t===`dark`?ht.dark:ht.light,[t])}function _t(){let[e]=A(),{i18n:t}=L(),n=e.get(`lang`);return(0,B.useEffect)(()=>{n&&(n===`en`||n===`zh`)&&t.changeLanguage(n)},[n,t]),t.language}function vt(){return{theme:gt(),language:_t()}}function yt(){let{t:e}=L(),{theme:t}=vt();return(0,W.jsx)(`div`,{className:`rounded-lg`,style:{backgroundColor:`transparent`,padding:`clamp(12px, 5vw, 20px)`,paddingLeft:`clamp(16px, 4vw, 24px)`,paddingRight:`clamp(16px, 4vw, 24px)`,fontSize:`clamp(12px, 3.5vw, 14px)`,lineHeight:`1.6`,color:t.textSecondary,textAlign:`center`},children:e(`common.disclaimer`)})}function bt(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function xt(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function St(){let{t:e}=L(),{theme:t}=vt(),{prefetchPreviousWeeks:n}=mt(),[r,i]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,B.useEffect)(()=>{n(r.end,3)},[r.end,n]);let a=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(r.end);return t.setHours(0,0,0,0),t<e},[r.end]),o=(0,B.useMemo)(()=>({startDate:bt(r.start),endDate:bt(r.end)}),[r]),s=(0,B.useMemo)(()=>({start:xt(r.start),end:xt(r.end)}),[r]),c=()=>{i(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},l=()=>{a&&i(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:u,isLoading:d,isFetching:f,error:p}=pt(o),[m,h]=(0,B.useState)(!1),g=(0,B.useRef)(null),_=(0,B.useRef)(0);return(0,B.useEffect)(()=>{if(f)h(!0),_.current=Date.now(),g.current&&(clearTimeout(g.current),g.current=null);else{let e=Date.now()-_.current,t=Math.max(0,1e3-e);g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(!1),g.current=null},t)}return()=>{g.current&&clearTimeout(g.current)}},[f]),p?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:t.textSecondary},children:String(p)})]})}):(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsx)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:t.background},children:(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:s.start,endDate:s.end,onPrevious:c,onNext:l,disableNext:!a})})}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!u&&!d?(0,W.jsx)(`div`,{className:`flex items-center justify-center py-20`,children:(0,W.jsx)(`p`,{style:{color:t.textSecondary},children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(ze,{data:u,isLoading:m||d}),(0,W.jsx)(He,{data:u,isLoading:m||d}),(0,W.jsx)(Ue,{data:u,isLoading:m||d}),(0,W.jsx)(Ge,{data:u,isLoading:m||d}),(0,W.jsx)(yt,{})]})})]})})}function Ct({children:e,className:t}){return(0,W.jsx)(`div`,{className:H(`min-h-screen bg-transparent flex items-center justify-center`,t),children:e})}var wt=(0,B.memo)(({active:e,payload:t,label:n})=>{let{t:r}=L();if(!e||!t||t.length===0)return null;let i=t.filter(e=>e.dataKey!==`range`&&e.value!==void 0),a=e=>({high:r(`vitals.systolic`),low:r(`vitals.diastolic`),avg:r(`common.average`,`Avg`),max:r(`common.max`,`Max`),min:r(`common.min`,`Min`),value:r(`common.value`,`Value`)})[e]||e;return(0,W.jsxs)(`div`,{className:`bg-white/95 backdrop-blur-sm px-3 py-2 rounded-lg shadow-lg border border-slate-100`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:n}),i.map((e,t)=>(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-2 h-2 rounded-full`,style:{backgroundColor:e.color}}),(0,W.jsxs)(`span`,{className:`text-sm font-medium text-slate-800`,children:[a(e.name),`: `,e.value]})]},t))]})});function Tt({data:e,type:t=`line`,color:n,secondaryColor:r,height:i=200,className:a,showGrid:o=!0,animationDuration:d=300,domainPadding:f=5,yDomain:m}){let y=(0,B.useMemo)(()=>Ae(d),[d]),b=(0,B.useMemo)(()=>({data:e,margin:{top:10,right:10,left:-20,bottom:0}}),[e]),w=(0,B.useMemo)(()=>({tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),[]),T=(0,B.useMemo)(()=>()=>m||[`dataMin - ${f}`,`dataMax + ${f}`],[m,f]);return(0,W.jsx)(`div`,{className:H(`w-full`,a),style:{height:i},children:(0,W.jsx)(s,{width:`100%`,height:`100%`,minWidth:0,minHeight:0,children:(()=>{if(t===`mixed`){let t=(0,B.useMemo)(()=>e.map(e=>{var t,n,r,i,a,o,s,c,l;return{...e,rangeBase:(t=(n=e.min)==null?(r=e.range)==null?void 0:r[0]:n)==null?0:t,rangeHeight:((i=(a=e.max)==null?(o=e.range)==null?void 0:o[1]:a)==null?0:i)-((s=(c=e.min)==null?(l=e.range)==null?void 0:l[0]:c)==null?0:s)}}),[e]);return(0,W.jsxs)(S,{...b,data:t,children:[o&&(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`dateLabel`,...w}),(0,W.jsx)(v,{...w,domain:T()}),(0,W.jsx)(p,{content:(0,W.jsx)(wt,{})}),(0,W.jsx)(l,{dataKey:`rangeBase`,stackId:`range`,fill:`transparent`,animationDuration:y,animationEasing:`linear`,isAnimationActive:!0}),(0,W.jsx)(l,{dataKey:`rangeHeight`,stackId:`range`,fill:`${n}40`,radius:[4,4,4,4],animationDuration:y,animationEasing:`linear`,isAnimationActive:!0,children:t.map((e,t)=>(0,W.jsx)(g,{fill:`${n}40`},`cell-${t}`))}),(0,W.jsx)(C,{type:`monotone`,dataKey:`avg`,stroke:n,strokeWidth:2.5,dot:{fill:n,strokeWidth:0,r:4},activeDot:{r:6,stroke:n,strokeWidth:2,fill:`#fff`},animationDuration:y,animationEasing:`linear`,isAnimationActive:!0})]})}return t===`area`?(0,W.jsxs)(_,{...b,children:[o&&(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`dateLabel`,...w}),(0,W.jsx)(v,{...w,domain:T()}),(0,W.jsx)(p,{content:(0,W.jsx)(wt,{})}),(0,W.jsx)(`defs`,{children:(0,W.jsxs)(`linearGradient`,{id:`gradient-${n}`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:n,stopOpacity:.3}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:n,stopOpacity:0})]})}),(0,W.jsx)(h,{type:`monotone`,dataKey:`value`,stroke:n,strokeWidth:2,fill:`url(#gradient-${n})`,animationDuration:y,animationEasing:`linear`,isAnimationActive:!0})]}):t===`range`?(0,W.jsxs)(c,{...b,children:[o&&(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`dateLabel`,...w}),(0,W.jsx)(v,{...w,domain:T()}),(0,W.jsx)(p,{content:(0,W.jsx)(wt,{})}),(0,W.jsx)(C,{type:`monotone`,dataKey:`high`,stroke:n,strokeWidth:2,dot:{fill:n,strokeWidth:0,r:3},activeDot:{r:5,stroke:n,strokeWidth:2,fill:`#fff`},animationDuration:y,animationEasing:`linear`,isAnimationActive:!0}),(0,W.jsx)(C,{type:`monotone`,dataKey:`low`,stroke:r||n,strokeWidth:2,strokeDasharray:`5 5`,dot:{fill:r||n,strokeWidth:0,r:3},activeDot:{r:5,stroke:r||n,strokeWidth:2,fill:`#fff`},animationDuration:y,animationEasing:`linear`,isAnimationActive:!0})]}):(0,W.jsxs)(c,{...b,children:[o&&(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`dateLabel`,...w}),(0,W.jsx)(v,{...w,domain:T()}),(0,W.jsx)(p,{content:(0,W.jsx)(wt,{})}),(0,W.jsx)(C,{type:`monotone`,dataKey:`value`,stroke:n,strokeWidth:2,dot:{fill:n,strokeWidth:0,r:3},activeDot:{r:5,stroke:n,strokeWidth:2,fill:`#fff`},animationDuration:y,animationEasing:`linear`,isAnimationActive:!0})]})})()})})}const Et=(0,B.memo)(({showCard:e=!0,height:t=200,className:n})=>{let{t:r}=L(),{data:i,isLoading:a,isError:o,refetch:s}=pt();if(o||!i)return(0,W.jsx)(Dt,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-8 text-center`,children:[(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mb-3`,children:r(`common.error`)}),(0,W.jsx)(`button`,{onClick:()=>s(),className:`px-4 py-2 text-sm font-medium text-white bg-bp rounded-lg hover:opacity-90 transition-opacity`,children:r(`common.retry`)})]})});let c=(0,B.useMemo)(()=>i.chartData.map(e=>({dateLabel:e.dateLabel,high:e.systolic,low:e.diastolic,date:e.date})),[i.chartData]),l=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-0.5 rounded`,style:{backgroundColor:Y.bp.primary}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`vitals.systolic`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-0.5 rounded border-dashed`,style:{borderBottomWidth:2,borderColor:Y.bp.secondary}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`vitals.diastolic`)})]}),a&&(0,W.jsxs)(`div`,{className:`ml-auto flex items-center gap-1.5 text-xs text-slate-400`,children:[(0,W.jsx)(R,{className:`w-3 h-3 animate-spin`}),(0,W.jsx)(`span`,{children:r(`common.loading`)})]})]}),(0,W.jsx)(Tt,{data:c,type:`range`,color:Y.bp.primary,secondaryColor:Y.bp.secondary,height:t,yDomain:[i.yAxisRange.min,i.yAxisRange.max]})]});return e?(0,W.jsxs)(G,{className:n,children:[(0,W.jsx)(Me,{children:(0,W.jsx)(Ne,{children:r(`page.bloodPressure.trendTitle`)})}),(0,W.jsx)(K,{children:l})]}):(0,W.jsx)(`div`,{className:n,children:l})});function Dt({showCard:e,className:t,children:n}){return e?(0,W.jsx)(G,{className:t,children:(0,W.jsx)(K,{className:`py-4`,children:n})}):(0,W.jsx)(`div`,{className:H(`p-4`,t),children:n})}function Ot({titleKey:e,value:t,unit:n,trend:r=`stable`,trendValue:i,subMetrics:a=[],accentColor:o,className:s,loadingIndicator:c}){let{t:l}=L(),u={up:de,down:me,stable:he}[r]||he,d={up:Z.trend.up,down:Z.trend.down,stable:Z.trend.stable}[r]||Z.trend.stable;return(0,W.jsxs)(G,{className:H(`relative overflow-hidden`,s),style:{borderLeftWidth:o?`4px`:void 0,borderLeftColor:o},children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,W.jsx)(`span`,{className:`text-sm font-medium text-slate-600`,children:l(e)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[c,(0,W.jsxs)(`div`,{className:`flex items-center gap-1 px-2 py-0.5 rounded-full text-xs font-medium`,style:{backgroundColor:`${d}15`,color:d},children:[(0,W.jsx)(u,{className:`w-3 h-3`}),i&&(0,W.jsx)(`span`,{children:i})]})]})]}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-2 mb-4`,children:[(0,W.jsx)(`span`,{className:`text-4xl font-bold text-slate-900`,children:t}),(0,W.jsx)(`span`,{className:`text-lg text-slate-500`,children:n})]}),a.length>0&&(0,W.jsx)(`div`,{className:`flex gap-4 pt-3 border-t border-slate-100`,children:a.map((e,t)=>(0,W.jsxs)(`div`,{className:`flex-1`,children:[(0,W.jsx)(`div`,{className:`text-xs text-slate-500 mb-0.5`,children:l(e.labelKey)}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-lg font-semibold text-slate-800`,children:e.value}),e.unit&&(0,W.jsx)(`span`,{className:`text-xs text-slate-400`,children:e.unit})]})]},t))})]})}(0,B.memo)(({className:e})=>{let{t}=L(),{data:n,isLoading:r,isError:i}=pt();if(i||!n||!n.latestReading)return(0,W.jsx)(G,{className:e,children:(0,W.jsx)(K,{className:`py-8 text-center`,children:(0,W.jsx)(`p`,{className:`text-sm text-slate-500`,children:t(`common.noData`)})})});let{summary:a,latestReading:o}=n,s=(0,B.useMemo)(()=>a.systolicChange===0?void 0:`${a.systolicChange>0?`+`:``}${a.systolicChange}`,[a.systolicChange]),c=(0,B.useMemo)(()=>[{labelKey:`page.bloodPressure.averageReading`,value:`${a.avgSystolic}/${a.avgDiastolic}`,unit:t(`units.mmHg`)},{labelKey:`status.`+a.status,value:t(a.statusKey)}],[a.avgSystolic,a.avgDiastolic,a.status,a.statusKey,t]);return(0,W.jsx)(Ot,{className:e,titleKey:`vitals.bloodPressure`,value:`${o.systolic}/${o.diastolic}`,unit:t(`units.mmHg`),trend:a.systolicTrend,trendValue:s,accentColor:q.bp,subMetrics:c,loadingIndicator:r&&(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5 text-xs text-slate-400`,children:[(0,W.jsx)(R,{className:`w-3 h-3 animate-spin`}),(0,W.jsx)(`span`,{children:t(`common.loading`)})]})})});function kt(){return(0,W.jsx)(Ct,{children:(0,W.jsx)(`div`,{className:`w-full max-w-md p-4`,children:(0,W.jsx)(Et,{showCard:!1,height:200})})})}var At=(0,B.memo)(({active:e,payload:t})=>{var n;let{t:r}=L();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:r(i.weekdayKey)}),(0,W.jsxs)(`p`,{className:`text-cyan-300`,children:[r(`common.max`),`: `,i.max,`%`]}),(0,W.jsxs)(`p`,{className:`text-cyan-200`,children:[r(`common.min`),`: `,i.min,`%`]})]}):null});function jt({data:e,className:t,isLoading:n}){var r,i,a,o,c,l,f,m,g,_,y,b,w;let{t:T}=L(),E=q.spo2;U();let D=(0,B.useMemo)(()=>[{name:`Mon`,weekdayKey:`weekday.mon`,range:[96,99],avg:97,max:99,min:96},{name:`Tues`,weekdayKey:`weekday.tue`,range:[95,98],avg:97,max:98,min:95},{name:`Wed`,weekdayKey:`weekday.wed`,range:[96,99],avg:98,max:99,min:96},{name:`Thu`,weekdayKey:`weekday.thu`,range:[95,98],avg:97,max:98,min:95},{name:`Fri`,weekdayKey:`weekday.fri`,range:[96,99],avg:97,max:99,min:96},{name:`Sat`,weekdayKey:`weekday.sat`,range:[97,99],avg:98,max:99,min:97},{name:`Sun`,weekdayKey:`weekday.sun`,range:[96,98],avg:97,max:98,min:96}],[]),O=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.chartData)==null?void 0:n.map((e,t)=>({name:[`Mon`,`Tues`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`][t%7],weekdayKey:e.weekdayKey,range:[e.min,e.max],avg:e.avg,max:e.max,min:e.min})))==null?D:t},[e==null?void 0:e.chartData,D]),k=(0,B.useMemo)(()=>()=>{if(!e)return null;let{trend:t,changeValue:n}=e.summary;if(n===0)return null;let r=t===`up`,i=r?be:I;return(0,W.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:r?Z.trend.down:Z.trend.up},children:[(0,W.jsx)(i,{className:`w-3 h-3`}),Math.abs(n)]})},[e,Z.trend]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(de,{className:`w-5 h-5`,style:{color:E}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:T(`page.spo2.trendyReport`)})]}),(0,W.jsxs)(`div`,{className:`rounded-xl px-5 py-4 mb-4 mx-1`,style:{backgroundColor:Z.background.summaryBox},children:[(0,W.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:T(`page.spo2.weeksAverage`)}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,W.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:E},children:(r=e==null||(i=e.summary)==null?void 0:i.avgValue)==null?`--`:r}),(0,W.jsx)(`span`,{className:`text-lg text-slate-500`,children:`%`}),k()]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:[T(`time.lastWeek`),`: `,(a=e==null||(o=e.summary)==null?void 0:o.previousAvg)==null?`--`:a,`%`]})]}),(0,W.jsx)(`div`,{className:`text-right text-xs text-slate-400 px-3 py-1.5 rounded-lg bg-white/60`,children:(0,W.jsxs)(`p`,{children:[T(`page.spo2.normalRange`),`: 95% - 100%`]})})]}),(0,W.jsxs)(`div`,{className:`flex gap-6`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[T(`common.max`),`(`,e?T(e.summary.maxWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold`,style:{color:E},children:[(c=e==null||(l=e.summary)==null?void 0:l.maxValue)==null?`--`:c,` `,(0,W.jsx)(`span`,{className:`text-sm font-normal`,children:`%`})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[T(`common.min`),`(`,e?T(e.summary.minWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold text-slate-600`,children:[(f=e==null||(m=e.summary)==null?void 0:m.minValue)==null?`--`:f,` `,(0,W.jsx)(`span`,{className:`text-sm font-normal`,children:`%`})]})]})]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:`${E}40`}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:T(`page.spo2.range`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-4 h-0.5`,style:{backgroundColor:E}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:T(`page.spo2.mean`)})]})]}),(0,W.jsx)(`div`,{className:`h-44 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsxs)(S,{data:O,margin:{top:10,right:10,left:-15,bottom:0},children:[(0,W.jsx)(`defs`,{children:(0,W.jsxs)(`linearGradient`,{id:`spo2RangeGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:E,stopOpacity:.3}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:E,stopOpacity:.1})]})}),(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:Z.chart.grid,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:Z.chart.tick},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:Z.chart.tick},tickLine:!1,axisLine:!1,domain:[(g=e==null||(_=e.yAxisRange)==null?void 0:_.min)==null?90:g,(y=e==null||(b=e.yAxisRange)==null?void 0:b.max)==null?100:y]}),(0,W.jsx)(p,{content:(0,W.jsx)(At,{})}),(0,W.jsx)(d,{y:(w=e==null?void 0:e.averageLine)==null?97:w,stroke:E,strokeDasharray:`4 4`,strokeWidth:1.5}),(0,W.jsx)(h,{type:`monotone`,dataKey:`range`,stroke:`transparent`,fill:`url(#spo2RangeGradient)`,animationDuration:300,animationEasing:`linear`,isAnimationActive:!0}),(0,W.jsx)(C,{type:`monotone`,dataKey:`avg`,stroke:Y.spo2.primary,strokeWidth:2,dot:{fill:Y.spo2.primary,strokeWidth:0,r:4},activeDot:{r:6,stroke:E,strokeWidth:2,fill:Z.chart.activeDot.fill},animationDuration:300,animationEasing:`linear`,isAnimationActive:!0})]})})})]})}var Mt=[`normal`,`low`,`too_low`],Nt={normal:`status.normal`,low:`status.low`,too_low:`status.tooLow`};function Pt({data:e,className:t,isLoading:n}){var r,i,a,o;let{t:c}=L(),l=q.spo2,u=U(),d=(r=e==null||(i=e.summary)==null?void 0:i.distribution)==null?[]:r,f=(a=e==null||(o=e.summary)==null?void 0:o.totalCount)==null?0:a,p=Mt.map(e=>{let t=d.find(t=>t.type===e);return{type:e,label:c(Nt[e]||`status.${e}`),count:(t==null?void 0:t.count)||0,percent:(t==null?void 0:t.percent)||0,color:Le.spo2[e]||`#94A3B8`}}),m=p.map(e=>({name:e.label,value:e.percent>0?e.percent:.1,color:e.color}));return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(ye,{className:`w-5 h-5`,style:{color:l}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`page.spo2.statistics`)}),(0,W.jsx)(_e,{className:`w-4 h-4 text-slate-400`})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsx)(`div`,{className:`flex-1 min-w-0 space-y-3`,children:p.map(e=>(0,W.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,W.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:e.color}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600 w-16`,children:e.label}),(0,W.jsxs)(`span`,{className:`text-sm font-semibold w-12`,style:{color:e.color},children:[e.percent,`%`]}),(0,W.jsxs)(`span`,{className:`text-sm`,style:{color:e.color},children:[e.count,` `,c(`common.times`)]})]},e.type))}),(0,W.jsxs)(`div`,{className:`w-32 h-32 relative flex-shrink-0 ml-2`,children:[(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsx)(b,{children:(0,W.jsx)(y,{data:m,cx:`50%`,cy:`50%`,innerRadius:40,outerRadius:58,paddingAngle:3,dataKey:`value`,startAngle:90,endAngle:-270,strokeWidth:0,...u,children:m.map((e,t)=>(0,W.jsx)(g,{fill:e.color},`cell-${t}`))})})}),(0,W.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold`,style:{color:l},children:f}),(0,W.jsx)(`span`,{className:`text-xs text-slate-400`,children:c(`common.times`)})]})]})]})]})}const Ft=(0,B.memo)(({titleKey:e=`dataAnalysis`,Icon:t,items:n,themeColor:r,className:i,isLoading:a})=>{let{t:o}=L();return(0,W.jsxs)(G,{className:`${i} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${a?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(t,{className:`w-5 h-5`,style:{color:r}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:o(e)})]}),(0,W.jsx)(`div`,{className:`space-y-3`,children:n.map((e,t)=>(0,W.jsxs)(`div`,{className:`flex items-start gap-3 rounded-xl px-4 py-3`,style:{backgroundColor:`#F8F8F8`},children:[(0,W.jsx)(`span`,{className:`w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`,style:{backgroundColor:r}}),(0,W.jsx)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:e})]},t))})]})});function It({data:e,className:t,isLoading:n}){var r,i,a,o,s,c,l,u;let{t:d}=L(),f=q.spo2,p=(r=e==null||(i=e.weeklySummary)==null?void 0:i.dataAnalysis)==null?[]:r,m=[d(`page.spo2.defaultAnalysis1`,{avg:(a=e==null||(o=e.summary)==null?void 0:o.avgValue)==null?`--`:a}),d(`page.spo2.defaultAnalysis2`,{max:(s=e==null||(c=e.summary)==null?void 0:c.maxValue)==null?`--`:s,maxDay:e?d(e.summary.maxWeekdayKey):`--`}),d(`page.spo2.defaultAnalysis3`,{min:(l=e==null||(u=e.summary)==null?void 0:u.minValue)==null?`--`:l,minDay:e?d(e.summary.minWeekdayKey):`--`})];return(0,W.jsx)(Ft,{titleKey:`page.spo2.dataAnalysis`,Icon:xe,items:(p.length>0?p:m).map(e=>typeof e==`string`?e:e.content),themeColor:f,className:t,isLoading:n})}function Lt({data:e,className:t,isLoading:n}){let{t:r}=L(),i=q.spo2,a=e==null?void 0:e.weeklySummary;return(0,W.jsx)(We,{titleKey:`page.spo2.weeklyOverview`,Icon:ie,overallText:(a==null?void 0:a.overview)||r(`page.spo2.defaultOverview`,{defaultValue:`Your blood pressure is generally within the ideal range. Although your systolic blood pressure has risen slightly compared to last week, it remains within the normal fluctuation range.`}),highlightText:(a==null?void 0:a.highlights)||r(`page.spo2.defaultHighlights`,{defaultValue:`The trend chart shows that your blood pressure rose significantly during the week (Wednesday and Thursday), with a peak systolic pressure approaching 150 mmHg. Meanwhile, the statistics show that your blood pressure measurements fluctuated considerably across different levels. We will continue to monitor your condition and help you identify any possible causes for the elevated blood pressure.`}),highlightLabelKey:`page.spo2.anomalyAlert`,highlightColor:`#FBBF24`,suggestions:a==null?void 0:a.suggestions,themeColor:i,className:t,isLoading:n})}var Rt={å‘¨ä¸€:`weekdays.mon`,å‘¨äºŒ:`weekdays.tue`,å‘¨ä¸‰:`weekdays.wed`,å‘¨å››:`weekdays.thu`,å‘¨äº”:`weekdays.fri`,å‘¨å…­:`weekdays.sat`,å‘¨æ—¥:`weekdays.sun`};function zt(e){let t=new Date(e);return`${String(t.getMonth()+1).padStart(2,`0`)}/${String(t.getDate()).padStart(2,`0`)}`}function Bt(e){return e>=95?`normal`:e>=90?`low`:`too_low`}function Vt(e){return e===`up`||e===`down`||e===`stable`?e:`stable`}function Ht(e){return e&&Rt[e]||`weekdays.mon`}function Ut(e){var t,n,r,i,a,o,s,c,l,u,d,f,p,m,h;console.log(`[SpO2 Adapter] Input:`,e);let g=((e==null||(t=e.trend_chart)==null?void 0:t.chart_data)||[]).map(e=>{var t;let n=new Date(e.date),r=(t=e.avg)==null?Math.round((e.max+e.min)/2):t;return{date:n,dateLabel:zt(e.date),weekdayKey:Rt[e.label]||`weekdays.mon`,max:e.max||0,min:e.min||0,avg:r,range:[e.min||0,e.max||0]}}),_=(e==null||(n=e.overview)==null?void 0:n.average)||0,v=(e==null||(r=e.overview)==null?void 0:r.min)||0,y=(e==null||(i=e.overview)==null?void 0:i.max)||0,b=Ht(e==null||(a=e.overview)==null?void 0:a.max_label),x=Ht(e==null||(o=e.overview)==null?void 0:o.min_label),S=Bt(_),C=(e==null?void 0:e.comparison)||{},w=C.changes||{},T=Vt((s=w.average)==null?void 0:s.trend),E=((c=w.average)==null?void 0:c.value)||0,D=((l=C.previous)==null?void 0:l.average)||0,O=g.length>0?{avg:g[g.length-1].avg,min:g[g.length-1].min,max:g[g.length-1].max,date:g[g.length-1].date}:null,k=(e==null?void 0:e.weekly_summary)||{},A={overview:k.overview||null,highlights:k.highlights||null,suggestions:k.suggestions||[],dataAnalysis:(k.data_analysis||[]).map(e=>({content:e}))},j={chartData:g,yAxisRange:(e==null||(u=e.trend_chart)==null?void 0:u.y_axis_range)||{min:85,max:100},averageLine:(e==null||(d=e.trend_chart)==null?void 0:d.average_line)||_,summary:{avgValue:_,minValue:v,maxValue:y,maxWeekdayKey:b,minWeekdayKey:x,status:S,statusKey:`status.${S}`,trend:T,changeValue:E,totalCount:(e==null||(f=e.statistics)==null?void 0:f.total_count)||0,distribution:(e==null||(p=e.statistics)==null?void 0:p.distribution)||[],previousAvg:D},comparison:{current:{average:((m=C.current)==null?void 0:m.average)||_},previous:{average:((h=C.previous)==null?void 0:h.average)||0},insight:C.insight||null},weeklySummary:A,latestReading:O};return console.log(`[SpO2 Adapter] Output:`,j),j}const Wt={all:[`spo2`],trend:e=>[...Wt.all,`trend`,e==null?void 0:e.startDate,e==null?void 0:e.endDate],details:()=>[...Wt.all,`details`]};function Gt(e){return E({queryKey:Wt.trend(e),queryFn:async()=>{console.log(`[SpO2 API] Fetching with dateRange:`,e);let t=await rt(e?{start_date:e.startDate,end_date:e.endDate}:void 0);return console.log(`[SpO2 API] Result:`,t),t},select:e=>Ut(e),staleTime:300*1e3,gcTime:600*1e3})}function Kt(){return dt({featureName:`SpO2`,queryKeyFn:Wt.trend,fetchFn:e=>rt({start_date:e.startDate,end_date:e.endDate})})}function qt(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function Jt(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function Yt(){let{t:e}=L(),{theme:t}=vt(),{prefetchPreviousWeeks:n}=Kt(),[r,i]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,B.useEffect)(()=>{n(r.end,3)},[r.end,n]);let a=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(r.end);return t.setHours(0,0,0,0),t<e},[r.end]),o=(0,B.useMemo)(()=>({startDate:qt(r.start),endDate:qt(r.end)}),[r]),s=(0,B.useMemo)(()=>({start:Jt(r.start),end:Jt(r.end)}),[r]),c=()=>{i(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},l=()=>{a&&i(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:u,isLoading:d,isFetching:f,error:p}=Gt(o),[m,h]=(0,B.useState)(!1),g=(0,B.useRef)(null),_=(0,B.useRef)(0);return(0,B.useEffect)(()=>{if(f)h(!0),_.current=Date.now(),g.current&&(clearTimeout(g.current),g.current=null);else{let e=Date.now()-_.current,t=Math.max(0,1e3-e);g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(!1),g.current=null},t)}return()=>{g.current&&clearTimeout(g.current)}},[f]),p?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:t.textSecondary},children:String(p)})]})}):(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsx)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:t.background},children:(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:s.start,endDate:s.end,onPrevious:c,onNext:l,disableNext:!a})})}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!u&&!d?(0,W.jsx)(`div`,{className:`flex items-center justify-center py-20`,children:(0,W.jsx)(`p`,{style:{color:t.textSecondary},children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(jt,{data:u,isLoading:m||d}),(0,W.jsx)(Pt,{data:u,isLoading:m||d}),(0,W.jsx)(It,{data:u,isLoading:m||d}),(0,W.jsx)(Lt,{data:u,isLoading:m||d}),(0,W.jsx)(yt,{})]})})]})})}function Xt({showCard:e=!0,height:t=200,className:n}){let{t:r}=L(),{data:i,isLoading:a,isError:o,refetch:s}=Gt();if(a)return(0,W.jsx)(Zt,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`animate-pulse`,children:[(0,W.jsx)(`div`,{className:`h-4 bg-slate-200 rounded w-1/3 mb-4`}),(0,W.jsx)(`div`,{className:`space-y-2`,children:[...[,,,,,]].map((e,t)=>(0,W.jsx)(`div`,{className:`h-3 bg-slate-200 rounded`,style:{width:`${60+Math.random()*40}%`}},t))})]})});if(o||!i)return(0,W.jsx)(Zt,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-8 text-center`,children:[(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mb-3`,children:r(`common.error`)}),(0,W.jsx)(`button`,{onClick:()=>s(),className:`px-4 py-2 text-sm font-medium text-white bg-spo2 rounded-lg hover:opacity-90 transition-opacity`,children:r(`common.retry`)})]})});let c=i.chartData.map(e=>({dateLabel:e.dateLabel,avg:e.avg,min:e.min,max:e.max,range:e.range,date:e.date})),l=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:`${Y.spo2.primary}40`}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`page.spo2.rangeToday`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-0.5 rounded`,style:{backgroundColor:Y.spo2.primary}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`common.average`)})]})]}),(0,W.jsx)(Tt,{data:c,type:`mixed`,color:Y.spo2.primary,height:t,yDomain:[i.yAxisRange.min,i.yAxisRange.max]})]});return e?(0,W.jsxs)(G,{className:n,children:[(0,W.jsx)(Me,{children:(0,W.jsx)(Ne,{children:r(`page.spo2.trendTitle`)})}),(0,W.jsx)(K,{children:l})]}):(0,W.jsx)(`div`,{className:n,children:l})}function Zt({showCard:e,className:t,children:n}){return e?(0,W.jsx)(G,{className:t,children:(0,W.jsx)(K,{className:`py-4`,children:n})}):(0,W.jsx)(`div`,{className:H(`p-4`,t),children:n})}function Qt(){return(0,W.jsx)(Ct,{children:(0,W.jsx)(`div`,{className:`w-full max-w-md p-4`,children:(0,W.jsx)(Xt,{showCard:!1,height:200})})})}var $t=(0,B.memo)(({active:e,payload:t})=>{var n;let{t:r}=L();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:r(i.weekdayKey)}),(0,W.jsxs)(`p`,{className:`text-red-300`,children:[r(`common.average`),`: `,i.avg]}),(0,W.jsxs)(`p`,{className:`text-red-200`,children:[r(`common.max`),`: `,i.max]}),(0,W.jsxs)(`p`,{className:`text-red-100`,children:[r(`common.min`),`: `,i.min]})]}):null});const en=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o,c,l,f,m,g,_,y,b,w;let{t:T}=L(),E=q.heartRate,D=U(),O=(0,B.useMemo)(()=>[{name:`Mon`,weekdayKey:`weekday.mon`,range:[60,85],avg:72,max:85,min:60},{name:`Tues`,weekdayKey:`weekday.tue`,range:[62,88],avg:75,max:88,min:62},{name:`Wed`,weekdayKey:`weekday.wed`,range:[58,82],avg:70,max:82,min:58},{name:`Thu`,weekdayKey:`weekday.thu`,range:[65,90],avg:78,max:90,min:65},{name:`Fri`,weekdayKey:`weekday.fri`,range:[60,84],avg:72,max:84,min:60},{name:`Sat`,weekdayKey:`weekday.sat`,range:[55,80],avg:68,max:80,min:55},{name:`Sun`,weekdayKey:`weekday.sun`,range:[58,83],avg:70,max:83,min:58}],[]),k=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.chartData)==null?void 0:n.map((e,t)=>({name:[`Mon`,`Tues`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`][t%7],weekdayKey:e.weekdayKey,range:[e.min,e.max],avg:e.avg,max:e.max,min:e.min})))==null?O:t},[e==null?void 0:e.chartData,O]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(de,{className:`w-5 h-5`,style:{color:E}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:T(`page.heartRate.trendyReport`)})]}),(0,W.jsxs)(`div`,{className:`rounded-xl px-5 py-4 mb-4 mx-1`,style:{backgroundColor:Z.background.summaryBox},children:[(0,W.jsx)(`div`,{className:`flex items-start justify-between mb-4`,children:(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:T(`page.heartRate.weeksAverage`)}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,W.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:E},children:(r=e==null||(i=e.summary)==null?void 0:i.avgValue)==null?`--`:r}),(0,W.jsxs)(`span`,{className:`text-lg text-slate-500`,children:[`/`,T(`units.minute`)]}),(()=>{if(!e)return null;let{trend:t,changeValue:n}=e.summary;if(n===0)return null;let r=t===`up`,i=r?be:I;return(0,W.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:r?Z.trend.up:Z.trend.down},children:[(0,W.jsx)(i,{className:`w-3 h-3`}),Math.abs(n)]})})()]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:[T(`time.lastWeek`),`: `,(a=e==null||(o=e.summary)==null?void 0:o.previousAvg)==null?`--`:a,`/`,T(`units.minute`)]})]})}),(0,W.jsxs)(`div`,{className:`flex gap-6`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[T(`common.max`),`(`,e?T(e.summary.maxWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold`,style:{color:E},children:[(c=e==null||(l=e.summary)==null?void 0:l.maxValue)==null?`--`:c,` `,(0,W.jsxs)(`span`,{className:`text-sm font-normal`,children:[`/`,T(`units.minute`)]})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[T(`common.min`),`(`,e?T(e.summary.minWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold text-slate-600`,children:[(f=e==null||(m=e.summary)==null?void 0:m.minValue)==null?`--`:f,` `,(0,W.jsxs)(`span`,{className:`text-sm font-normal`,children:[`/`,T(`units.minute`)]})]})]})]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:`${E}40`}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:T(`page.heartRate.range`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-4 h-0.5`,style:{backgroundColor:E}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:T(`page.heartRate.mean`)})]})]}),(0,W.jsx)(`div`,{className:`h-44 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsxs)(S,{data:k,margin:{top:10,right:10,left:-15,bottom:0},children:[(0,W.jsx)(`defs`,{children:(0,W.jsxs)(`linearGradient`,{id:`hrRangeGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:E,stopOpacity:.3}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:E,stopOpacity:.1})]})}),(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[(g=e==null||(_=e.yAxisRange)==null?void 0:_.min)==null?50:g,(y=e==null||(b=e.yAxisRange)==null?void 0:b.max)==null?120:y]}),(0,W.jsx)(p,{content:(0,W.jsx)($t,{})}),(0,W.jsx)(d,{y:(w=e==null?void 0:e.averageLine)==null?72:w,stroke:E,strokeDasharray:`4 4`,strokeWidth:1.5}),(0,W.jsx)(h,{type:`monotone`,dataKey:`range`,stroke:`transparent`,fill:`url(#hrRangeGradient)`,name:`hr-range`,...D}),(0,W.jsx)(C,{type:`monotone`,dataKey:`avg`,stroke:E,strokeWidth:2,dot:{fill:E,strokeWidth:0,r:4},activeDot:{r:6,stroke:E,strokeWidth:2,fill:`#fff`},name:`hr-avg`,...D})]})})})]})});var tn=[`too_high`,`high`,`normal`,`slow`],nn={normal:`status.normal`,high:`status.high`,too_high:`status.tooHigh`,slow:`status.slow`,low:`status.low`};function rn({data:e,className:t,isLoading:n}){var r,i,a,o;let{t:c}=L(),l=q.heartRate,u=U(),d=(r=e==null||(i=e.summary)==null?void 0:i.distribution)==null?[]:r,f=(a=e==null||(o=e.summary)==null?void 0:o.totalCount)==null?0:a,p=tn.map(e=>{let t=d.find(t=>t.type===e);return{type:e,label:c(nn[e]||`status.${e}`),count:(t==null?void 0:t.count)||0,percent:(t==null?void 0:t.percent)||0,color:Le.heartRate[e]||`#94A3B8`}}),m=p.filter(e=>e.count>0||e.type===`normal`).map(e=>({name:e.label,value:e.percent>0?e.percent:.1,color:e.color}));return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(ye,{className:`w-5 h-5`,style:{color:l}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`page.heartRate.statistics`)}),(0,W.jsx)(_e,{className:`w-4 h-4 text-slate-400`})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsx)(`div`,{className:`flex-1 min-w-0 space-y-2`,children:p.map(e=>(0,W.jsxs)(`div`,{className:`flex items-center gap-3`,children:[(0,W.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:e.color}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600 w-12`,children:e.label}),(0,W.jsxs)(`span`,{className:`text-sm font-semibold w-10`,style:{color:e.color},children:[e.percent,`%`]}),(0,W.jsxs)(`span`,{className:`text-sm`,style:{color:e.color},children:[e.count,` `,c(`common.times`)]})]},e.type))}),(0,W.jsxs)(`div`,{className:`w-32 h-32 relative flex-shrink-0 ml-2`,children:[(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsx)(b,{children:(0,W.jsx)(y,{data:m,cx:`50%`,cy:`50%`,innerRadius:40,outerRadius:58,paddingAngle:3,dataKey:`value`,startAngle:90,endAngle:-270,strokeWidth:0,...u,children:m.map((e,t)=>(0,W.jsx)(g,{fill:e.color},`cell-${t}`))})})}),(0,W.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold`,style:{color:l},children:f}),(0,W.jsx)(`span`,{className:`text-xs text-slate-400`,children:c(`page.heartRate.totalTests`)})]})]})]})]})}function an({data:e,className:t,isLoading:n}){var r,i,a,o,s,c,l,u;let{t:d}=L(),f=q.heartRate,p=(r=e==null||(i=e.weeklySummary)==null?void 0:i.dataAnalysis)==null?[]:r,m=[d(`page.heartRate.defaultAnalysis1`,{avg:(a=e==null||(o=e.summary)==null?void 0:o.avgValue)==null?`--`:a}),d(`page.heartRate.defaultAnalysis2`,{max:(s=e==null||(c=e.summary)==null?void 0:c.maxValue)==null?`--`:s,maxDay:e?d(e.summary.maxWeekdayKey):`--`}),d(`page.heartRate.defaultAnalysis3`,{min:(l=e==null||(u=e.summary)==null?void 0:u.minValue)==null?`--`:l,minDay:e?d(e.summary.minWeekdayKey):`--`})];return(0,W.jsx)(Ft,{titleKey:`page.heartRate.dataAnalysis`,Icon:xe,items:(p.length>0?p:m).map(e=>typeof e==`string`?e:e.content),themeColor:f,className:t,isLoading:n})}function on({data:e,className:t,isLoading:n}){let{t:r}=L(),i=q.heartRate,a=e==null?void 0:e.weeklySummary;return(0,W.jsx)(We,{titleKey:`page.heartRate.weeklyOverview`,Icon:ie,overallText:(a==null?void 0:a.overview)||r(`page.heartRate.defaultOverview`,{defaultValue:`Your heart rate is generally within the normal range this week. Keep up with your regular exercise routine!`}),highlightText:(a==null?void 0:a.highlights)||r(`page.heartRate.defaultHighlights`,{defaultValue:`The trend chart shows some fluctuations in your heart rate during the week. This is normal and can be influenced by physical activity, stress levels, and sleep quality.`}),highlightLabelKey:`page.heartRate.anomalyAlert`,highlightColor:`#FBBF24`,suggestions:a==null?void 0:a.suggestions,themeColor:i,className:t,isLoading:n})}var sn={å‘¨ä¸€:`weekdays.mon`,å‘¨äºŒ:`weekdays.tue`,å‘¨ä¸‰:`weekdays.wed`,å‘¨å››:`weekdays.thu`,å‘¨äº”:`weekdays.fri`,å‘¨å…­:`weekdays.sat`,å‘¨æ—¥:`weekdays.sun`};function cn(e){let t=new Date(e);return`${String(t.getMonth()+1).padStart(2,`0`)}/${String(t.getDate()).padStart(2,`0`)}`}function ln(e){return e<60?`low`:e<=100?`normal`:e<=120?`elevated`:`high`}function un(e){return e===`up`||e===`down`||e===`stable`?e:`stable`}function dn(e){var t,n,r,i,a,o,s,c,l,u,d;let f=((e==null||(t=e.trend_chart)==null?void 0:t.chart_data)||[]).map(e=>{var t,n,r,i,a,o;let s=new Date(e.date),c=(t=(n=e.max)==null?e.value:n)==null?0:t,l=(r=(i=e.min)==null?e.value:i)==null?0:r,u=(a=(o=e.avg)==null?e.value:o)==null?Math.round((c+l)/2):a;return{date:s,dateLabel:cn(e.date),weekdayKey:sn[e.label]||`weekdays.mon`,max:c,min:l,avg:u}}),p=(e==null?void 0:e.overview)||{},m=p.average||0,h=(n=p.max)==null?f.length>0?Math.max(...f.map(e=>e.max)):0:n,g=(r=p.min)==null?f.length>0?Math.min(...f.map(e=>e.min)):0:r,_=p.max_label&&sn[p.max_label]||`weekdays.mon`,v=p.min_label&&sn[p.min_label]||`weekdays.mon`,y=p.resting_avg,b=ln(y||m),x=(e==null?void 0:e.comparison)||{},S=x.changes||{},C=un((i=S.average)==null?void 0:i.trend),w=((a=S.average)==null?void 0:a.value)||0,T=((o=x.previous)==null?void 0:o.average)||0,E=f.length>0?{value:f[f.length-1].avg,date:f[f.length-1].date}:null,D=(e==null?void 0:e.weekly_summary)||{};return{chartData:f,yAxisRange:(e==null||(s=e.trend_chart)==null?void 0:s.y_axis_range)||{min:40,max:160},averageLine:(e==null||(c=e.trend_chart)==null?void 0:c.average_line)||m,summary:{avgValue:m,minValue:g,maxValue:h,minWeekdayKey:v,maxWeekdayKey:_,previousAvg:T,avgResting:y,status:b,statusKey:`status.${b}`,trend:C,changeValue:w,totalCount:(e==null||(l=e.statistics)==null?void 0:l.total_count)||0,distribution:(e==null||(u=e.statistics)==null?void 0:u.distribution)||[]},comparison:{current:{average:((d=x.current)==null?void 0:d.average)||m},previous:{average:T},insight:x.insight||null},weeklySummary:{overview:D.overview||null,highlights:D.highlights||null,suggestions:D.suggestions||[],dataAnalysis:D.data_analysis||[]},latestReading:E}}const fn={all:[`heart-rate`],trend:e=>[...fn.all,`trend`,e==null?void 0:e.startDate,e==null?void 0:e.endDate],details:()=>[...fn.all,`details`]};function pn(e){return E({queryKey:fn.trend(e),queryFn:async()=>{console.log(`[HR API] Fetching with dateRange:`,e);let t=await tt(e?{start_date:e.startDate,end_date:e.endDate}:void 0);return console.log(`[HR API] Result:`,t),t},select:e=>dn(e),staleTime:300*1e3,gcTime:600*1e3})}function mn(){return dt({featureName:`HR`,queryKeyFn:fn.trend,fetchFn:e=>tt({start_date:e.startDate,end_date:e.endDate})})}function hn(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function gn(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function _n(){let{t:e}=L(),{theme:t}=vt(),{prefetchPreviousWeeks:n}=mn(),[r,i]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,B.useEffect)(()=>{n(r.end,3)},[r.end,n]);let a=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(r.end);return t.setHours(0,0,0,0),t<e},[r.end]),o=(0,B.useMemo)(()=>({startDate:hn(r.start),endDate:hn(r.end)}),[r]),s=(0,B.useMemo)(()=>({start:gn(r.start),end:gn(r.end)}),[r]),c=()=>{i(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},l=()=>{a&&i(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:u,isLoading:d,isFetching:f,error:p}=pn(o),[m,h]=(0,B.useState)(!1),g=(0,B.useRef)(null),_=(0,B.useRef)(0);return(0,B.useEffect)(()=>{if(f)h(!0),_.current=Date.now(),g.current&&(clearTimeout(g.current),g.current=null);else{let e=Date.now()-_.current,t=Math.max(0,1e3-e);g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(!1),g.current=null},t)}return()=>{g.current&&clearTimeout(g.current)}},[f]),p?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:t.textSecondary},children:String(p)})]})}):(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsx)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:t.background},children:(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:s.start,endDate:s.end,onPrevious:c,onNext:l,disableNext:!a})})}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!u&&!d?(0,W.jsx)(`div`,{className:`text-center py-12`,children:(0,W.jsx)(`p`,{className:`text-slate-500`,children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(en,{data:u,isLoading:m||d}),(0,W.jsx)(rn,{data:u,isLoading:m||d}),(0,W.jsx)(an,{data:u,isLoading:m||d}),(0,W.jsx)(on,{data:u,isLoading:m||d}),(0,W.jsx)(yt,{})]})})]})})}function vn({showCard:e=!0,height:t=200,className:n}){let{t:r}=L(),{data:i,isLoading:a,isError:o,refetch:s}=pn();if(a)return(0,W.jsx)(yn,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`animate-pulse`,children:[(0,W.jsx)(`div`,{className:`h-4 bg-slate-200 rounded w-1/3 mb-4`}),(0,W.jsx)(`div`,{className:`space-y-2`,children:[...[,,,,,]].map((e,t)=>(0,W.jsx)(`div`,{className:`h-3 bg-slate-200 rounded`,style:{width:`${60+Math.random()*40}%`}},t))})]})});if(o||!i)return(0,W.jsx)(yn,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-8 text-center`,children:[(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mb-3`,children:r(`common.error`)}),(0,W.jsx)(`button`,{onClick:()=>s(),className:`px-4 py-2 text-sm font-medium text-white bg-red-400 rounded-lg hover:opacity-90 transition-opacity`,children:r(`common.retry`)})]})});let c=i.chartData.map(e=>({dateLabel:e.dateLabel,avg:e.avg,min:e.min,max:e.max,range:[e.min,e.max],date:e.date})),l=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:`${Y.heartRate.primary}40`}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`page.heartRate.rangeToday`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-0.5 rounded`,style:{backgroundColor:Y.heartRate.primary}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`common.average`)})]})]}),(0,W.jsx)(Tt,{data:c,type:`mixed`,color:Y.heartRate.primary,height:t,yDomain:[i.yAxisRange.min,i.yAxisRange.max]})]});return e?(0,W.jsxs)(G,{className:n,children:[(0,W.jsx)(Me,{children:(0,W.jsx)(Ne,{children:r(`page.heartRate.trendTitle`)})}),(0,W.jsx)(K,{children:l})]}):(0,W.jsx)(`div`,{className:n,children:l})}function yn({showCard:e,className:t,children:n}){return e?(0,W.jsx)(G,{className:t,children:(0,W.jsx)(K,{className:`py-4`,children:n})}):(0,W.jsx)(`div`,{className:H(`p-4`,t),children:n})}function bn(){return(0,W.jsx)(Ct,{children:(0,W.jsx)(`div`,{className:`w-full max-w-md p-4`,children:(0,W.jsx)(vn,{showCard:!1,height:200})})})}var xn=(0,B.memo)(({active:e,payload:t})=>{var n;let{t:r}=L();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:r(i.weekdayKey)}),(0,W.jsxs)(`p`,{className:`text-amber-300`,children:[r(`common.max`),`: `,i.max,` `,r(`units.mmolL`)]}),(0,W.jsxs)(`p`,{className:`text-amber-200`,children:[r(`common.min`),`: `,i.min,` `,r(`units.mmolL`)]})]}):null});const Sn=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o,c,l,f,m,g,_,y,b,w,T,E,D,O;let{t:k}=L(),A=q.glucose,j=U(),M=(0,B.useMemo)(()=>[{name:`Mon`,weekdayKey:`weekday.mon`,range:[4.5,6.5],avg:5.5,max:6.5,min:4.5},{name:`Tues`,weekdayKey:`weekday.tue`,range:[4.8,7],avg:5.8,max:7,min:4.8},{name:`Wed`,weekdayKey:`weekday.wed`,range:[4.6,6.8],avg:5.6,max:6.8,min:4.6},{name:`Thu`,weekdayKey:`weekday.thu`,range:[4.4,6.4],avg:5.4,max:6.4,min:4.4},{name:`Fri`,weekdayKey:`weekday.fri`,range:[4.7,6.9],avg:5.7,max:6.9,min:4.7},{name:`Sat`,weekdayKey:`weekday.sat`,range:[4.5,6.6],avg:5.5,max:6.6,min:4.5},{name:`Sun`,weekdayKey:`weekday.sun`,range:[4.6,6.7],avg:5.6,max:6.7,min:4.6}],[]),N=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.chartData)==null?void 0:n.map((e,t)=>({name:[`Mon`,`Tues`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`][t%7],weekdayKey:e.weekdayKey,range:[e.min,e.max],avg:e.avg,max:e.max,min:e.min})))==null?M:t},[e==null?void 0:e.chartData,M]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(de,{className:`w-5 h-5`,style:{color:A}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:k(`page.glucose.trendyReport`)})]}),(0,W.jsxs)(`div`,{className:`rounded-xl px-5 py-4 mb-4 mx-1`,style:{backgroundColor:Z.background.warning},children:[(0,W.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:k(`page.glucose.weeksAverage`)}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,W.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:A},children:(r=e==null||(i=e.summary)==null||(i=i.avgValue)==null?void 0:i.toFixed(1))==null?`--`:r}),(0,W.jsx)(`span`,{className:`text-lg text-slate-500`,children:k(`units.mmolL`)}),(()=>{if(!e)return null;let{trend:t,changeValue:n}=e.summary;if(n===0)return null;let r=t===`up`;return(0,W.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:r?`#EF4444`:`#10B981`},children:[(0,W.jsx)(r?be:I,{className:`w-3 h-3`}),Math.abs(n).toFixed(1)]})})()]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:[k(`time.lastWeek`),`: `,(a=e==null||(o=e.summary)==null||(o=o.previousAvg)==null?void 0:o.toFixed(1))==null?`--`:a,` `,k(`units.mmolL`)]})]}),(0,W.jsx)(`div`,{className:`text-right text-xs text-slate-400 px-3 py-1.5 rounded-lg bg-white/60`,children:(0,W.jsxs)(`p`,{children:[k(`page.glucose.normalRange`),`: `,(c=e==null||(l=e.normalRange)==null?void 0:l.min)==null?3.9:c,`-`,(f=e==null||(m=e.normalRange)==null?void 0:m.max)==null?6.1:f,` `,k(`units.mmolL`)]})})]}),(0,W.jsxs)(`div`,{className:`flex gap-6`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[k(`common.max`),`(`,e?k(e.summary.maxWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold`,style:{color:A},children:[(g=e==null||(_=e.summary)==null||(_=_.maxValue)==null?void 0:_.toFixed(1))==null?`--`:g,` `,(0,W.jsx)(`span`,{className:`text-sm font-normal`,children:k(`units.mmolL`)})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[k(`common.min`),`(`,e?k(e.summary.minWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold text-slate-600`,children:[(y=e==null||(b=e.summary)==null||(b=b.minValue)==null?void 0:b.toFixed(1))==null?`--`:y,` `,(0,W.jsx)(`span`,{className:`text-sm font-normal`,children:k(`units.mmolL`)})]})]})]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:`${A}40`}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:k(`page.glucose.range`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-4 h-0.5`,style:{backgroundColor:A}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:k(`page.glucose.mean`)})]})]}),(0,W.jsx)(`div`,{className:`h-44 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsxs)(S,{data:N,margin:{top:10,right:10,left:-15,bottom:0},children:[(0,W.jsx)(`defs`,{children:(0,W.jsxs)(`linearGradient`,{id:`glucoseRangeGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:A,stopOpacity:.3}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:A,stopOpacity:.1})]})}),(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[(w=e==null||(T=e.yAxisRange)==null?void 0:T.min)==null?3:w,(E=e==null||(D=e.yAxisRange)==null?void 0:D.max)==null?10:E]}),(0,W.jsx)(p,{content:(0,W.jsx)(xn,{})}),(0,W.jsx)(d,{y:(O=e==null?void 0:e.averageLine)==null?5.5:O,stroke:A,strokeDasharray:`4 4`,strokeWidth:1.5}),(0,W.jsx)(h,{type:`monotone`,dataKey:`range`,stroke:`transparent`,fill:`url(#glucoseRangeGradient)`,name:`glucose-range`,...j}),(0,W.jsx)(C,{type:`monotone`,dataKey:`avg`,stroke:A,strokeWidth:2,dot:{fill:A,strokeWidth:0,r:4},activeDot:{r:6,stroke:A,strokeWidth:2,fill:`#fff`},name:`glucose-avg`,...j})]})})})]})});var Cn=[`normal`,`high`,`too_high`,`too_low`],wn={normal:`status.normal`,high:`status.high`,too_high:`status.tooHigh`,too_low:`status.tooLow`};function Tn({data:e,className:t,isLoading:n}){var r,i,a,o;let{t:c}=L(),l=q.glucose,u=U(),d=(r=e==null||(i=e.summary)==null?void 0:i.distribution)==null?[]:r,f=(a=e==null||(o=e.summary)==null?void 0:o.totalCount)==null?0:a,p=Cn.map(e=>{let t=d.find(t=>t.type===e);return{type:e,label:c(wn[e]||`status.${e}`),count:(t==null?void 0:t.count)||0,percent:(t==null?void 0:t.percent)||0,color:Le.glucose[e]||`#94A3B8`}}).filter(e=>e.count>0||e.type===`normal`),m=p.map(e=>({name:e.label,value:e.percent>0?e.percent:.1,color:e.color})),h=p.filter(e=>e.type===`normal`).reduce((e,t)=>e+t.count,0);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(ye,{className:`w-5 h-5`,style:{color:l}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`page.glucose.statistics`)}),(0,W.jsx)(_e,{className:`w-4 h-4 text-slate-400`})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between`,children:[(0,W.jsxs)(`div`,{className:`flex-1 min-w-0`,children:[(0,W.jsxs)(`div`,{className:`mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-4xl font-bold`,style:{color:l},children:h}),(0,W.jsxs)(`span`,{className:`text-base text-slate-400`,children:[`/ `,f,` `,c(`common.times`)]})]}),(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mt-1`,children:c(`page.glucose.normalResults`)})]}),(0,W.jsx)(`div`,{className:`grid grid-cols-2 gap-x-4 gap-y-2`,children:p.map(e=>(0,W.jsxs)(`div`,{className:`flex flex-col`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-2.5 h-2.5 rounded-full flex-shrink-0`,style:{backgroundColor:e.color}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:e.label})]}),(0,W.jsxs)(`span`,{className:`text-base font-semibold ml-[18px]`,style:{color:e.color},children:[e.count,` `,e.count===1?c(`common.time`):c(`common.times`)]})]},e.type))})]}),(0,W.jsxs)(`div`,{className:`w-40 h-40 relative flex-shrink-0 ml-2`,children:[(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsx)(b,{children:(0,W.jsx)(y,{data:m,cx:`50%`,cy:`50%`,innerRadius:50,outerRadius:72,paddingAngle:3,dataKey:`value`,startAngle:90,endAngle:-270,strokeWidth:0,...u,children:m.map((e,t)=>(0,W.jsx)(g,{fill:e.color},`cell-${t}`))})})}),(0,W.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center`,children:[(0,W.jsx)(`span`,{className:`text-lg font-bold`,style:{color:l},children:c(`common.good`)}),(0,W.jsx)(`span`,{className:`text-xs text-slate-400`,children:c(`common.inAverage`)})]})]})]})]})}function En({data:e,className:t,isLoading:n}){var r,i;let{t:a}=L(),o=q.glucose,s=(r=e==null?void 0:e.comparison)==null?{current:{average:0},previous:{average:0},insight:null}:r,c=(i=e==null?void 0:e.summary)==null?{changeValue:0,trend:`stable`,previousAvg:0,avgFasting:null,avgPostMeal:null}:i,l=e=>e===`up`?(0,W.jsx)(be,{className:`w-4 h-4`}):e===`down`?(0,W.jsx)(I,{className:`w-4 h-4`}):null,u=e=>e===`up`?`#EF4444`:e===`down`?`#10B981`:o,d=s.insight||a(`page.glucose.defaultInsight`,{defaultValue:`Your blood glucose is generally within the normal range. Keep maintaining a balanced diet and regular exercise habits for stable blood sugar levels.`});return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(xe,{className:`w-5 h-5`,style:{color:o}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:a(`page.glucose.compareWithLastWeek`)})]}),(0,W.jsxs)(`div`,{className:`flex gap-3 mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:a(`page.glucose.averageGlucose`)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:o},children:e?s.current.average.toFixed(1):`--`}),(0,W.jsx)(`span`,{className:`text-sm text-slate-400`,children:a(`units.mmolL`)}),c.changeValue!==0&&(0,W.jsxs)(`div`,{className:`flex items-center gap-0.5 text-sm font-medium`,style:{color:u(c.trend)},children:[l(c.trend),Math.abs(c.changeValue).toFixed(1)]})]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-1`,children:[a(`time.lastWeek`),`: `,e?e.summary.previousAvg.toFixed(1):`--`,a(`units.mmolL`)]})]}),c.avgFasting&&(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:a(`page.glucose.fastingLevel`)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:o},children:c.avgFasting.toFixed(1)}),(0,W.jsx)(`span`,{className:`text-sm text-slate-400`,children:a(`units.mmolL`)})]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-1`,children:[a(`page.glucose.fastingNormal`),`: 3.9-6.1`]})]}),!c.avgFasting&&c.avgPostMeal&&(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:a(`page.glucose.postMealLevel`)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:o},children:c.avgPostMeal.toFixed(1)}),(0,W.jsx)(`span`,{className:`text-sm text-slate-400`,children:a(`units.mmolL`)})]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-1`,children:[a(`page.glucose.postMealNormal`),`: <7.8`]})]})]}),(0,W.jsx)(`div`,{className:`p-4 rounded-2xl bg-amber-50`,children:(0,W.jsx)(`p`,{className:`text-sm text-slate-700 leading-relaxed`,children:d})})]})}function Dn({data:e,className:t,isLoading:n}){let{t:r}=L(),i=q.glucose,a=e==null?void 0:e.weeklySummary;return(0,W.jsx)(We,{titleKey:`page.glucose.weeklyOverview`,Icon:ie,overallText:(a==null?void 0:a.overview)||r(`page.glucose.defaultOverview`,{defaultValue:`Your blood glucose levels are generally within the normal range this week. Keep up the good work with your diet and exercise habits!`}),highlightText:(a==null?void 0:a.highlights)||r(`page.glucose.defaultHighlights`,{defaultValue:`The trend chart shows some fluctuations in your blood glucose levels during the week. Pay attention to your diet, especially after meals, to maintain stable blood sugar levels.`}),highlightLabelKey:`page.glucose.needsAttention`,highlightColor:`#FBBF24`,suggestions:a==null?void 0:a.suggestions,themeColor:i,className:t,isLoading:n})}var On={å‘¨ä¸€:`weekdays.mon`,å‘¨äºŒ:`weekdays.tue`,å‘¨ä¸‰:`weekdays.wed`,å‘¨å››:`weekdays.thu`,å‘¨äº”:`weekdays.fri`,å‘¨å…­:`weekdays.sat`,å‘¨æ—¥:`weekdays.sun`},kn={ç©ºè…¹:`vitals.fasting`,é¤åŽ:`vitals.postMeal`,éšæœº:`common.value`};function An(e){let t=new Date(e);return`${String(t.getMonth()+1).padStart(2,`0`)}/${String(t.getDate()).padStart(2,`0`)}`}function jn(e){return e<3.9?`low`:e<=6.1?`normal`:e<=7?`elevated`:`high`}function Mn(e){return e===`up`||e===`down`||e===`stable`?e:`stable`}function Nn(e){var t,n,r,i,a,o,s,c,l,u,d,f;console.log(`[Glucose Adapter] Input:`,e);let p=((e==null||(t=e.trend_chart)==null?void 0:t.chart_data)||[]).map(e=>{var t,n,r,i;let a=new Date(e.date),o=(t=(n=e.max)==null?e.value:n)==null?0:t,s=(r=(i=e.min)==null?e.value:i)==null?0:r;return{date:a,dateLabel:An(e.date),weekdayKey:On[e.label]||`weekdays.mon`,max:o,min:s,avg:(o+s)/2,typeKey:e.type?kn[e.type]:void 0}}),m=(e==null?void 0:e.overview)||{},h=m.average||0,g=(n=m.max)==null?p.length>0?Math.max(...p.map(e=>e.max)):0:n,_=(r=m.min)==null?p.length>0?Math.min(...p.map(e=>e.min)):0:r,v=m.max_label&&On[m.max_label]||`weekdays.mon`,y=m.min_label&&On[m.min_label]||`weekdays.mon`,b=m.fasting_avg,x=m.post_meal_avg,S=jn(b||h),C=(e==null?void 0:e.comparison)||{},w=C.changes||{},T=Mn((i=w.average)==null?void 0:i.trend),E=((a=w.average)==null?void 0:a.value)||0,D=((o=C.previous)==null?void 0:o.average)||0,O=p.length>0?{value:p[p.length-1].avg,typeKey:p[p.length-1].typeKey,date:p[p.length-1].date}:null,k=(e==null?void 0:e.normal_range)||(e==null||(s=e.trend_chart)==null?void 0:s.normal_range)||{min:3.9,max:6.1},A=(e==null?void 0:e.weekly_summary)||{},j={chartData:p,yAxisRange:(e==null||(c=e.trend_chart)==null?void 0:c.y_axis_range)||{min:2,max:9},averageLine:(e==null||(l=e.trend_chart)==null?void 0:l.average_line)||h,normalRange:k,summary:{avgValue:h,minValue:_,maxValue:g,minWeekdayKey:y,maxWeekdayKey:v,previousAvg:D,avgFasting:b,avgPostMeal:x,status:S,statusKey:`status.${S}`,trend:T,changeValue:E,totalCount:(e==null||(u=e.statistics)==null?void 0:u.total_count)||0,distribution:(e==null||(d=e.statistics)==null?void 0:d.distribution)||[]},comparison:{current:{average:((f=C.current)==null?void 0:f.average)||h},previous:{average:D},insight:C.insight||null},weeklySummary:{overview:A.overview||null,highlights:A.highlights||null,suggestions:A.suggestions||[],dataAnalysis:A.data_analysis||[]},latestReading:O};return console.log(`[Glucose Adapter] Output:`,j),j}const Pn={all:[`glucose`],trend:e=>[...Pn.all,`trend`,e==null?void 0:e.startDate,e==null?void 0:e.endDate],details:()=>[...Pn.all,`details`]};function Fn(e){return E({queryKey:Pn.trend(e),queryFn:async()=>{console.log(`[Glucose API] Fetching with dateRange:`,e);let t=await nt(e?{start_date:e.startDate,end_date:e.endDate}:void 0);return console.log(`[Glucose API] Result:`,t),t},select:e=>Nn(e),staleTime:300*1e3,gcTime:600*1e3})}function In(){return dt({featureName:`Glucose`,queryKeyFn:Pn.trend,fetchFn:e=>nt({start_date:e.startDate,end_date:e.endDate})})}function Ln(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function Rn(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function zn(){let{t:e}=L(),{theme:t}=vt(),{prefetchPreviousWeeks:n}=In(),[r,i]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,B.useEffect)(()=>{n(r.end,3)},[r.end,n]);let a=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(r.end);return t.setHours(0,0,0,0),t<e},[r.end]),o=(0,B.useMemo)(()=>({startDate:Ln(r.start),endDate:Ln(r.end)}),[r]),s=(0,B.useMemo)(()=>({start:Rn(r.start),end:Rn(r.end)}),[r]),c=()=>{i(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},l=()=>{a&&i(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:u,isLoading:d,isFetching:f,error:p}=Fn(o),[m,h]=(0,B.useState)(!1),g=(0,B.useRef)(null),_=(0,B.useRef)(0);return(0,B.useEffect)(()=>{if(f)h(!0),_.current=Date.now(),g.current&&(clearTimeout(g.current),g.current=null);else{let e=Date.now()-_.current,t=Math.max(0,1e3-e);g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(!1),g.current=null},t)}return()=>{g.current&&clearTimeout(g.current)}},[f]),p?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:t.textSecondary},children:String(p)})]})}):(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsx)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:t.background},children:(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:s.start,endDate:s.end,onPrevious:c,onNext:l,disableNext:!a})})}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!u&&!d?(0,W.jsx)(`div`,{className:`text-center py-12`,children:(0,W.jsx)(`p`,{className:`text-slate-500`,children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(Sn,{data:u,isLoading:m||d}),(0,W.jsx)(Tn,{data:u,isLoading:m||d}),(0,W.jsx)(En,{data:u,isLoading:m||d}),(0,W.jsx)(Dn,{data:u,isLoading:m||d}),(0,W.jsx)(yt,{})]})})]})})}function Bn({showCard:e=!0,height:t=200,className:n}){let{t:r}=L(),{data:i,isLoading:a,isError:o,refetch:s}=Fn();if(a)return(0,W.jsx)(Vn,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`animate-pulse`,children:[(0,W.jsx)(`div`,{className:`h-4 bg-slate-200 rounded w-1/3 mb-4`}),(0,W.jsx)(`div`,{className:`space-y-2`,children:[...[,,,,,]].map((e,t)=>(0,W.jsx)(`div`,{className:`h-3 bg-slate-200 rounded`,style:{width:`${60+Math.random()*40}%`}},t))})]})});if(o||!i)return(0,W.jsx)(Vn,{showCard:e,className:n,children:(0,W.jsxs)(`div`,{className:`flex flex-col items-center justify-center py-8 text-center`,children:[(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mb-3`,children:r(`common.error`)}),(0,W.jsx)(`button`,{onClick:()=>s(),className:`px-4 py-2 text-sm font-medium text-white bg-amber-400 rounded-lg hover:opacity-90 transition-opacity`,children:r(`common.retry`)})]})});let c=i.chartData.map(e=>({dateLabel:e.dateLabel,avg:e.avg,min:e.min,max:e.max,range:[e.min,e.max],date:e.date})),l=(0,W.jsxs)(W.Fragment,{children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:`${Y.glucose.primary}40`}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`page.glucose.rangeToday`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-0.5 rounded`,style:{backgroundColor:Y.glucose.primary}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`common.average`)})]})]}),(0,W.jsx)(Tt,{data:c,type:`mixed`,color:Y.glucose.primary,height:t,yDomain:[i.yAxisRange.min,i.yAxisRange.max]})]});return e?(0,W.jsxs)(G,{className:n,children:[(0,W.jsx)(Me,{children:(0,W.jsx)(Ne,{children:r(`page.glucose.trendTitle`)})}),(0,W.jsx)(K,{children:l})]}):(0,W.jsx)(`div`,{className:n,children:l})}function Vn({showCard:e,className:t,children:n}){return e?(0,W.jsx)(G,{className:t,children:(0,W.jsx)(K,{className:`py-4`,children:n})}):(0,W.jsx)(`div`,{className:H(`p-4`,t),children:n})}function Hn(){return(0,W.jsx)(Ct,{children:(0,W.jsx)(`div`,{className:`w-full max-w-md p-4`,children:(0,W.jsx)(Bn,{showCard:!1,height:200})})})}function Un(e){return[`Sun`,`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`][new Date(e).getDay()]||e}function Wn(e){return e.split(` `)[1]||e}function Gn(e){return e?e.trend===`up`?`up`:e.trend===`down`?`down`:`stable`:`stable`}function Kn(e){var t,n,r,i,a,o,s,c,l,u,d,f,p,m,h,g,_,v,y,b,x,S,C,w,T,E,D,O,k;let{overview:A,indicators:j}=e.data,M=A.chart_data.filter(e=>e.score!==null).map(e=>{var t;return{day:e.label,score:(t=e.score)==null?0:t,date:new Date(e.date)}}),N=M.length>0?M:void 0,P=j[0],F=j[1],I=j[2],L=j[3],ee=j[4],te=j[5],ne=j[6],R=(P==null||(t=P.chart)==null?void 0:t.map(e=>({day:Wn(e.time),systolic:e.systolic,diastolic:e.diastolic})))||[],re=(F==null||(n=F.chart)==null?void 0:n.map((e,t)=>({x:t,value:e.value})))||[],ie=re.length>0?re:void 0,z=(I==null||(r=I.chart)==null?void 0:r.map((e,t)=>({x:t,value:e.value})))||[],ae=z.length>0?z:void 0,oe=(L==null||(i=L.chart)==null?void 0:i.map(e=>({day:Wn(e.time),value:e.value})))||[],se=oe.length>0?oe:void 0,ce=(ee==null||(a=ee.chart_data)==null?void 0:a.map(e=>({day:Un(e.date),hours:e.total_minutes/60,quality:(e.deep_sleep_percent+e.rem_percent)*100,deepPercent:e.deep_sleep_percent,lightPercent:e.light_sleep_percent,awakePercent:e.awake_percent,remPercent:e.rem_percent})))||[],le=ce.length>0?ce:void 0,ue=(te==null||(o=te.chart_data)==null?void 0:o.map(e=>({day:Un(e.date),positive:e.positive,neutral:e.neutral,negative:e.negative})))||[],de=ue.length>0?ue:void 0,fe=(ne==null||(s=ne.chart_data)==null?void 0:s.map((e,t)=>({x:t,value:e.value})))||[],pe=fe.length>0?fe:void 0,me=(c=ee==null||(l=ee.statistic)==null?void 0:l.average)==null?0:c,he=Math.floor(me/60),ge=Math.round(me%60);return{comprehensiveHealth:{chartData:N,weeklyAverage:(u=A.average_score)==null?0:u,aiSummary:A.ai_insight||``,targetScore:60,trend:Gn(P==null?void 0:P.change)},bloodPressure:{avgSystolic:(d=P==null||(f=P.avg)==null?void 0:f.systolic)==null?0:d,avgDiastolic:(p=P==null||(m=P.avg)==null?void 0:m.diastolic)==null?0:p,latestSystolic:P==null||(h=P.latest)==null?void 0:h.systolic,latestDiastolic:P==null||(g=P.latest)==null?void 0:g.diastolic,maxSystolic:P==null||(_=P.max)==null?void 0:_.systolic,maxDiastolic:P==null||(v=P.max)==null?void 0:v.diastolic,minSystolic:P==null||(y=P.min)==null?void 0:y.systolic,minDiastolic:P==null||(b=P.min)==null?void 0:b.diastolic,reference:P==null?void 0:P.reference,status:P==null?void 0:P.status,periodDescription:`12 weeks`,chartData:R},heartRate:{avgHeartRate:(x=F==null?void 0:F.avg)==null?0:x,latestValue:F==null?void 0:F.latest,maxValue:F==null?void 0:F.max,minValue:F==null?void 0:F.min,reference:F==null?void 0:F.reference,status:F==null?void 0:F.status,periodDescription:`12 weeks`,chartData:ie,referenceLine:(S=F==null?void 0:F.avg)==null?70:S},bloodSugar:{poctValue:(C=I==null?void 0:I.latest)==null?0:C,avgValue:I==null?void 0:I.avg,maxValue:I==null?void 0:I.max,minValue:I==null?void 0:I.min,reference:I==null?void 0:I.reference,status:I==null?void 0:I.status,unit:`mmol/L`,periodDescription:`12 weeks`,chartData:ae},bloodOxygen:{avgSpO2:(w=L==null?void 0:L.avg)==null?0:w,latestValue:L==null?void 0:L.latest,maxValue:L==null?void 0:L.max,minValue:L==null?void 0:L.min,reference:L==null?void 0:L.reference,status:L==null?void 0:L.status,periodDescription:`12 weeks`,chartData:se,referenceLine:95},sleep:{avgSleepTime:{hours:he,minutes:ge},label:ee==null||(T=ee.statistic)==null?void 0:T.label,periodDescription:`12 weeks`,chartData:le},emotion:{dominantEmotion:`positive`,label:te==null||(E=te.statistic)==null?void 0:E.label,periodDescription:`12 weeks`,chartData:de},nutrition:{avgValue:(D=ne==null||(O=ne.statistic)==null?void 0:O.average)==null?0:D,label:ne==null||(k=ne.statistic)==null?void 0:k.label,unit:`/ minute`,periodDescription:`12 weeks`,chartData:pe,referenceLine:70}}}function qn(){let e=[{day:`Mon`,score:52,date:new Date},{day:`Tue`,score:78,date:new Date},{day:`Wed`,score:48,date:new Date},{day:`Thu`,score:92,date:new Date},{day:`Fri`,score:68,date:new Date},{day:`Sat`,score:45,date:new Date},{day:`Sun`,score:28,date:new Date}],t=Array.from({length:14},(e,t)=>({day:`D${t+1}`,systolic:120+Math.random()*30,diastolic:75+Math.random()*15})),n=Array.from({length:12},(e,t)=>({x:t,value:74+Math.sin(t*.6)*30+Math.random()*20})),r=Array.from({length:12},(e,t)=>({x:t,value:6.5+Math.sin(t*.5)*2.5+Math.random()*1.5})),i=Array.from({length:12},(e,t)=>({day:`D${t+1}`,value:95+Math.sin(t*.5)*3+Math.random()*2})),a=Array.from({length:12},(e,t)=>({day:`D${t+1}`,hours:7+Math.sin(t*.4)*2+Math.random()*1.5,quality:65+Math.sin(t*.4)*20+Math.random()*15})),o=Array.from({length:12},(e,t)=>({day:`D${t+1}`,positive:35+Math.sin(t*.5)*25+Math.random()*15,neutral:25+Math.random()*20,negative:15+Math.random()*15})),s=Array.from({length:12},(e,t)=>({x:t,value:75+Math.sin(t*.4)*25+Math.random()*20}));return{comprehensiveHealth:{chartData:e,weeklyAverage:72,aiSummary:`This week's average score is 72. Your overall condition is steadily improving; please continue to maintain your normal routine.`,targetScore:60,trend:`up`},bloodPressure:{avgSystolic:136,avgDiastolic:86,periodDescription:`12 weeks`,chartData:t},heartRate:{avgHeartRate:74,periodDescription:`12 weeks`,chartData:n,referenceLine:70},bloodSugar:{poctValue:7.4,unit:`mmol/L`,periodDescription:`12 weeks`,chartData:r},bloodOxygen:{avgSpO2:94.9,periodDescription:`12 weeks`,chartData:i,referenceLine:95},sleep:{avgSleepTime:{hours:7,minutes:11},periodDescription:`12 weeks`,chartData:a},emotion:{dominantEmotion:`positive`,periodDescription:`12 weeks`,chartData:o},nutrition:{avgValue:74,unit:`/ minute`,periodDescription:`12 weeks`,chartData:s,referenceLine:70}}}var Jn=`healthy_demo_mode`;function Yn(){try{return localStorage.getItem(Jn)===`true`}catch(e){return console.warn(`[Demo Mode] Failed to read from localStorage:`,e),!1}}function Xn(){try{localStorage.setItem(Jn,`true`),console.log(`âœ… [Demo Mode] Enabled - Using dummy data`)}catch(e){console.error(`[Demo Mode] Failed to enable:`,e)}}function Zn(){try{localStorage.setItem(Jn,`false`),console.log(`âœ… [Demo Mode] Disabled - Using backend data`)}catch(e){console.error(`[Demo Mode] Failed to disable:`,e)}}function Qn(){let e=!Yn();return e?Xn():Zn(),e}const $n={all:[`healthy`],data:e=>[...$n.all,`data`,e]};async function er(e){if(Yn())return console.log(`ðŸŽ­ [Demo Mode] Using dummy data instead of backend API`),qn();try{let t=await Ze.post(`/trend-review/overview`,{view_type:e});if(console.log(`[Healthy API] Response code:`,t.data.code,`msg:`,t.data.msg),t.data.code!==200)throw console.error(`[Healthy API] Unexpected code:`,t.data.code),Error(t.data.msg||`Failed to fetch healthy data`);return Kn(t.data)}catch(e){return console.error(`[Healthy API] Failed to fetch healthy data:`,e),console.warn(`[Healthy API] Using mock data as fallback`),qn()}}function tr(e=`day`){return E({queryKey:$n.data(e),queryFn:()=>er(e),staleTime:300*1e3,gcTime:600*1e3})}function nr(e={}){let{threshold:t=.1,rootMargin:n=`50px`,root:r=null,triggerOnce:i=!0}=e,a=(0,B.useRef)(null),[o,s]=(0,B.useState)(!1),[c,l]=(0,B.useState)(!1);return(0,B.useEffect)(()=>{let e=a.current;if(!e||i&&c)return;let o=new IntersectionObserver(e=>{e.forEach(e=>{let t=e.isIntersecting;s(t),t&&!c&&l(!0),i&&t&&o.disconnect()})},{threshold:t,rootMargin:n,root:r});return o.observe(e),()=>{o.disconnect()}},[t,n,r,i,c]),{ref:a,isInViewport:o,hasBeenInViewport:c}}var rr=({height:e})=>(0,W.jsx)(`div`,{className:`animate-pulse bg-gradient-to-r from-slate-100 via-slate-50 to-slate-100 rounded-lg`,style:{height:typeof e==`number`?`${e}px`:e,backgroundSize:`200% 100%`,animation:`shimmer 1.5s infinite`},children:(0,W.jsx)(`style`,{children:`
      @keyframes shimmer {
        0% { background-position: -200% 0; }
        100% { background-position: 200% 0; }
      }
    `})});function ir({children:e,height:t=200,className:n=``,skeleton:r,threshold:i=.1,rootMargin:a=`100px`}){let{ref:o,hasBeenInViewport:s}=nr({threshold:i,rootMargin:a,triggerOnce:!0});return(0,W.jsx)(`div`,{ref:o,className:n,style:{height:typeof t==`number`?`${t}px`:t,position:`relative`},children:s?e:r||(0,W.jsx)(rr,{height:t})})}var ar=`#FB923D`,or=`#FB923D`,sr=()=>(0,W.jsxs)(`svg`,{width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,children:[(0,W.jsx)(`rect`,{x:`4`,y:`4`,width:`6`,height:`16`,rx:`1`,fill:ar}),(0,W.jsx)(`rect`,{x:`14`,y:`8`,width:`6`,height:`12`,rx:`1`,fill:ar,opacity:`0.6`})]});const cr=(0,B.memo)(({data:e,period:t=`weekly`,onPeriodChange:n,className:r,isLoading:i})=>{var a,o;let{t:c}=L(),f=[{day:`Mon`,score:52},{day:`Tues`,score:78},{day:`Wed`,score:48},{day:`Thur`,score:92},{day:`Fri`,score:68},{day:`Sat`,score:45},{day:`Sun`,score:28}],p=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?f:t},[e==null?void 0:e.chartData]),h=(a=e==null?void 0:e.weeklyAverage)==null?72:a,_=(o=e==null?void 0:e.aiSummary)==null?`This week's average score is 72. Your overall condition is steadily improving; please continue to maintain your normal routine.`:o;e?!e.chartData||e.chartData.length===0?console.log(`âš ï¸ ComprehensiveHealthCard: Empty chartData from API, using placeholder`):console.log(`âœ… ComprehensiveHealthCard: Using API data, points:`,e.chartData.length):console.log(`âš ï¸ ComprehensiveHealthCard: No data provided, using dummy data`);let y=()=>{if(!h||!_)return _;let e=String(h),t=_.split(e);return t.length===1?_:t.map((n,r)=>(0,W.jsxs)(`span`,{children:[n,r<t.length-1&&(0,W.jsx)(`span`,{style:{color:ar,fontWeight:600},children:e})]},r))};return(0,W.jsxs)(G,{className:`${r} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${i?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(sr,{}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`healthy.comprehensiveHealth`,`Comprehensive health data`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center bg-slate-100 rounded-full p-0.5`,children:[(0,W.jsx)(`button`,{onClick:()=>n==null?void 0:n(`daily`),className:`px-3 py-1 text-xs font-medium rounded-full transition-all ${t===`daily`?`text-slate-800`:`text-slate-400 hover:text-slate-600`}`,children:c(`common.daily`,`Daily`)}),(0,W.jsx)(`button`,{onClick:()=>n==null?void 0:n(`weekly`),className:`px-3 py-1 text-xs font-medium rounded-full transition-all ${t===`weekly`?`text-white`:`text-slate-400 hover:text-slate-600`}`,style:t===`weekly`?{backgroundColor:ar}:{},children:c(`common.weekly`,`Weekly`)})]})]}),(0,W.jsx)(`div`,{className:`text-xs text-slate-400 mb-1 ml-1`,children:`Score`}),(0,W.jsx)(`div`,{className:`-mx-1 mb-5`,children:(0,W.jsx)(ir,{height:176,children:(0,W.jsx)(s,{width:`100%`,height:176,children:(0,W.jsxs)(m,{data:p,margin:{top:5,right:15,left:0,bottom:5},barCategoryGap:`25%`,children:[(0,W.jsx)(u,{horizontal:!0,vertical:!1,strokeDasharray:`4 4`,stroke:`#E5E7EB`}),(0,W.jsx)(x,{dataKey:`day`,tick:{fontSize:12,fill:`#94a3b8`},tickLine:!1,axisLine:!1,dy:8}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[0,100],ticks:[0,20,40,60,80,100],width:30}),(0,W.jsx)(l,{dataKey:`score`,radius:[20,20,4,4],maxBarSize:36,...V.animation,children:p.map((e,t)=>(0,W.jsx)(g,{fill:ar},`cell-${t}`))}),(0,W.jsx)(d,{y:h,stroke:or,strokeDasharray:`6 4`,strokeWidth:1.5,label:{position:`left`,value:`â–¶`,fill:or,fontSize:10,dx:-5}})]})})})}),(0,W.jsxs)(`div`,{className:`rounded-xl p-4 relative`,style:{backgroundColor:`#ECFDF5`},children:[(0,W.jsx)(`div`,{className:`absolute -top-3 right-4`,children:(0,W.jsx)(`span`,{className:`px-3 py-1.5 text-xs font-medium text-white rounded-full shadow-sm`,style:{background:`linear-gradient(90deg, #FFCC2B 0%, #FEA80D 100%)`},children:c(`healthy.aiGenerated`,`AI Generated`)})}),(0,W.jsx)(`p`,{className:`text-sm text-slate-700 leading-relaxed pt-1`,children:y()})]})]})});var lr=`#F97316`,ur=`#4ADE80`,dr=`#E2E8F0`;const fr=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i,a,o;let{t:c}=L(),u=lr,d=Array.from({length:14},(e,t)=>({day:`D${t+1}`,systolic:100+Math.random()*60,diastolic:60+Math.random()*40})),f=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?d:t},[e==null?void 0:e.chartData]),p=(i=e==null?void 0:e.avgSystolic)==null?136:i,h=(a=e==null?void 0:e.avgDiastolic)==null?86:a,_=(o=e==null?void 0:e.periodDescription)==null?`12 weeks`:o;return e||console.log(`âš ï¸ HealthBloodPressureCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(re,{className:`w-5 h-5`,style:{color:u}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`vitals.bloodPressure`,`Blood pressure`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsx)(`div`,{className:`bg-slate-50 rounded-xl p-4 mb-5`,children:(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:[c(`healthy.bpDescription`,`Your average systolic blood pressure over the past {{period}} was `,{period:_}),(0,W.jsxs)(`span`,{style:{color:lr,fontWeight:600},children:[p,` mmHg`]}),c(`healthy.bpDescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsxs)(`span`,{style:{color:lr,fontWeight:600},children:[h,` mmHg`]}),`.`]})}),(0,W.jsxs)(ir,{height:224,children:[(0,W.jsx)(s,{width:`100%`,height:224,children:(0,W.jsxs)(m,{data:f,margin:{top:10,right:10,left:10,bottom:0},barGap:2,barCategoryGap:`30%`,children:[(0,W.jsx)(x,{dataKey:`day`,hide:!0}),(0,W.jsx)(v,{domain:[40,180],hide:!0}),(0,W.jsx)(l,{dataKey:`systolic`,radius:[4,4,4,4],maxBarSize:16,...V.animation,children:f.map((e,t)=>(0,W.jsx)(g,{fill:dr},`systolic-${t}`))}),(0,W.jsx)(l,{dataKey:`diastolic`,radius:[4,4,4,4],maxBarSize:16,...V.animation,children:f.map((e,t)=>(0,W.jsx)(g,{fill:dr},`diastolic-${t}`))})]})}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center`,style:{top:`35%`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderLeft:`8px solid ${lr}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:lr}}),(0,W.jsxs)(`div`,{className:`absolute left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full text-white text-sm font-semibold whitespace-nowrap z-10`,style:{backgroundColor:lr},children:[`SBP: `,p,`mmHg`]}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderRight:`8px solid ${lr}`}})]}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center`,style:{top:`65%`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderLeft:`8px solid ${ur}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:ur}}),(0,W.jsxs)(`div`,{className:`absolute left-1/2 -translate-x-1/2 px-4 py-1.5 rounded-full text-white text-sm font-semibold whitespace-nowrap z-10`,style:{backgroundColor:ur},children:[`DBP: `,h,`mmHg`]}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderRight:`8px solid ${ur}`}})]})]})]})});var pr=`#F87171`;const mr=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i,a;let{t:o}=L(),l=[{x:0,value:68},{x:1,value:70},{x:2,value:76},{x:3,value:78},{x:4,value:88},{x:5,value:90},{x:6,value:85},{x:7,value:75},{x:8,value:68}],u=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?l:t},[e==null?void 0:e.chartData]),d=(i=e==null?void 0:e.avgHeartRate)==null?74:i,f=(a=e==null?void 0:e.periodDescription)==null?`12 weeks`:a;return e?!e.chartData||e.chartData.length===0?console.log(`âš ï¸ HealthHeartRateCard: Empty chartData from API, using placeholder`):console.log(`âœ… HealthHeartRateCard: Using API data, points:`,e.chartData.length):console.log(`âš ï¸ HealthHeartRateCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(re,{className:`w-5 h-5`,style:{color:pr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:o(`vitals.heartRate`,`Heart rate`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsx)(`div`,{className:`bg-slate-50 rounded-xl p-4 mb-5`,children:(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:[o(`healthy.hrDescription`,`Your average systolic blood pressure over the past {{period}} was `,{period:f}),(0,W.jsx)(`span`,{style:{color:`#F97316`,fontWeight:600},children:`136 mmHg`}),o(`healthy.hrDescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsx)(`span`,{style:{color:`#F97316`,fontWeight:600},children:`86 mmHg`}),`.`]})}),(0,W.jsxs)(ir,{height:208,children:[(0,W.jsx)(s,{width:`100%`,height:208,children:(0,W.jsxs)(c,{data:u,margin:{top:20,right:10,left:10,bottom:20},children:[(0,W.jsx)(v,{hide:!0,domain:[`dataMin - 10`,`dataMax + 10`]}),(0,W.jsx)(C,{type:`linear`,dataKey:`value`,stroke:`#CBD5E1`,strokeWidth:2,dot:{fill:`#CBD5E1`,stroke:`#CBD5E1`,strokeWidth:2,r:4},activeDot:{r:5,fill:pr},...V.animation})]})}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center`,style:{top:`40%`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderLeft:`8px solid ${pr}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:pr}}),(0,W.jsxs)(`div`,{className:`absolute left-1/2 -translate-x-1/2 px-5 py-2 rounded-full text-white text-sm font-semibold whitespace-nowrap z-10`,style:{backgroundColor:pr},children:[o(`healthy.heartRateLabel`,`Heart rate`),`: `,d,` / minute`]}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderRight:`8px solid ${pr}`}})]})]})]})});var hr=`#F59E0B`;const gr=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i,a,o;let{t:c}=L(),l=[{x:0,value:5.2},{x:1,value:4.8},{x:2,value:8.5},{x:3,value:9.2},{x:4,value:7.8},{x:5,value:6.5},{x:6,value:5.8},{x:7,value:4.2},{x:8,value:3.8},{x:9,value:5.5},{x:10,value:6.8},{x:11,value:8.2},{x:12,value:9.5},{x:13,value:8.8},{x:14,value:7.2}],u=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?l:t},[e==null?void 0:e.chartData]),d=(i=e==null?void 0:e.poctValue)==null?7.4:i,f=(a=e==null?void 0:e.unit)==null?`mmol/L`:a,p=(o=e==null?void 0:e.periodDescription)==null?`12 weeks`:o;return e||console.log(`âš ï¸ HealthBloodSugarCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(ae,{className:`w-5 h-5`,style:{color:hr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:c(`vitals.bloodSugar`,`Blood Sugar`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsx)(`div`,{className:`bg-slate-50 rounded-xl p-4 mb-5`,children:(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:[c(`healthy.bsDescription`,`Your average systolic blood pressure over the past {{period}} was `,{period:p}),(0,W.jsx)(`span`,{style:{color:`#F97316`,fontWeight:600},children:`136 mmHg`}),c(`healthy.bsDescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsx)(`span`,{style:{color:`#F97316`,fontWeight:600},children:`86 mmHg`}),`.`]})}),(0,W.jsxs)(ir,{height:208,children:[(0,W.jsx)(s,{width:`100%`,height:208,children:(0,W.jsxs)(_,{data:u,margin:{top:20,right:10,left:10,bottom:20},children:[(0,W.jsx)(`defs`,{children:(0,W.jsxs)(`linearGradient`,{id:`bloodSugarGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:`#CBD5E1`,stopOpacity:.5}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:`#CBD5E1`,stopOpacity:.05})]})}),(0,W.jsx)(v,{hide:!0,domain:[2,12]}),(0,W.jsx)(h,{type:`monotone`,dataKey:`value`,stroke:`#CBD5E1`,strokeWidth:2,fill:`url(#bloodSugarGradient)`,dot:{fill:`#CBD5E1`,stroke:`#CBD5E1`,strokeWidth:2,r:4},activeDot:{r:5,fill:hr},...V.animation})]})}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center`,style:{top:`46%`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderLeft:`8px solid ${hr}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:hr}}),(0,W.jsxs)(`div`,{className:`absolute left-1/2 -translate-x-1/2 px-5 py-2 rounded-full text-white text-sm font-semibold whitespace-nowrap z-10`,style:{backgroundColor:hr},children:[`POCT: `,d,` `,f]}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderRight:`8px solid ${hr}`}})]})]})]})});var _r=()=>(0,W.jsxs)(`svg`,{width:`20`,height:`20`,viewBox:`0 0 24 24`,fill:`none`,xmlns:`http://www.w3.org/2000/svg`,children:[(0,W.jsx)(`rect`,{x:`3`,y:`3`,width:`18`,height:`18`,rx:`4`,stroke:`#A78BFA`,strokeWidth:`2`,fill:`none`}),(0,W.jsx)(`text`,{x:`12`,y:`15`,textAnchor:`middle`,fill:`#A78BFA`,fontSize:`8`,fontWeight:`600`,children:`Oâ‚‚`})]});const vr=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i,a;let{t:o}=L(),c=q.spo2,u=Array.from({length:20},(e,t)=>({day:`D${t+1}`,value:94+Math.random()*4})),d=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?u:t},[e==null?void 0:e.chartData]),f=(i=e==null?void 0:e.avgSpO2)==null?94.9:i;e==null||e.referenceLine;let p=(a=e==null?void 0:e.periodDescription)==null?`12 weeks`:a;return e||console.log(`âš ï¸ HealthBloodOxygenCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(_r,{}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:o(`vitals.bloodOxygen`,`Blood Oxygen`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 mb-4 leading-relaxed`,children:[o(`healthy.spo2Description`,`Your average systolic blood pressure over the past {{period}} was `,{period:p}),(0,W.jsx)(`span`,{style:{color:c,fontWeight:600},children:`136 mmHg`}),o(`healthy.spo2DescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsx)(`span`,{style:{color:c,fontWeight:600},children:`86 mmHg`}),`.`]}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(ir,{height:112,children:(0,W.jsx)(s,{width:`100%`,height:112,children:(0,W.jsxs)(m,{data:d,margin:{top:10,right:15,left:15,bottom:0},barCategoryGap:`20%`,children:[(0,W.jsx)(v,{hide:!0,domain:[90,100]}),(0,W.jsx)(l,{dataKey:`value`,radius:[3,3,0,0],maxBarSize:12,...V.animation,children:d.map((e,t)=>(0,W.jsx)(g,{fill:`#D1D5DB`},`cell-${t}`))})]})})}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center pointer-events-none`,style:{top:`calc(10px + 112px * 0.5)`},children:[(0,W.jsx)(`div`,{style:{width:0,height:0,borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderRight:`6px solid #A78BFA`,marginLeft:`4px`}}),(0,W.jsx)(`div`,{className:`flex-1 mx-0`,style:{height:`1px`,backgroundImage:`linear-gradient(to right, #A78BFA 50%, transparent 50%)`,backgroundSize:`8px 1px`}}),(0,W.jsx)(`div`,{style:{width:0,height:0,borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderLeft:`6px solid #A78BFA`,marginRight:`4px`}})]}),(0,W.jsx)(`div`,{className:`absolute left-1/2 -translate-x-1/2 z-10`,style:{top:`calc(10px + 112px * 0.5 - 14px)`},children:(0,W.jsxs)(`div`,{className:`px-4 py-1.5 rounded-full text-white text-sm font-medium whitespace-nowrap`,style:{backgroundColor:`#A78BFA`},children:[`SpO2: `,f,`%`]})})]})]})});var yr=`#818CF8`;const br=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i,a;let{t:o}=L(),c=Array.from({length:14},(e,t)=>({day:`D${t+1}`,hours:6+Math.random()*3,quality:60+Math.random()*30})),u=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?c:t},[e==null?void 0:e.chartData]),d=(i=e==null?void 0:e.avgSleepTime)==null?{hours:7,minutes:11}:i,f=(a=e==null?void 0:e.periodDescription)==null?`12 weeks`:a;return e||console.log(`âš ï¸ HealthSleepCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(fe,{className:`w-5 h-5`,style:{color:yr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:o(`vitals.sleep`,`Sleep`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 mb-4 leading-relaxed`,children:[o(`healthy.sleepDescription`,`Your average systolic blood pressure over the past {{period}} was `,{period:f}),(0,W.jsx)(`span`,{style:{color:yr,fontWeight:600},children:`136 mmHg`}),o(`healthy.sleepDescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsx)(`span`,{style:{color:yr,fontWeight:600},children:`86 mmHg`}),`.`]}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(ir,{height:112,children:(0,W.jsx)(s,{width:`100%`,height:112,children:(0,W.jsxs)(m,{data:u,margin:{top:10,right:15,left:15,bottom:0},barCategoryGap:`20%`,children:[(0,W.jsx)(v,{hide:!0,domain:[0,12]}),(0,W.jsx)(l,{dataKey:`hours`,radius:[3,3,0,0],maxBarSize:12,stackId:`sleep`,...V.animation,children:u.map((e,t)=>(0,W.jsx)(g,{fill:`#9CA3AF`},`cell-${t}`))}),(0,W.jsx)(l,{dataKey:`quality`,radius:[3,3,0,0],maxBarSize:12,stackId:`sleep`,...V.animation,children:u.map((e,t)=>(0,W.jsx)(g,{fill:`#D1D5DB`},`cell-light-${t}`))})]})})}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center pointer-events-none`,style:{top:`calc(10px + 112px * 0.45)`},children:[(0,W.jsx)(`div`,{style:{width:0,height:0,borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderRight:`6px solid #818CF8`,marginLeft:`4px`}}),(0,W.jsx)(`div`,{className:`flex-1 mx-0`,style:{height:`1px`,backgroundImage:`linear-gradient(to right, #818CF8 50%, transparent 50%)`,backgroundSize:`8px 1px`}}),(0,W.jsx)(`div`,{style:{width:0,height:0,borderTop:`5px solid transparent`,borderBottom:`5px solid transparent`,borderLeft:`6px solid #818CF8`,marginRight:`4px`}})]}),(0,W.jsx)(`div`,{className:`absolute left-1/2 -translate-x-1/2 z-10`,style:{top:`calc(10px + 112px * 0.45 - 14px)`},children:(0,W.jsxs)(`div`,{className:`px-4 py-1.5 rounded-full text-white text-sm font-medium whitespace-nowrap`,style:{backgroundColor:yr},children:[o(`healthy.sleepTime`,`Sleep time`),`: `,d.hours,` hours `,d.minutes,` minutes`]})})]})]})});var $={positive:`#FBBF24`,neutral:`#93C5FD`,negative:`#3B82F6`};const xr=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i;let{t:a}=L(),o=[{day:`D1`,positive:35,neutral:45,negative:20},{day:`D2`,positive:30,neutral:50,negative:20},{day:`D3`,positive:40,neutral:40,negative:20},{day:`D4`,positive:25,neutral:55,negative:20},{day:`D5`,positive:45,neutral:40,negative:15},{day:`D6`,positive:35,neutral:45,negative:20},{day:`D7`,positive:30,neutral:45,negative:25},{day:`D8`,positive:40,neutral:40,negative:20},{day:`D9`,positive:35,neutral:45,negative:20},{day:`D10`,positive:45,neutral:40,negative:15},{day:`D11`,positive:38,neutral:42,negative:20},{day:`D12`,positive:32,neutral:48,negative:20},{day:`D13`,positive:28,neutral:52,negative:20},{day:`D14`,positive:50,neutral:35,negative:15}],s=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?o:t},[e==null?void 0:e.chartData]),c=(i=e==null?void 0:e.periodDescription)==null?`12 weeks`:i;return e||console.log(`âš ï¸ HealthEmotionCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(oe,{className:`w-5 h-5`,style:{color:$.positive}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:a(`vitals.emotion`,`Emotion`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsx)(`div`,{className:`bg-slate-50 rounded-xl p-4 mb-5`,children:(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 leading-relaxed`,children:[a(`healthy.emotionDescription`,`Your average systolic blood pressure over the past {{period}} was `,{period:c}),(0,W.jsx)(`span`,{style:{color:`#F97316`,fontWeight:600},children:`136 mmHg`}),a(`healthy.emotionDescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsx)(`span`,{style:{color:`#F97316`,fontWeight:600},children:`86 mmHg`}),`.`]})}),(0,W.jsxs)(ir,{height:224,children:[(0,W.jsx)(`div`,{className:`absolute left-0 right-0 flex items-center justify-between px-4`,style:{top:`8px`,height:`180px`},children:s.map((e,t)=>(0,W.jsxs)(`div`,{className:`flex flex-col gap-1`,style:{height:`100%`,width:`3%`},children:[(0,W.jsx)(`div`,{className:`w-full rounded-md transition-all duration-500 ease-out`,style:{backgroundColor:$.positive,flex:e.positive}}),(0,W.jsx)(`div`,{className:`w-full rounded-md transition-all duration-500 ease-out`,style:{backgroundColor:$.neutral,flex:e.neutral}}),(0,W.jsx)(`div`,{className:`w-full rounded-md transition-all duration-500 ease-out`,style:{backgroundColor:$.negative,flex:e.negative}})]},t))}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center pointer-events-none`,style:{top:`calc(8px + 180px * 0.18)`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`4px solid transparent`,borderBottom:`4px solid transparent`,borderLeft:`6px solid ${$.positive}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:$.positive}}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`4px solid transparent`,borderBottom:`4px solid transparent`,borderRight:`6px solid ${$.positive}`}})]}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center pointer-events-none`,style:{top:`calc(8px + 180px * 0.52)`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`4px solid transparent`,borderBottom:`4px solid transparent`,borderLeft:`6px solid ${$.neutral}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:$.neutral}}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`4px solid transparent`,borderBottom:`4px solid transparent`,borderRight:`6px solid ${$.neutral}`}})]}),(0,W.jsxs)(`div`,{className:`absolute left-0 right-0 flex items-center pointer-events-none`,style:{top:`calc(8px + 180px * 0.85)`},children:[(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`4px solid transparent`,borderBottom:`4px solid transparent`,borderLeft:`6px solid ${$.negative}`}}),(0,W.jsx)(`div`,{className:`flex-1 border-t-2 border-dashed`,style:{borderColor:$.negative}}),(0,W.jsx)(`div`,{className:`w-0 h-0`,style:{borderTop:`4px solid transparent`,borderBottom:`4px solid transparent`,borderRight:`6px solid ${$.negative}`}})]}),(0,W.jsxs)(`div`,{className:`absolute bottom-0 left-0 right-0 flex justify-center gap-6`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-4 h-4 rounded-sm`,style:{backgroundColor:$.positive}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:a(`healthy.positive`,`ç§¯æž`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-4 h-4 rounded-sm`,style:{backgroundColor:$.neutral}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:a(`healthy.neutral`,`ä¸­æ€§`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(`span`,{className:`w-4 h-4 rounded-sm`,style:{backgroundColor:$.negative}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:a(`healthy.negative`,`æ¶ˆæž`)})]})]})]})]})});var Sr=q.heartRate;const Cr=(0,B.memo)(({data:e,className:t,isLoading:n,onClick:r})=>{var i,a,o,l;let{t:u}=L(),f=Array.from({length:15},(e,t)=>({x:t,value:70+Math.sin(t*.3)*20+Math.random()*10})),p=(0,B.useMemo)(()=>{var t;return(t=e==null?void 0:e.chartData)==null?f:t},[e==null?void 0:e.chartData]),m=(i=e==null?void 0:e.avgValue)==null?74:i,h=(a=e==null?void 0:e.unit)==null?`/ minute`:a,g=(o=e==null?void 0:e.referenceLine)==null?70:o,_=(l=e==null?void 0:e.periodDescription)==null?`12 weeks`:l;return e||console.log(`âš ï¸ HealthNutritionCard: No data provided, using dummy data`),(0,W.jsxs)(G,{className:`${t} relative overflow-hidden cursor-pointer hover:shadow-md transition-shadow`,onClick:r,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(T,{className:`w-5 h-5`,style:{color:Sr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:u(`vitals.nutrition`,`Nutrition`)})]}),(0,W.jsx)(z,{className:`w-5 h-5 text-slate-400`})]}),(0,W.jsxs)(`p`,{className:`text-sm text-slate-600 mb-4 leading-relaxed`,children:[u(`healthy.nutritionDescription`,`Your average systolic blood pressure over the past {{period}} was `,{period:_}),(0,W.jsx)(`span`,{style:{color:Sr,fontWeight:600},children:`136 mmHg`}),u(`healthy.nutritionDescriptionCont`,`, and your average diastolic blood pressure was `),(0,W.jsx)(`span`,{style:{color:Sr,fontWeight:600},children:`86 mmHg`}),`.`]}),(0,W.jsxs)(`div`,{className:`relative`,children:[(0,W.jsx)(ir,{height:80,children:(0,W.jsx)(s,{width:`100%`,height:80,children:(0,W.jsxs)(c,{data:p,margin:{top:10,right:10,left:10,bottom:10},children:[(0,W.jsx)(v,{hide:!0,domain:[`dataMin - 10`,`dataMax + 10`]}),(0,W.jsx)(d,{y:g,stroke:Sr,strokeDasharray:`4 4`,strokeWidth:1,strokeOpacity:.5}),(0,W.jsx)(C,{type:`monotone`,dataKey:`value`,stroke:Sr,strokeWidth:2,dot:!1,activeDot:{r:4,fill:Sr},...V.animation})]})})}),(0,W.jsx)(`div`,{className:`flex justify-center mt-3`,children:(0,W.jsxs)(`div`,{className:`px-4 py-1.5 rounded-full text-white text-sm font-medium`,style:{backgroundColor:Sr},children:[u(`healthy.heartRateLabel`,`Heart rate`),`: `,m,` `,h]})})]})]})});function wr({className:e=``,onChange:t}){let{t:n}=L(),[r,i]=(0,B.useState)(Yn);return(0,B.useEffect)(()=>{i(Yn())},[]),(0,W.jsxs)(`div`,{className:`flex items-center gap-3 ${e}`,children:[(0,W.jsx)(`span`,{className:`text-sm font-medium text-slate-700`,children:n(`healthy.demoMode`,`Demo Mode`)}),(0,W.jsx)(`button`,{onClick:()=>{let e=Qn();i(e),t==null||t(e),window.location.reload()},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-orange-500 focus:ring-offset-2 ${r?`bg-orange-500`:`bg-slate-300`}`,role:`switch`,"aria-checked":r,"aria-label":n(`healthy.toggleDemoMode`,`Toggle demo mode`),children:(0,W.jsx)(`span`,{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r?`translate-x-6`:`translate-x-1`}`})}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r?n(`healthy.demoModeOn`,`Using dummy data`):n(`healthy.demoModeOff`,`Using backend data`)})]})}function Tr(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function Er(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function Dr(){let{t:e}=L(),t=k(),{theme:n}=vt(),[r,i]=(0,B.useState)(`weekly`),a=r===`daily`?`day`:`week`,[o,s]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}}),c=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(o.end);return t.setHours(0,0,0,0),t<e},[o.end]);(0,B.useMemo)(()=>({startDate:Tr(o.start),endDate:Tr(o.end)}),[o]);let l=(0,B.useMemo)(()=>({start:Er(o.start),end:Er(o.end)}),[o]),u=()=>{s(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},d=()=>{c&&s(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:f,isLoading:p,isFetching:m,error:h}=tr(a),[g,_]=(0,B.useState)(!1),v=(0,B.useRef)(null),y=(0,B.useRef)(0);if((0,B.useEffect)(()=>{if(m)_(!0),y.current=Date.now(),v.current&&(clearTimeout(v.current),v.current=null);else{let e=Date.now()-y.current,t=Math.max(0,1e3-e);v.current&&clearTimeout(v.current),v.current=setTimeout(()=>{_(!1),v.current=null},t)}return()=>{v.current&&clearTimeout(v.current)}},[m]),h)return(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:n.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:n.textSecondary},children:String(h)})]})});let b=g||p;return(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:n.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsxs)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:n.background},children:[(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:l.start,endDate:l.end,onPrevious:u,onNext:d,disableNext:!c})}),(0,W.jsx)(`div`,{className:`flex justify-center mt-3`,children:(0,W.jsx)(wr,{})})]}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!f&&!p?(0,W.jsx)(`div`,{className:`flex items-center justify-center py-20`,children:(0,W.jsx)(`p`,{style:{color:n.textSecondary},children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(cr,{data:f==null?void 0:f.comprehensiveHealth,period:r,onPeriodChange:i,isLoading:b}),(0,W.jsx)(fr,{data:f==null?void 0:f.bloodPressure,isLoading:b,onClick:()=>t(`/details/blood-pressure`)}),(0,W.jsx)(mr,{data:f==null?void 0:f.heartRate,isLoading:b,onClick:()=>t(`/details/heart-rate`)}),(0,W.jsx)(gr,{data:f==null?void 0:f.bloodSugar,isLoading:b,onClick:()=>t(`/details/glucose`)}),(0,W.jsx)(vr,{data:f==null?void 0:f.bloodOxygen,isLoading:b,onClick:()=>t(`/details/spo2`)}),(0,W.jsx)(br,{data:f==null?void 0:f.sleep,isLoading:b,onClick:()=>console.log(`Navigate to sleep details`)}),(0,W.jsx)(xr,{data:f==null?void 0:f.emotion,isLoading:b,onClick:()=>console.log(`Navigate to emotion details`)}),(0,W.jsx)(Cr,{data:f==null?void 0:f.nutrition,isLoading:b,onClick:()=>console.log(`Navigate to nutrition details`)}),(0,W.jsx)(yt,{})]})})]})})}var Or=(0,B.memo)(({active:e,payload:t,label:n})=>{let{t:r}=L();if(!e||!t||t.length===0)return null;let i=t.find(e=>e.dataKey===`deep`),a=t.find(e=>e.dataKey===`light`),o=t.find(e=>e.dataKey===`rem`),s=t.find(e=>e.dataKey===`awake`),c=e=>{let t=Math.floor(e/60),n=e%60;return t>0?`${t}h ${n}m`:`${n}m`};return(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:n}),i&&(0,W.jsxs)(`p`,{style:{color:i.fill},children:[r(`page.sleep.deepSleep`),`: `,c(i.value)]}),a&&(0,W.jsxs)(`p`,{style:{color:a.fill},children:[r(`page.sleep.lightSleep`),`: `,c(a.value)]}),o&&(0,W.jsxs)(`p`,{style:{color:o.fill},children:[r(`page.sleep.remSleep`),`: `,c(o.value)]}),s&&(0,W.jsxs)(`p`,{style:{color:s.fill},children:[r(`page.sleep.awake`),`: `,c(s.value)]})]})}),kr=`#A78BFA`,Ar=(0,B.memo)(e=>{let{fill:t,x:n,y:r,width:i,height:a,payload:o,dataKey:s}=e,c=[`deep`,`light`,`rem`,`awake`],l=null;for(let e=c.length-1;e>=0;e--){let t=c[e];if(o[t]&&o[t]>0){l=t;break}}let u=s===l?[3,3,0,0]:[0,0,0,0];return(0,W.jsx)(f,{...e,radius:u})});const jr=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o,c,d,f,m,h,g,_,y,b,C,w,T,E,D,O,k,A,j;let{t:M}=L(),N=(e==null?void 0:e.stageColors)||{deep:`#A27EFD`,light:`#D9CBFE`,rem:`#ECE5FE`,awake:`#F9933B`},P=[{name:`Mon`,deep:60,light:180,rem:90,awake:10},{name:`Tue`,deep:50,light:190,rem:100,awake:15},{name:`Wed`,deep:70,light:170,rem:80,awake:10},{name:`Thu`,deep:55,light:185,rem:95,awake:12},{name:`Fri`,deep:65,light:175,rem:85,awake:8},{name:`Sat`,deep:80,light:160,rem:110,awake:20},{name:`Sun`,deep:60,light:180,rem:90,awake:10}],F=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.chartData)==null?void 0:n.map(e=>({name:M(e.weekdayKey),deep:e.deep,light:e.light,rem:e.rem,awake:e.awake,total:e.total})))==null?P:t},[e==null?void 0:e.chartData,M]),I=Ae(300),ee=(0,B.useMemo)(()=>Math.max(...F.map(e=>(e.deep||0)+(e.light||0)+(e.rem||0)+(e.awake||0))),[F]),te=Math.ceil(ee/60)+1;return(0,W.jsxs)(G,{className:`${t} relative`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,W.jsx)(fe,{className:`w-5 h-5`,style:{color:kr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:M(`page.sleep.trendyReport`)})]}),n&&(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5 text-xs text-slate-400`,children:[(0,W.jsx)(R,{className:`w-3 h-3 animate-spin`}),(0,W.jsx)(`span`,{children:M(`common.loading`)})]})]}),(0,W.jsxs)(`div`,{className:`bg-gray-100 rounded-xl p-4 mb-4`,children:[(0,W.jsx)(`p`,{className:`text-sm text-slate-500 mb-2`,children:M(`page.sleep.weeksAverageSleep`)}),(0,W.jsxs)(`div`,{className:`flex items-center gap-3 mb-2`,children:[(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:`#FB923D`},children:(r=e==null||(i=e.summary)==null?void 0:i.avgHours)==null?`--`:r}),(0,W.jsx)(`span`,{className:`text-base text-slate-600`,children:`hours`}),(0,W.jsx)(`span`,{className:`text-3xl font-bold ml-1`,style:{color:`#FB923D`},children:(a=e==null||(o=e.summary)==null?void 0:o.avgMinutes)==null?`--`:a}),(0,W.jsx)(`span`,{className:`text-base text-slate-600`,children:`minutes`})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1`,children:[(e==null||(c=e.summary)==null?void 0:c.trend)===`down`&&(0,W.jsx)(me,{className:`w-5 h-5 text-cyan-500`}),(e==null||(d=e.summary)==null?void 0:d.trend)===`up`&&(0,W.jsx)(de,{className:`w-5 h-5 text-orange-500`}),(0,W.jsx)(`span`,{className:`text-lg font-semibold text-cyan-500`,children:(f=e==null||(m=e.summary)==null?void 0:m.durationChange)==null?`--`:f})]})]}),(0,W.jsxs)(`p`,{className:`text-sm text-slate-500 mb-4`,children:[M(`time.lastWeek`),`: `,(h=e==null||(g=e.summary)==null?void 0:g.lastWeekDurationText)==null?`-- hours -- minutes`:h]}),(0,W.jsxs)(`div`,{className:`flex gap-6`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`p`,{className:`text-sm text-slate-500 mb-1`,children:[M(`page.sleep.highest`),`(`,(_=e==null||(y=e.summary)==null?void 0:y.highestDay)==null?`--`:_,`)`]}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold`,style:{color:`#FB923D`},children:(b=e==null||(C=e.summary)==null?void 0:C.highestHours)==null?`--`:b}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:`hours`}),(0,W.jsx)(`span`,{className:`text-2xl font-bold ml-1`,style:{color:`#FB923D`},children:(w=e==null||(T=e.summary)==null?void 0:T.highestMinutes)==null?`--`:w}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:`minutes`})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`p`,{className:`text-sm text-slate-500 mb-1`,children:[M(`page.sleep.lowest`),`(`,(E=e==null||(D=e.summary)==null?void 0:D.lowestDay)==null?`--`:E,`)`]}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold`,style:{color:`#FB923D`},children:(O=e==null||(k=e.summary)==null?void 0:k.lowestHours)==null?`--`:O}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:`hours`}),(0,W.jsx)(`span`,{className:`text-2xl font-bold ml-1`,style:{color:`#FB923D`},children:(A=e==null||(j=e.summary)==null?void 0:j.lowestMinutes)==null?`--`:A}),(0,W.jsx)(`span`,{className:`text-sm text-slate-600`,children:`minutes`})]})]})]})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-2 flex-wrap`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:N.deep}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:M(`page.sleep.deepSleep`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:N.light}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:M(`page.sleep.lightSleep`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:N.rem}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:M(`page.sleep.remSleep`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full`,style:{backgroundColor:N.awake}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:M(`page.sleep.awake`)})]})]}),(0,W.jsx)(`div`,{className:`h-44 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,minWidth:0,minHeight:0,children:(0,W.jsxs)(S,{data:F,margin:{top:10,right:10,left:-15,bottom:0},barCategoryGap:`40%`,children:[(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[0,te*60],tickFormatter:e=>`${Math.round(e/60)}h`}),(0,W.jsx)(p,{content:(0,W.jsx)(Or,{})}),(0,W.jsx)(l,{dataKey:`deep`,stackId:`sleep`,fill:N.deep,barSize:12,shape:(0,W.jsx)(Ar,{}),animationDuration:I}),(0,W.jsx)(l,{dataKey:`light`,stackId:`sleep`,fill:N.light,barSize:12,shape:(0,W.jsx)(Ar,{}),animationDuration:I}),(0,W.jsx)(l,{dataKey:`rem`,stackId:`sleep`,fill:N.rem,barSize:12,shape:(0,W.jsx)(Ar,{}),animationDuration:I}),(0,W.jsx)(l,{dataKey:`awake`,stackId:`sleep`,fill:N.awake,barSize:12,shape:(0,W.jsx)(Ar,{}),animationDuration:I})]})})})]})});var Mr={deep:`#A27EFD`,light:`#D9CBFE`,rem:`#ECE5FE`,awake:`#F9933B`},Nr=`#A78BFA`;const Pr=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i;let{t:a}=L(),o=(r=e==null||(i=e.sleepStructure)==null?void 0:i.stages)==null?[]:r,s=o.length>0?o:[{type:`deep`,percent:0,reference:``,status:`normal`,statusText:``},{type:`light`,percent:0,reference:``,status:`normal`,statusText:``},{type:`rem`,percent:0,reference:``,status:`normal`,statusText:``},{type:`awake`,percent:0,reference:``,status:`normal`,statusText:``}],c=e=>{switch(e){case`deep`:return a(`page.sleep.deepSleep`);case`light`:return a(`page.sleep.lightSleep`);case`rem`:return a(`page.sleep.remSleep`);case`awake`:return a(`page.sleep.awake`);default:return e}},l=e=>{switch(e){case`deep`:return Mr.deep;case`light`:return Mr.light;case`rem`:return Mr.rem;case`awake`:return Mr.awake;default:return`#94a3b8`}},u=e=>{switch(e){case`high`:case`low`:return`#F97316`;default:return`#64748b`}};return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(ye,{className:`w-5 h-5`,style:{color:Nr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:a(`page.sleep.sleepStructure`)})]}),(0,W.jsx)(`div`,{className:`space-y-3`,children:s.map(e=>{let t=l(e.type),n=u(e.status),r=e.status!==`normal`&&e.statusText;return(0,W.jsxs)(`div`,{className:`p-4 rounded-xl`,style:{backgroundColor:`#F8F9FA`},children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-2`,children:[(0,W.jsxs)(`span`,{className:`font-semibold text-sm text-slate-800`,children:[c(e.type),` `,e.percent>0?`(${e.percent}%)`:``]}),(0,W.jsx)(`span`,{className:`text-xs text-slate-400`,children:e.reference?`${a(`page.sleep.standard`)}: ${e.reference}`:``})]}),(0,W.jsx)(`div`,{className:`relative h-2.5 bg-slate-200 rounded-full overflow-hidden mb-2`,children:(0,W.jsx)(`div`,{className:`absolute left-0 top-0 h-full rounded-full transition-all duration-500`,style:{width:`${Math.min(e.percent,100)}%`,backgroundColor:t}})}),r&&(0,W.jsxs)(`div`,{className:`flex items-start gap-1.5`,children:[(0,W.jsx)(`p`,{className:`text-xs font-medium flex-1`,style:{color:n},children:e.statusText}),(0,W.jsx)(_e,{className:`w-3.5 h-3.5 flex-shrink-0 mt-0.5`,style:{color:n}})]}),e.status===`normal`&&e.percent>0&&(0,W.jsx)(`p`,{className:`text-xs text-slate-500`,children:`Normal`})]},e.type)})})]})});var Fr=`#A78BFA`;const Ir=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i;let{t:a}=L(),o=(r=e==null||(i=e.weeklySummary)==null?void 0:i.dataAnalysis)==null?[]:r,s=[a(`page.sleep.defaultAnalysis1`,{defaultValue:`The average blood oxygen saturation this week was 97%, the same as last week.`}),a(`page.sleep.defaultAnalysis2`,{defaultValue:`Your blood oxygen level remained at a high level (98%) from Tuesday to Thursday this week.`}),a(`page.sleep.defaultAnalysis3`,{defaultValue:`On Friday, a blood oxygen level of 94% was recorded, slightly below the lower limit of the normal range.`})];return(0,W.jsx)(Ft,{titleKey:`page.sleep.dataAnalysis`,Icon:ue,items:o.length>0?o:s,themeColor:Fr,className:t,isLoading:n})});var Lr=`#A78BFA`;const Rr=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r;let{t:i}=L(),a=(r=e==null?void 0:e.routine)==null?{hasData:!1,avgSleepTime:{text:`--:--`,changeValue:0,trend:`stable`,changeText:``},avgWakeTime:{text:`--:--`,changeValue:0,trend:`stable`,changeText:``},insight:null}:r,o=(0,B.useMemo)(()=>a.insight||i(`page.sleep.defaultInsight`,{defaultValue:`Your sleep schedule has been consistent this week. Maintaining a regular sleep routine is beneficial for your overall health and well-being.`}),[a.insight,i]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(xe,{className:`w-5 h-5`,style:{color:Lr}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:i(`page.sleep.compareWithLastWeek`)})]}),(0,W.jsxs)(`div`,{className:`flex gap-3 mb-4`,children:[(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:i(`page.sleep.avgSleepTime`)}),(0,W.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:Lr},children:a.avgSleepTime.text})}),(0,W.jsx)(`p`,{className:`text-xs text-slate-400 mt-1`,children:a.avgSleepTime.changeText||i(`page.sleep.sameAsLastWeek`)})]}),(0,W.jsxs)(`div`,{className:`flex-1 p-3 rounded-xl bg-slate-50`,children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:i(`page.sleep.avgWakeTime`)}),(0,W.jsx)(`div`,{className:`flex items-center gap-2`,children:(0,W.jsx)(`span`,{className:`text-xl font-bold`,style:{color:Lr},children:a.avgWakeTime.text})}),(0,W.jsx)(`p`,{className:`text-xs text-slate-400 mt-1`,children:a.avgWakeTime.changeText||i(`page.sleep.sameAsLastWeek`)})]})]}),(0,W.jsx)(`div`,{className:`p-4 rounded-2xl bg-purple-50`,children:(0,W.jsx)(`p`,{className:`text-sm text-slate-700 leading-relaxed`,children:o})})]})});var zr=`#A78BFA`;const Br=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r;let{t:i}=L(),a=(r=e==null?void 0:e.weeklySummary)==null?{overview:null,highlights:null,suggestions:[],dataAnalysis:[]}:r;return(0,W.jsx)(We,{titleKey:`page.sleep.weeklyOverview`,Icon:ie,overallText:(0,B.useMemo)(()=>a.overview||i(`page.sleep.defaultOverview`,{defaultValue:`Your sleep quality this week has been generally good. You have maintained a consistent sleep schedule, which is beneficial for your overall health.`}),[a.overview,i]),highlightText:(0,B.useMemo)(()=>a.highlights||i(`page.sleep.defaultHighlights`,{defaultValue:`The trend chart shows your sleep patterns have been relatively stable throughout the week. However, pay attention to your REM sleep ratio as it may affect your sleep quality and dream patterns.`}),[a.highlights,i]),highlightLabelKey:`page.sleep.needsAttention`,highlightColor:`#FBBF24`,suggestions:a.suggestions,themeColor:zr,className:t,isLoading:n})});var Vr={å‘¨ä¸€:`weekdays.mon`,å‘¨äºŒ:`weekdays.tue`,å‘¨ä¸‰:`weekdays.wed`,å‘¨å››:`weekdays.thu`,å‘¨äº”:`weekdays.fri`,å‘¨å…­:`weekdays.sat`,å‘¨æ—¥:`weekdays.sun`},Hr={deep:`page.sleep.deepSleep`,light:`page.sleep.lightSleep`,rem:`page.sleep.remSleep`,awake:`page.sleep.awake`};function Ur(e){let t=new Date(e);return`${String(t.getMonth()+1).padStart(2,`0`)}/${String(t.getDate()).padStart(2,`0`)}`}function Wr(e){switch(e){case`up`:return`up`;case`dn`:case`down`:return`down`;default:return`stable`}}function Gr(e){switch(e){case`high`:return`high`;case`low`:return`low`;default:return`normal`}}function Kr(e){var t,n,r,i,a,o,s,c,l,u,d,f,p,m;let h=((e==null||(t=e.trend_chart)==null?void 0:t.chart_data)||[]).map(e=>({date:new Date(e.date),dateLabel:Ur(e.date),weekdayKey:Vr[e.label]||`weekdays.mon`,total:e.total||0,totalText:e.total_text||``,deep:e.deep||0,light:e.light||0,rem:e.rem||0,awake:e.awake||0})),g=(e==null?void 0:e.overview)||{},_=g.change||{},v=(e==null?void 0:e.sleep_structure)||{has_data:!1,stages:[]},y=(v.stages||[]).map(e=>({type:e.type,labelKey:Hr[e.type]||e.label,percent:e.percent||0,reference:e.reference||``,status:Gr(e.evaluation),statusText:e.evaluation_text||``,color:e.color||`#ccc`})),b=(e==null?void 0:e.sleep_routine)||{has_data:!1},x={hasData:b.has_data||!1,avgSleepTime:{text:((n=b.avg_sleep_time)==null?void 0:n.time_text)||`--:--`,changeValue:((r=b.avg_sleep_time)==null||(r=r.change)==null?void 0:r.value)||0,trend:Wr(((i=b.avg_sleep_time)==null||(i=i.change)==null?void 0:i.trend)||`same`),changeText:((a=b.avg_sleep_time)==null||(a=a.change)==null?void 0:a.text)||``},avgWakeTime:{text:((o=b.avg_wake_time)==null?void 0:o.time_text)||`--:--`,changeValue:((s=b.avg_wake_time)==null||(s=s.change)==null?void 0:s.value)||0,trend:Wr(((c=b.avg_wake_time)==null||(c=c.change)==null?void 0:c.trend)||`same`),changeText:((l=b.avg_wake_time)==null||(l=l.change)==null?void 0:l.text)||``},insight:b.insight||null};return{chartData:h,yAxisRange:(e==null||(u=e.trend_chart)==null?void 0:u.y_axis_range)||{min:0,max:10},stageColors:{deep:`#A27EFD`,light:`#D9CBFE`,rem:`#ECE5FE`,awake:`#F9933B`},summary:{avgDuration:g.average||0,avgDurationText:g.average_text||`--`,avgHours:Math.floor((g.average||0)/60),avgMinutes:(g.average||0)%60,durationChange:_.value||0,durationChangeText:_.value_text||``,lastWeekDurationText:g.previous_average_text||`--`,trend:Wr(_.trend),maxDurationText:g.max_text||`--`,maxDay:g.max_label||``,highestHours:Math.floor((g.max||0)/60),highestMinutes:(g.max||0)%60,highestDay:g.max_label||`--`,minDurationText:g.min_text||`--`,minDay:g.min_label||``,lowestHours:Math.floor((g.min||0)/60),lowestMinutes:(g.min||0)%60,lowestDay:g.min_label||`--`},sleepStructure:{hasData:v.has_data||!1,stages:y},routine:x,weeklySummary:{overview:(e==null||(d=e.weekly_summary)==null?void 0:d.overview)||null,highlights:(e==null||(f=e.weekly_summary)==null?void 0:f.highlights)||null,suggestions:(e==null||(p=e.weekly_summary)==null?void 0:p.suggestions)||[],dataAnalysis:(e==null||(m=e.weekly_summary)==null?void 0:m.data_analysis)||[]}}}const qr={all:[`sleep`],trend:e=>[...qr.all,`trend`,e==null?void 0:e.startDate,e==null?void 0:e.endDate],details:()=>[...qr.all,`details`]};function Jr(e){return E({queryKey:qr.trend(e),queryFn:async()=>{console.log(`[Sleep API] Fetching with dateRange:`,e);let t=await it(e?{start_date:e.startDate,end_date:e.endDate}:void 0);return console.log(`[Sleep API] Result:`,t),t},select:e=>Kr(e),staleTime:300*1e3,gcTime:600*1e3,placeholderData:e=>e})}function Yr(){return dt({featureName:`Sleep`,queryKeyFn:qr.trend,fetchFn:e=>it({start_date:e.startDate,end_date:e.endDate})})}function Xr(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function Zr(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function Qr(){let{t:e}=L(),{theme:t}=vt(),{prefetchPreviousWeeks:n}=Yr(),[r,i]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,B.useEffect)(()=>{n(r.end,3)},[r.end,n]);let a=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(r.end);return t.setHours(0,0,0,0),t<e},[r.end]),o=(0,B.useMemo)(()=>({startDate:Xr(r.start),endDate:Xr(r.end)}),[r]),s=(0,B.useMemo)(()=>({start:Zr(r.start),end:Zr(r.end)}),[r]),c=()=>{i(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},l=()=>{a&&i(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:u,isLoading:d,isFetching:f,error:p}=Jr(o),[m,h]=(0,B.useState)(!1),g=(0,B.useRef)(null),_=(0,B.useRef)(0);return(0,B.useEffect)(()=>{if(f)h(!0),_.current=Date.now(),g.current&&(clearTimeout(g.current),g.current=null);else{let e=Date.now()-_.current,t=Math.max(0,1e3-e);g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(!1),g.current=null},t)}return()=>{g.current&&clearTimeout(g.current)}},[f]),p?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:t.textSecondary},children:String(p)})]})}):(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsx)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:t.background},children:(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:s.start,endDate:s.end,onPrevious:c,onNext:l,disableNext:!a})})}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!u&&!d?(0,W.jsx)(`div`,{className:`flex items-center justify-center py-20`,children:(0,W.jsx)(`p`,{style:{color:t.textSecondary},children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(jr,{data:u,isLoading:m||d}),(0,W.jsx)(Pr,{data:u,isLoading:m||d}),(0,W.jsx)(Ir,{data:u,isLoading:m||d}),(0,W.jsx)(Rr,{data:u,isLoading:m||d}),(0,W.jsx)(Br,{data:u,isLoading:m||d}),(0,W.jsx)(yt,{})]})})]})})}const $r=(0,B.memo)(({level:e,size:t=48,className:n=``})=>{let r=t/48,i=14*r,a=8*r,o=18*r,s=10*r,c=3*r,l=18*r,u=12*r,d=14*r,f=e===`good`||e===`bad`?16*r:12*r,p=e===`good`||e===`bad`?8*r:2*r;return(0,W.jsxs)(`div`,{className:`relative rounded-full flex items-center justify-center ${n}`,style:{width:`${t}px`,height:`${t}px`,background:`#FFFFFF`,boxShadow:`0 0 0 ${1*r}px rgba(0, 0, 0, 0.06), 0 ${2*r}px ${10*r}px rgba(15, 23, 42, 0.06)`},children:[(0,W.jsx)(`div`,{className:`absolute rounded-full pointer-events-none`,style:{width:`${t*1.9}px`,height:`${t*1.9}px`,background:`radial-gradient(circle at 30% 35%, rgba(255, 168, 90, 0.95) 0%, rgba(255, 168, 90, 0.0) 55%), radial-gradient(circle at 65% 70%, rgba(255, 120, 200, 0.85) 0%, rgba(255, 120, 200, 0.0) 60%)`,filter:`blur(${22*r}px)`,opacity:.55,zIndex:-1,top:`50%`,left:`50%`,transform:`translate(-50%, -50%)`}}),(0,W.jsx)(`div`,{className:`absolute flex items-center justify-center`,style:{top:`${e===`good`?o:l}px`,left:`50%`,transform:`translateX(-50%)`,gap:`${e===`good`?s:u}px`},children:e===`good`?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`div`,{style:{width:`${i}px`,height:`${a}px`,borderTop:`${3*r}px solid #F59E0B`,borderRadius:`${i/2}px ${i/2}px 0 0`,background:`transparent`}}),(0,W.jsx)(`div`,{style:{width:`${i}px`,height:`${a}px`,borderTop:`${3*r}px solid #F59E0B`,borderRadius:`${i/2}px ${i/2}px 0 0`,background:`transparent`}})]}):(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`div`,{className:`rounded-full`,style:{width:`${c}px`,height:`${c}px`,background:`#FFA500`}}),(0,W.jsx)(`div`,{className:`rounded-full`,style:{width:`${c}px`,height:`${c}px`,background:`#FFA500`}})]})}),(0,W.jsx)(`div`,{className:`absolute left-1/2 -translate-x-1/2`,style:{bottom:`${d}px`},children:e===`good`?null:e===`bad`?(0,W.jsx)(`div`,{style:{width:`${f}px`,height:`${p}px`,borderTop:`${2*r}px solid #94A3B8`,borderRadius:`${f/2}px ${f/2}px 0 0`,transform:`translateY(${4*r}px)`}}):(0,W.jsx)(`div`,{className:`rounded-full`,style:{width:`${f}px`,height:`${p}px`,background:`#94A3B8`}})})]})});$r.displayName=`EmotionFaceIcon`;var ei=(0,B.memo)(({active:e,payload:t})=>{var n;let{t:r}=L();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return!i||i.score===null?null:(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:r(i.weekdayKey)}),(0,W.jsxs)(`p`,{style:{color:Q.primary},children:[r(`page.emotion.score`),`: `,i.score]})]})});const ti=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o,l,d,f,m,h,g,_,y;let{t:b}=L(),S=U(),w=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.trendChartData)==null?void 0:n.map((e,t)=>({name:[`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`][t%7],weekdayKey:e.weekdayKey,score:e.score})))==null?[]:t},[e==null?void 0:e.trendChartData]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(de,{className:`w-5 h-5`,style:{color:Q.primary}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:b(`page.emotion.trendyReport`)})]}),(0,W.jsxs)(`div`,{className:`rounded-xl px-5 py-4 mb-4 mx-1`,style:{backgroundColor:Z.background.warning},children:[(0,W.jsxs)(`div`,{className:`flex items-start justify-between mb-4`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`p`,{className:`text-xs text-slate-500 mb-1`,children:b(`page.emotion.weeksAverage`)}),(0,W.jsxs)(`div`,{className:`flex items-baseline gap-1.5`,children:[(0,W.jsx)(`span`,{className:`text-3xl font-bold`,style:{color:Q.primary},children:(r=e==null||(i=e.summary)==null?void 0:i.avgValue)==null?`--`:r}),(0,W.jsx)(`span`,{className:`text-lg text-slate-500`,children:b(`page.emotion.points`)}),(()=>{if(!e)return null;let{trend:t,changeValue:n}=e.summary;if(n===0)return null;let r=t===`up`;return(0,W.jsxs)(`span`,{className:`flex items-center gap-0.5 text-sm`,style:{color:r?`#10B981`:`#EF4444`},children:[(0,W.jsx)(r?be:I,{className:`w-3 h-3`}),Math.abs(n)]})})()]}),(0,W.jsxs)(`p`,{className:`text-xs text-slate-400 mt-0.5`,children:[b(`time.lastWeek`),`: `,(a=e==null||(o=e.summary)==null?void 0:o.previousAvg)==null?`--`:a,` `,b(`page.emotion.points`)]})]}),(()=>{var t,n;let r=(e==null||(t=e.summary)==null?void 0:t.emotionLevel)||`neutral`,i=(e==null||(n=e.summary)==null?void 0:n.emotionLabel)||`--`;return(0,W.jsxs)(`div`,{className:`flex flex-col items-center gap-1.5`,children:[(0,W.jsx)($r,{level:r,size:48}),(0,W.jsx)(`span`,{className:`text-[10px] font-medium text-slate-500 whitespace-nowrap`,children:i})]})})()]}),(0,W.jsxs)(`div`,{className:`flex gap-6`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[b(`common.max`),`(`,e?b(e.summary.maxWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold`,style:{color:Q.primary},children:[(l=e==null||(d=e.summary)==null?void 0:d.maxValue)==null?`--`:l,` `,(0,W.jsx)(`span`,{className:`text-sm font-normal`,children:b(`page.emotion.points`)})]})]}),(0,W.jsxs)(`div`,{children:[(0,W.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[b(`common.min`),`(`,e?b(e.summary.minWeekdayKey):`--`,`)`]}),(0,W.jsxs)(`p`,{className:`text-xl font-semibold text-slate-600`,children:[(f=e==null||(m=e.summary)==null?void 0:m.minValue)==null?`--`:f,` `,(0,W.jsx)(`span`,{className:`text-sm font-normal`,children:b(`page.emotion.points`)})]})]})]})]}),(0,W.jsx)(`div`,{className:`h-44 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsxs)(c,{data:w,margin:{top:10,right:10,left:-15,bottom:0},children:[(0,W.jsx)(`defs`,{children:(0,W.jsxs)(`linearGradient`,{id:`emotionLineGradient`,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,W.jsx)(`stop`,{offset:`5%`,stopColor:Q.primary,stopOpacity:.3}),(0,W.jsx)(`stop`,{offset:`95%`,stopColor:Q.primary,stopOpacity:.1})]})}),(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[(h=e==null||(g=e.yAxisRange)==null?void 0:g.min)==null?0:h,(_=e==null||(y=e.yAxisRange)==null?void 0:y.max)==null?100:_]}),(0,W.jsx)(p,{content:(0,W.jsx)(ei,{})}),(0,W.jsx)(C,{type:`monotone`,dataKey:`score`,stroke:Q.primary,strokeWidth:2,dot:{fill:Q.primary,strokeWidth:0,r:4},activeDot:{r:6,stroke:Q.primary,strokeWidth:2,fill:`#fff`},connectNulls:!1,...S})]})})})]})});var ni=(0,B.memo)(({active:e,payload:t})=>{var n;let{t:r}=L();if(!e||!t||t.length===0)return null;let i=(n=t[0])==null?void 0:n.payload;return i?(0,W.jsxs)(`div`,{className:`bg-slate-700 text-white px-3 py-2 rounded-lg text-sm shadow-lg`,children:[(0,W.jsx)(`p`,{className:`font-medium mb-1`,children:r(i.weekdayKey)}),(0,W.jsxs)(`p`,{style:{color:Q.positive},children:[r(`page.emotion.positive`),`: `,i.positivePercent,`%`]}),(0,W.jsxs)(`p`,{style:{color:Q.neutral},children:[r(`page.emotion.neutral`),`: `,i.neutralPercent,`%`]}),(0,W.jsxs)(`p`,{style:{color:Q.negative},children:[r(`page.emotion.negative`),`: `,i.negativePercent,`%`]})]}):null});const ri=(0,B.memo)(({data:e,className:t,isLoading:n})=>{let{t:r}=L(),i=U(),a=(0,B.useMemo)(()=>{var t,n;return(t=e==null||(n=e.compositionData)==null?void 0:n.map((e,t)=>({name:[`Mon`,`Tue`,`Wed`,`Thu`,`Fri`,`Sat`,`Sun`][t%7],weekdayKey:e.weekdayKey,positivePercent:e.positivePercent,neutralPercent:e.neutralPercent,negativePercent:e.negativePercent})))==null?[]:t},[e==null?void 0:e.compositionData]);return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(xe,{className:`w-5 h-5`,style:{color:Q.primary}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:r(`page.emotion.statistics`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-4 mb-3`,children:[(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:Q.positive}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`page.emotion.positive`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:Q.neutral}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`page.emotion.neutral`)})]}),(0,W.jsxs)(`div`,{className:`flex items-center gap-1.5`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded`,style:{backgroundColor:Q.negative}}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r(`page.emotion.negative`)})]})]}),(0,W.jsx)(`div`,{className:`h-48 -mx-2`,children:(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsxs)(m,{data:a,margin:{top:10,right:10,left:-15,bottom:0},barCategoryGap:`40%`,children:[(0,W.jsx)(u,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,W.jsx)(x,{dataKey:`name`,tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1}),(0,W.jsx)(v,{tick:{fontSize:11,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:[0,100],tickFormatter:e=>`${e}%`}),(0,W.jsx)(p,{content:(0,W.jsx)(ni,{})}),(0,W.jsx)(l,{dataKey:`positivePercent`,stackId:`emotion`,fill:Q.positive,radius:[0,0,0,0],barSize:12,...i}),(0,W.jsx)(l,{dataKey:`neutralPercent`,stackId:`emotion`,fill:Q.neutral,radius:[0,0,0,0],barSize:12,...i}),(0,W.jsx)(l,{dataKey:`negativePercent`,stackId:`emotion`,fill:Q.negative,radius:[4,4,0,0],barSize:12,...i})]})})})]})});var ii={happy:Q.happy,surprised:Q.surprised,calm:Q.calm,sad:Q.sad,angry:Q.angry,fearful:Q.fearful,disgusted:Q.disgusted,neutral:Q.calm};const ai=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i,a,o,c;let{t:l}=L(),u=U(),d=(r=e==null||(i=e.distribution)==null?void 0:i.distribution)==null?[]:r;e==null||(a=e.distribution)==null||a.totalCount;let f=(o=e==null||(c=e.distribution)==null?void 0:c.dominantEmotion)==null?``:o,p=(0,B.useMemo)(()=>d.filter(e=>e.count>0).map(e=>({name:e.label,value:e.percent>0?e.percent:.1,color:ii[e.type]||Q.calm})),[d]),m=(0,B.useMemo)(()=>d.map(e=>({...e,color:ii[e.type]||Q.calm})),[d]),h=p.length>0;return(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-6`,children:[(0,W.jsx)(ve,{className:`w-5 h-5`,style:{color:Q.primary}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:l(`page.emotion.distribution`)}),(0,W.jsx)(_e,{className:`w-4 h-4 text-slate-400 ml-auto`})]}),(0,W.jsxs)(`div`,{className:`flex items-center justify-between gap-6`,children:[(0,W.jsx)(`div`,{className:`flex-1 min-w-0`,children:(0,W.jsx)(`div`,{className:`grid grid-cols-2 gap-x-6 gap-y-3`,children:m.map(e=>(0,W.jsxs)(`div`,{className:`flex items-center gap-2 min-w-0`,children:[(0,W.jsx)(`span`,{className:`w-3 h-3 rounded-full flex-shrink-0`,style:{backgroundColor:e.color}}),(0,W.jsx)(`span`,{className:`text-sm text-slate-700 flex-shrink-0`,children:e.label}),(0,W.jsxs)(`span`,{className:`text-sm font-medium ml-auto flex-shrink-0`,style:{color:e.color},children:[e.percent,`%`]})]},e.type))})}),h&&(0,W.jsxs)(`div`,{className:`w-40 h-40 relative flex-shrink-0`,children:[(0,W.jsx)(s,{width:`100%`,height:`100%`,children:(0,W.jsx)(b,{children:(0,W.jsx)(y,{data:p,cx:`50%`,cy:`50%`,innerRadius:50,outerRadius:70,paddingAngle:2,dataKey:`value`,startAngle:90,endAngle:-270,strokeWidth:0,...u,children:p.map((e,t)=>(0,W.jsx)(g,{fill:e.color},`cell-${t}`))})})}),(0,W.jsxs)(`div`,{className:`absolute inset-0 flex flex-col items-center justify-center`,children:[(0,W.jsx)(`span`,{className:`text-2xl font-bold text-center px-2`,style:{color:Q.primary},children:f||l(`page.emotion.neutral`)}),(0,W.jsx)(`span`,{className:`text-xs text-slate-400 mt-1`,children:`as main`})]})]})]})]})});function oi({data:e,className:t,isLoading:n}){var r;let{t:i}=L(),a=(e==null||(r=e.weeklySummary)==null?void 0:r.dataAnalysis)||[],o=[i(`page.emotion.defaultAnalysis1`,{defaultValue:`æ‚¨çš„æƒ…ç»ªä»¥ç§¯æžä¸ºä¸»ï¼Œæ•´ä½“çŠ¶æ€è‰¯å¥½`}),i(`page.emotion.defaultAnalysis2`,{defaultValue:`æƒ…ç»ªæ³¢åŠ¨åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›è¾ƒå¼º`}),i(`page.emotion.defaultAnalysis3`,{defaultValue:`å»ºè®®ç»§ç»­ä¿æŒç§¯æžçš„ç”Ÿæ´»æ€åº¦ï¼Œé€‚å½“è¿›è¡Œæ”¾æ¾è®­ç»ƒ`})];return(0,W.jsx)(Ft,{titleKey:`page.emotion.dataAnalysis`,Icon:pe,items:a.length>0?a:o,themeColor:Q.primary,className:t,isLoading:n})}function si({data:e,className:t,isLoading:n}){let{t:r}=L(),i=e==null?void 0:e.weeklySummary;return(0,W.jsx)(We,{titleKey:`page.emotion.weeklyOverview`,Icon:ie,overallText:(i==null?void 0:i.overview)||r(`page.emotion.defaultOverview`,{defaultValue:`æœ¬å‘¨æ‚¨çš„æƒ…ç»ªæ•´ä½“å¤„äºŽç§¯æžçŠ¶æ€ã€‚ç»§ç»­ä¿æŒè‰¯å¥½çš„å¿ƒæ€å’Œç”Ÿæ´»ä¹ æƒ¯ï¼`}),highlightText:(i==null?void 0:i.highlights)||r(`page.emotion.defaultHighlights`,{defaultValue:`è¶‹åŠ¿å›¾æ˜¾ç¤ºæ‚¨çš„æƒ…ç»ªåœ¨æœ¬å‘¨ä¸­æœ‰ä¸€äº›æ³¢åŠ¨ã€‚è¿™æ˜¯æ­£å¸¸çš„ï¼Œå¯èƒ½ä¼šå—åˆ°å·¥ä½œåŽ‹åŠ›ã€ç¡çœ è´¨é‡å’Œç¤¾äº¤æ´»åŠ¨çš„å½±å“ã€‚`}),highlightLabelKey:`page.emotion.needsAttention`,highlightColor:`#FBBF24`,suggestions:i==null?void 0:i.suggestions,themeColor:Q.primary,className:t,isLoading:n})}var ci={å¼€å¿ƒ:Q.happy,ç”Ÿæ°”:Q.angry,å¹³é™:Q.calm,åº†å¹¸:Q.surprised,æ‚²ä¼¤:Q.sad,ææƒ§:Q.fearful,åŽŒæ¶:Q.disgusted,Happy:Q.happy,Angry:Q.angry,Calm:Q.calm,Surprised:Q.surprised,Sad:Q.sad,Fearful:Q.fearful,Disgusted:Q.disgusted},li=`#FB923D`,ui=`#D1D5DB`,di=(0,B.memo)(({diary:e})=>(0,W.jsx)(`div`,{className:`w-full flex-shrink-0 px-1`,children:(0,W.jsxs)(`div`,{className:`bg-slate-50 rounded-2xl p-4 relative overflow-hidden`,children:[(0,W.jsxs)(`div`,{className:`mb-3`,children:[(0,W.jsx)(`h4`,{className:`text-base font-semibold text-slate-800 mb-1`,children:e.title}),(0,W.jsxs)(`div`,{className:`text-xs text-slate-400`,children:[e.dateLabel,` `,e.weekLabel,` `,e.timeLabel]})]}),(0,W.jsx)(`p`,{className:`text-sm text-slate-600 leading-relaxed mb-4`,children:e.content}),e.imageUrl&&(0,W.jsx)(`div`,{className:`mb-4 -mx-4 px-4`,children:(0,W.jsx)(`div`,{className:`rounded-xl overflow-hidden`,children:(0,W.jsx)(`img`,{src:e.imageUrl,alt:e.title,className:`w-full h-auto max-h-64 object-contain`,style:{backgroundColor:`transparent`},onError:e=>{e.currentTarget.style.display=`none`}})})}),(0,W.jsx)(`div`,{className:`flex flex-wrap gap-2`,children:e.emotionTags.map((e,t)=>(0,W.jsxs)(`span`,{className:`px-3 py-1 rounded-full text-xs text-white font-medium`,style:{backgroundColor:ci[e]||Q.calm},children:[`# `,e]},t))}),(0,W.jsx)(`div`,{className:`absolute bottom-0 right-0 w-12 h-12`,style:{background:`linear-gradient(135deg, transparent 50%, rgba(148, 163, 184, 0.15) 50%)`}})]})})),fi=(0,B.memo)(({total:e,current:t,onSelect:n})=>e<=1?null:(0,W.jsx)(`div`,{className:`flex justify-center items-center gap-2 mt-4`,children:Array.from({length:e}).map((e,r)=>(0,W.jsx)(`button`,{onClick:()=>n(r),className:`transition-all duration-300`,style:{width:r===t?24:8,height:8,borderRadius:4,backgroundColor:r===t?li:ui},"aria-label":`Go to slide ${r+1}`},r))}));const pi=(0,B.memo)(({data:e,className:t,isLoading:n})=>{var r,i;let{t:a}=L(),[o,s]=(0,B.useState)(0),c=(0,B.useRef)(null),l=(0,B.useRef)(0),u=(0,B.useRef)(0),d=(0,B.useRef)(0),f=(0,B.useRef)(!1),[p,m]=(0,B.useState)(0),h=(r=e==null?void 0:e.diaries)==null?[]:r;(0,B.useEffect)(()=>{s(0)},[h.length]);let g=(0,B.useCallback)(e=>{l.current=e.touches[0].clientX,u.current=e.touches[0].clientY,f.current=!1,m(0)},[]),_=(0,B.useCallback)(e=>{let t=e.touches[0].clientX,n=e.touches[0].clientY,r=t-l.current,i=n-u.current;if(Math.abs(r)>Math.abs(i)&&Math.abs(r)>10){f.current=!0,e.preventDefault();let t=r;(o===0&&r>0||o===h.length-1&&r<0)&&(t=r*.3),m(t)}d.current=t},[o,h.length]),v=(0,B.useCallback)(()=>{let e=d.current-l.current;f.current&&(e>50&&o>0?s(e=>e-1):e<-50&&o<h.length-1&&s(e=>e+1)),m(0),f.current=!1,l.current=0,d.current=0},[o,h.length]),y=(0,B.useCallback)(e=>{s(e)},[]),b=((i=c.current)==null?void 0:i.offsetWidth)||0,x=-o*100;return b>0&&p/b*100,(0,W.jsxs)(G,{className:`${t} relative overflow-hidden`,children:[(0,W.jsx)(`div`,{className:`absolute inset-0 rounded-2xl flex items-center justify-center z-10 transition-all duration-300 ease-in-out ${n?`opacity-100`:`opacity-0 pointer-events-none`}`,style:{backgroundColor:X.loadingOverlay},children:(0,W.jsx)(R,{className:`w-8 h-8 text-white animate-spin`})}),(0,W.jsxs)(`div`,{className:`flex items-center gap-2 mb-4`,children:[(0,W.jsx)(ne,{className:`w-5 h-5`,style:{color:Q.primary}}),(0,W.jsx)(`h3`,{className:`text-base font-semibold text-slate-800`,children:a(`page.emotion.diary`)})]}),h.length>0?(0,W.jsxs)(W.Fragment,{children:[(0,W.jsx)(`div`,{ref:c,className:`relative overflow-hidden touch-pan-y`,onTouchStart:g,onTouchMove:_,onTouchEnd:v,style:{touchAction:`pan-y pinch-zoom`},children:(0,W.jsx)(`div`,{className:`flex`,style:{transform:`translateX(calc(${x}% + ${p}px))`,transition:p===0?`transform 0.3s ease-out`:`none`},children:h.map(e=>(0,W.jsx)(di,{diary:e},e.diaryId))})}),(0,W.jsx)(fi,{total:h.length,current:o,onSelect:y})]}):(0,W.jsx)(`div`,{className:`text-center py-8 text-slate-400 text-sm`,children:a(`common.noData`)})]})});var mi=`emotion_demo_mode`;function hi(){try{return localStorage.getItem(mi)===`true`}catch(e){return console.warn(`[Emotion Demo Mode] Failed to read from localStorage:`,e),!1}}function gi(){try{localStorage.setItem(mi,`true`),console.log(`âœ… [Emotion Demo Mode] Enabled - Using dummy data`)}catch(e){console.error(`[Emotion Demo Mode] Failed to enable:`,e)}}function _i(){try{localStorage.setItem(mi,`false`),console.log(`âœ… [Emotion Demo Mode] Disabled - Using backend data`)}catch(e){console.error(`[Emotion Demo Mode] Failed to disable:`,e)}}function vi(){let e=!hi();return e?gi():_i(),e}function yi({className:e=``,onChange:t}){let{t:n}=L(),[r,i]=(0,B.useState)(hi);return(0,B.useEffect)(()=>{i(hi())},[]),(0,W.jsxs)(`div`,{className:`flex items-center gap-3 ${e}`,children:[(0,W.jsx)(`span`,{className:`text-sm font-medium text-slate-700`,children:n(`page.emotion.demoMode`,`Demo Mode`)}),(0,W.jsx)(`button`,{onClick:()=>{let e=vi();i(e),t==null||t(e),window.location.reload()},className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 ${r?`bg-purple-500`:`bg-slate-300`}`,role:`switch`,"aria-checked":r,"aria-label":n(`page.emotion.toggleDemoMode`,`Toggle demo mode`),children:(0,W.jsx)(`span`,{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r?`translate-x-6`:`translate-x-1`}`})}),(0,W.jsx)(`span`,{className:`text-xs text-slate-500`,children:r?n(`page.emotion.demoModeOn`,`Using dummy data`):n(`page.emotion.demoModeOff`,`Using backend data`)})]})}var bi={å‘¨ä¸€:`weekdays.mon`,å‘¨äºŒ:`weekdays.tue`,å‘¨ä¸‰:`weekdays.wed`,å‘¨å››:`weekdays.thu`,å‘¨äº”:`weekdays.fri`,å‘¨å…­:`weekdays.sat`,å‘¨æ—¥:`weekdays.sun`};function xi(e){let t=new Date(e);return`${String(t.getMonth()+1).padStart(2,`0`)}/${String(t.getDate()).padStart(2,`0`)}`}function Si(e){return e===`up`||e===`dn`||e===`same`?e:`same`}function Ci(e){return e===`good`||e===`neutral`||e===`bad`?e:`neutral`}function wi(){let e=new Date,t=[],n=[],r=[78,82,75,88,85,90,86],i=[25,30,20,35,32,40,38],a=[55,50,60,45,48,42,44],o=[20,20,20,20,20,18,18];for(let s=6;s>=0;s--){let c=new Date(e);c.setDate(c.getDate()-s);let l=c.getDay(),u=[`weekdays.sun`,`weekdays.mon`,`weekdays.tue`,`weekdays.wed`,`weekdays.thu`,`weekdays.fri`,`weekdays.sat`],d=6-s;t.push({date:c,dateLabel:xi(c.toISOString().split(`T`)[0]),weekdayKey:u[l],score:r[d]}),n.push({date:c,dateLabel:xi(c.toISOString().split(`T`)[0]),weekdayKey:u[l],positivePercent:i[d],neutralPercent:a[d],negativePercent:o[d],positiveCount:Math.round(i[d]/5),neutralCount:Math.round(a[d]/5),negativeCount:Math.round(o[d]/5)})}return{trendChartData:t,yAxisRange:{min:0,max:100},compositionData:n,summary:{avgValue:85,previousAvg:86,maxValue:88,maxWeekdayKey:`weekdays.tue`,minValue:82,minWeekdayKey:`weekdays.mon`,emotionLevel:`good`,emotionLabel:`ç§¯æžå‘å¥½`,trend:`dn`,changeValue:1},distribution:{totalCount:55,dominantEmotion:`å¹³é™`,distribution:[{type:`happy`,label:`å¼€å¿ƒ`,count:4,percent:7},{type:`angry`,label:`ç”Ÿæ°”`,count:5,percent:9},{type:`neutral`,label:`å¹³é™`,count:45,percent:82},{type:`surprised`,label:`åº†å¹¸`,count:0,percent:0},{type:`sad`,label:`æ‚²ä¼¤`,count:1,percent:2},{type:`fearful`,label:`ææƒ§`,count:0,percent:0},{type:`disgusted`,label:`åŽŒæ¶`,count:0,percent:0}]},comparison:{current:{average:85},previous:{average:86},insight:null},weeklySummary:{overview:`æœ¬å‘¨"å¼€å¿ƒ"ä¸Ž"å¹³é™"å æ¯”åˆè®¡è¾¾ 72%ã€‚å‘¨å…­çš„æˆ·å¤–æ´»åŠ¨æ˜¾è‘—æå‡äº†æ‚¨çš„æ„‰æ‚¦æŒ‡æ•°ã€‚`,highlights:`å‘¨äºŒå‡ºçŽ°çŸ­æš‚çš„"ç–²æƒ«/æ‚²ä¼¤"æƒ…ç»ªï¼Œä¸»è¦ä¸Žå·¥ä½œåŽ‹åŠ›åŠå‰ä¸€æ™šç¡çœ ä¸è¶³æœ‰å…³ã€‚`,suggestions:[],dataAnalysis:[`æ‚¨çš„æƒ…ç»ªä»¥ç§¯æžä¸ºä¸»ï¼Œæ•´ä½“çŠ¶æ€è‰¯å¥½`,`æƒ…ç»ªæ³¢åŠ¨åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›è¾ƒå¼º`,`å»ºè®®ç»§ç»­ä¿æŒç§¯æžçš„ç”Ÿæ´»æ€åº¦ï¼Œé€‚å½“è¿›è¡Œæ”¾æ¾è®­ç»ƒ`]},diaries:[{diaryId:`dummy-1`,title:`é’±åŒ…å¤±è€Œå¤å¾—`,weekLabel:`å‘¨å›› Thu`,dateLabel:`Nov.21`,timeLabel:`20:22`,content:`ä»Šå¤©å‡ºé—¨ä¹°èœæ—¶ä¸å°å¿ƒæŠŠé’±åŒ…è½åœ¨äº†è¶…å¸‚ï¼Œå›žå®¶æ‰å‘çŽ°ã€‚æ­£ç€æ€¥çš„æ—¶å€™ï¼Œè¶…å¸‚æ‰“æ¥ç”µè¯è¯´æœ‰äººæ¡åˆ°äº¤ç»™äº†æœåŠ¡å°ã€‚çœŸæ˜¯å¤ªæ„Ÿè°¢é‚£ä½å¥½å¿ƒäººäº†ï¼Œä¸–ç•Œè¿˜æ˜¯å¥½äººå¤šå•Šï¼`,emotionTags:[`åº†å¹¸`],imageUrl:`/images/emotion/wallet.png`},{diaryId:`dummy-2`,title:`ç¤¾åŒºæ´»åŠ¨çœŸçƒ­é—¹`,weekLabel:`å‘¨äº” Fri`,dateLabel:`Nov.22`,timeLabel:`15:30`,content:`ä»Šå¤©å‚åŠ äº†ç¤¾åŒºç»„ç»‡çš„è€å¹´äººè”è°Šä¼šï¼Œè§åˆ°äº†å¥½å¤šè€æœ‹å‹ã€‚å¤§å®¶ä¸€èµ·èŠå¤©ã€ä¸‹æ£‹ã€å”±æ­Œï¼Œåº¦è¿‡äº†æ„‰å¿«çš„ä¸‹åˆã€‚æ´»åŠ¨ç»“æŸåŽè¿˜ä¸€èµ·åˆå½±ç•™å¿µï¼ŒçœŸå¸Œæœ›è¿™æ ·çš„æ´»åŠ¨èƒ½å¤šä¸¾åŠžå‡ æ¬¡ã€‚`,emotionTags:[`å¼€å¿ƒ`],imageUrl:`/images/emotion/meeting.png`},{diaryId:`dummy-3`,title:`æœŸå¾…å·²ä¹…çš„å®¶åº­èšé¤`,weekLabel:`å‘¨ä¸€ Mon`,dateLabel:`Nov.24`,timeLabel:`19:33`,content:`ä»Šå¤©å­©å­ä»¬éƒ½å›žæ¥äº†ï¼Œæˆ‘ç‰¹æ„åšäº†ä»–ä»¬çˆ±åƒçš„çº¢çƒ§è‚‰ã€‚å°å­™å­è®²äº†å¾ˆå¤šå­¦æ ¡çš„äº‹æƒ…ï¼Œå¥³å„¿ä¹Ÿåˆ†äº«äº†å·¥ä½œä¸Šçš„è¶£äº‹ã€‚ä¸€å®¶äººå›´ååœ¨ä¸€èµ·åƒé¥­èŠå¤©ï¼Œè¿™ç§æ¸©é¦¨çš„æ„Ÿè§‰çœŸå¥½ã€‚`,emotionTags:[`å¼€å¿ƒ`],imageUrl:`/images/emotion/daughter.png`}]}}function Ti(e){var t,n,r,i,a;if(console.log(`[Emotion Adapter] Input:`,e),!e)return console.warn(`[Emotion Adapter] No API data, using dummy data`),wi();let o=((e==null||(t=e.trend_chart)==null?void 0:t.chart_data)||[]).map(e=>({date:new Date(e.date),dateLabel:xi(e.date),weekdayKey:bi[e.label]||`weekdays.mon`,score:e.score})),s=((e==null||(n=e.emotion_composition)==null?void 0:n.chart_data)||[]).map(e=>({date:new Date(e.date),dateLabel:xi(e.date),weekdayKey:bi[e.label]||`weekdays.mon`,positivePercent:e.positive_percent,neutralPercent:e.neutral_percent,negativePercent:e.negative_percent,positiveCount:e.positive_count,neutralCount:e.neutral_count,negativeCount:e.negative_count})),c=((e==null?void 0:e.emotion_diaries)||[]).map(e=>({diaryId:e.diary_id,title:e.title,weekLabel:e.week_label,dateLabel:e.date_label,timeLabel:e.time_label,content:e.content,emotionTags:e.emotion_tag||[],imageUrl:e.image_url})),l=(e==null?void 0:e.overview)||{},u=l.average||0,d=l.previous_average||0,f=l.max||0,p=l.min||0,m=l.max_label&&bi[l.max_label]||`weekdays.mon`,h=l.min_label&&bi[l.min_label]||`weekdays.mon`,g=Ci(l.emotion_level),_=l.emotion_label||``,v=l.change||{},y=Si(v.trend),b=v.value||0,x=(e==null?void 0:e.emotion_distribution)||{},S={totalCount:x.total_count||0,dominantEmotion:x.dominant_emotion||``,distribution:(x.distribution||[]).map(e=>({type:e.type,label:e.label,count:e.count,percent:e.percent}))},C=(e==null?void 0:e.comparison)||{},w=(e==null?void 0:e.weekly_summary)||{},T={trendChartData:o.length>0?o:wi().trendChartData,yAxisRange:(e==null||(r=e.trend_chart)==null?void 0:r.y_axis_range)||{min:0,max:100},compositionData:s.length>0?s:wi().compositionData,summary:{avgValue:u,previousAvg:d,maxValue:f,maxWeekdayKey:m,minValue:p,minWeekdayKey:h,emotionLevel:g,emotionLabel:_,trend:y,changeValue:b},distribution:S,comparison:{current:{average:((i=C.current)==null?void 0:i.average)||u},previous:{average:((a=C.previous)==null?void 0:a.average)||d},insight:C.insight||null},weeklySummary:{overview:w.overview||null,highlights:w.highlights||null,suggestions:w.suggestions||[],dataAnalysis:w.data_analysis||[]},diaries:c.length>0?c:wi().diaries};return console.log(`[Emotion Adapter] Output:`,T),T}const Ei={all:[`emotion`],trend:(e,t)=>[...Ei.all,`trend`,e==null?void 0:e.startDate,e==null?void 0:e.endDate,t?`demo`:`live`],details:()=>[...Ei.all,`details`]};async function Di(e){try{return await $e(`emotion`,e)}catch(e){return console.warn(`[Emotion API] API not available, using dummy data:`,e),null}}function Oi(e){let t=hi();return E({queryKey:Ei.trend(e,t),queryFn:async()=>{if(t)return console.log(`ðŸŽ­ [Emotion Demo Mode] Using dummy data instead of backend API`),wi();console.log(`[Emotion API] Fetching with dateRange:`,e);let n=await Di(e?{start_date:e.startDate,end_date:e.endDate}:void 0);return console.log(`[Emotion API] Result:`,n),Ti(n)},staleTime:300*1e3,gcTime:600*1e3})}function ki(){let e=hi();return dt({featureName:`Emotion`,queryKeyFn:t=>Ei.trend(t,e),fetchFn:async t=>{if(e)return wi();try{return Ti(await Di({start_date:t.startDate,end_date:t.endDate}))}catch(e){return wi()}}})}function Ai(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,`0`)}-${String(e.getDate()).padStart(2,`0`)}`}function ji(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,`0`)}/${String(e.getDate()).padStart(2,`0`)}`}function Mi(){let{t:e}=L(),{theme:t}=vt(),{prefetchPreviousWeeks:n}=ki(),[r,i]=(0,B.useState)(()=>{let e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,B.useEffect)(()=>{n(r.end,3)},[r.end,n]);let a=(0,B.useMemo)(()=>{let e=new Date;e.setHours(0,0,0,0);let t=new Date(r.end);return t.setHours(0,0,0,0),t<e},[r.end]),o=(0,B.useMemo)(()=>({startDate:Ai(r.start),endDate:Ai(r.end)}),[r]),s=(0,B.useMemo)(()=>({start:ji(r.start),end:ji(r.end)}),[r]),c=()=>{i(e=>{let t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},l=()=>{a&&i(e=>{let t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);let r=new Date;return n>r&&(n.setTime(r.getTime()),t.setTime(r.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},{data:u,isLoading:d,isFetching:f,error:p}=Oi(o),[m,h]=(0,B.useState)(!1),g=(0,B.useRef)(null),_=(0,B.useRef)(0);return(0,B.useEffect)(()=>{if(f)h(!0),_.current=Date.now(),g.current&&(clearTimeout(g.current),g.current=null);else{let e=Date.now()-_.current,t=Math.max(0,1e3-e);g.current&&clearTimeout(g.current),g.current=setTimeout(()=>{h(!1),g.current=null},t)}return()=>{g.current&&clearTimeout(g.current)}},[f]),p?(0,W.jsx)(`div`,{className:`min-h-screen flex items-center justify-center p-4`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`text-center`,children:[(0,W.jsx)(`p`,{className:`text-red-500 mb-2`,children:e(`common.error`)}),(0,W.jsx)(`p`,{className:`text-sm`,style:{color:t.textSecondary},children:String(p)})]})}):(0,W.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:t.background},children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsxs)(`div`,{className:`sticky top-0 z-20 py-3 px-4`,style:{backgroundColor:t.background},children:[(0,W.jsx)(`div`,{className:`flex justify-center`,children:(0,W.jsx)(je,{startDate:s.start,endDate:s.end,onPrevious:c,onNext:l,disableNext:!a})}),(0,W.jsx)(`div`,{className:`flex justify-center mt-3`,children:(0,W.jsx)(yi,{})})]}),(0,W.jsx)(`div`,{className:`px-4 space-y-4`,children:!u&&!d?(0,W.jsx)(`div`,{className:`text-center py-12`,children:(0,W.jsx)(`p`,{className:`text-slate-500`,children:e(`common.noData`)})}):(0,W.jsxs)(`div`,{className:`space-y-4`,children:[(0,W.jsx)(ti,{data:u,isLoading:m||d}),(0,W.jsx)(ri,{data:u,isLoading:m||d}),(0,W.jsx)(ai,{data:u,isLoading:m||d}),(0,W.jsx)(oi,{data:u,isLoading:m||d}),(0,W.jsx)(si,{data:u,isLoading:m||d}),(0,W.jsx)(pi,{data:u,isLoading:m||d}),(0,W.jsx)(yt,{})]})})]})})}var Ni=[{category:`Details Pages`,items:[{path:`/details/healthy`,label:`Healthy Dashboard`,icon:le,color:Ie.primary,alphaColor:Ie.alpha},{path:`/details/blood-pressure`,label:`Blood Pressure`,icon:re,color:q.bp,alphaColor:J.bp},{path:`/details/spo2`,label:`Blood Oxygen (SpO2)`,icon:ae,color:q.spo2,alphaColor:J.spo2},{path:`/details/heart-rate`,label:`Heart Rate`,icon:ye,color:q.heartRate,alphaColor:J.heartRate},{path:`/details/glucose`,label:`Blood Glucose`,icon:te,color:q.glucose,alphaColor:J.glucose},{path:`/details/sleep`,label:`Sleep`,icon:fe,color:q.sleep,alphaColor:J.sleep},{path:`/details/emotion`,label:`Emotion`,icon:oe,color:`rgb(251, 146, 61)`,alphaColor:`rgba(251, 146, 61, 0.125)`}]},{category:`Widget Pages (for iframe embedding)`,items:[{path:`/widget/blood-pressure/trend`,label:`BP Trend Widget`,icon:re,color:q.bp,alphaColor:J.bp},{path:`/widget/spo2/trend`,label:`SpO2 Trend Widget`,icon:ae,color:q.spo2,alphaColor:J.spo2},{path:`/widget/heart-rate/trend`,label:`HR Trend Widget`,icon:ye,color:q.heartRate,alphaColor:J.heartRate},{path:`/widget/glucose/trend`,label:`Glucose Trend Widget`,icon:te,color:q.glucose,alphaColor:J.glucose}]}];function Pi(){let{t:e,i18n:t}=L();return(0,W.jsx)(`div`,{className:`min-h-screen bg-[#F1EFEE] p-6`,children:(0,W.jsxs)(`div`,{className:`max-w-2xl mx-auto`,children:[(0,W.jsxs)(`div`,{className:`flex items-center justify-between mb-8`,children:[(0,W.jsxs)(`div`,{children:[(0,W.jsx)(`h1`,{className:`text-3xl font-bold text-slate-800`,children:`Health Vitals`}),(0,W.jsx)(`p`,{className:`text-slate-500 mt-1`,children:`Visualization Library`})]}),(0,W.jsx)(`button`,{onClick:()=>{t.changeLanguage(t.language===`en`?`zh`:`en`)},className:`px-4 py-2 bg-white rounded-xl shadow-sm text-sm font-medium text-slate-600 hover:bg-slate-50 transition-colors`,children:t.language===`en`?`ä¸­æ–‡`:`English`})]}),Ni.map(e=>(0,W.jsxs)(`div`,{className:`mb-8`,children:[(0,W.jsx)(`h2`,{className:`text-sm font-semibold text-slate-400 uppercase tracking-wider mb-4`,children:e.category}),(0,W.jsx)(`div`,{className:`grid gap-3`,children:e.items.map(e=>{let t=e.icon;return(0,W.jsxs)(j,{to:e.path,className:`flex items-center gap-4 p-4 bg-white rounded-2xl shadow-sm hover:shadow-md transition-all group`,children:[(0,W.jsx)(`div`,{className:`w-12 h-12 rounded-xl flex items-center justify-center`,style:{backgroundColor:e.alphaColor},children:(0,W.jsx)(t,{className:`w-6 h-6`,style:{color:e.color}})}),(0,W.jsxs)(`div`,{className:`flex-1`,children:[(0,W.jsx)(`p`,{className:`font-medium text-slate-800 group-hover:text-slate-900`,children:e.label}),(0,W.jsx)(`p`,{className:`text-sm text-slate-400 font-mono`,children:e.path})]}),(0,W.jsx)(`svg`,{className:`w-5 h-5 text-slate-300 group-hover:text-slate-400 transition-colors`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`,children:(0,W.jsx)(`path`,{strokeLinecap:`round`,strokeLinejoin:`round`,strokeWidth:2,d:`M9 5l7 7-7 7`})})]},e.path)})})]},e.category)),(0,W.jsxs)(`div`,{className:`p-4 bg-white/50 rounded-2xl border border-slate-200`,children:[(0,W.jsx)(`h3`,{className:`text-sm font-semibold text-slate-600 mb-2`,children:`URL Parameters`}),(0,W.jsxs)(`div`,{className:`text-sm text-slate-500 space-y-1 font-mono`,children:[(0,W.jsx)(`p`,{children:`?lang=en | ?lang=zh`}),(0,W.jsx)(`p`,{children:`?theme=light | ?theme=dark`})]})]})]})})}t.use(a).use(D).init({resources:{en:{translation:{nav:{bloodPressure:`Blood Pressure`,spo2:`Blood Oxygen`,heartRate:`Heart Rate`,glucose:`Blood Glucose`},home:{title:`Health Vital Visualization`,subtitle:`Health Data Visualization Library`,detailPages:`Detail Pages`,widgetPages:`Widget Components`},common:{loading:`Loading...`,error:`An error occurred`,retry:`Retry`,noData:`No data available`,average:`Average`,max:`Max`,min:`Min`,value:`Value`,times:`times`,time:`time`,good:`Good`,inAverage:`in average`,daily:`Daily`,weekly:`Weekly`,disclaimer:`The monitoring results of this product are for reference only. Some content is generated by AI, so please verify carefully. It should not be used for medical diagnosis. If you feel unwell, please seek medical attention promptly.`},vitals:{bloodPressure:`Blood Pressure`,systolic:`Systolic`,diastolic:`Diastolic`,sbp:`SBP`,dbp:`DBP`,pulse:`Pulse`,spo2:`Blood Oxygen`,heartRate:`Heart Rate`,glucose:`Blood Glucose`,fasting:`Fasting`,postMeal:`Post-meal`,bloodSugar:`Blood Sugar`,bloodOxygen:`Blood Oxygen`,sleep:`Sleep`,emotion:`Emotion`,nutrition:`Nutrition`},units:{mmHg:`mmHg`,percent:`%`,mgDl:`mg/dL`,mmolL:`mmol/L`,bpm:`bpm`,minute:`minute`},status:{normal:`Normal`,elevated:`Elevated`,high:`High`,low:`Low`,slow:`Slow`,good:`Good`,warning:`Warning`,danger:`Danger`,normalHighValue:`Normal high value`,tooLow:`Too low`,tooHigh:`Too High`},trend:{up:`Increased`,down:`Decreased`,stable:`Stable`},time:{week:`Week`,month:`Month`,year:`Year`,today:`Today`,yesterday:`Yesterday`,lastWeek:`Last week`},weekdays:{mon:`Mon`,tue:`Tue`,wed:`Wed`,thu:`Thu`,fri:`Fri`,sat:`Sat`,sun:`Sun`},page:{bloodPressure:{title:`Blood Pressure Details`,trendyReport:`Trendy Report`,weeksAverageSBP:`Week's average SBP`,weeksAverageDBP:`Week's average DBP`,bpStatistics:`BP Statistics`,normalResults:`normal blood pressure results`,compareWithLastWeek:`Compare With Last Week`,averageSBP:`Average SBP`,averageDBP:`Average diastolic blood pressure`,weeklyOverview:`Weekly Overview`,overallSituation:`Overall situation`,needsAttention:`Needs attention`,defaultInsight:`Your blood pressure is generally within the ideal range. Although your systolic blood pressure has risen slightly compared to last week, it remains within the normal fluctuation range.`},spo2:{title:`Blood Oxygen Details`,trendTitle:`SpO2 Trend`,trendyReport:`Trendy Report`,weeksAverage:`Week's average SpO2`,normalRange:`Normal range`,range:`Range`,mean:`Mean`,statistics:`SpO2 Statistics`,totalTests:`Total test times`,dataAnalysis:`Data analysis`,weeklyOverview:`Weekly Overview`,overallSituation:`Overall situation`,anomalyAlert:`Anomaly alert`,weeklyComparison:`Weekly Comparison`,averageReading:`Average Reading`,lastReading:`Last Reading`,rangeToday:`Today's Range`,defaultAnalysis1:`The average blood oxygen saturation this week was {{avg}}%, the same as last week.`,defaultAnalysis2:`Your blood oxygen level remained at a high level ({{max}}%) from {{maxDay}}.`,defaultAnalysis3:`On {{minDay}}, a blood oxygen level of {{min}}% was recorded, slightly below the lower limit of the normal range.`,defaultOverview:`Your blood oxygen is generally within the ideal range. Although it has fluctuated slightly compared to last week, it remains within the normal fluctuation range.`,defaultHighlights:`The trend chart shows that your blood oxygen fluctuated significantly during the week. Meanwhile, the statistics show that your blood oxygen measurements varied across different levels. We will continue to monitor your condition and help you identify any possible causes for the low blood oxygen.`},heartRate:{title:`Heart Rate Details`,trendTitle:`Heart Rate Trend`,trendyReport:`Trendy Report`,weeksAverage:`Week's average heart rate`,range:`Range`,mean:`Mean`,statistics:`Heart Rate Distribution`,totalTests:`Total test times`,dataAnalysis:`Data analysis`,weeklyOverview:`Weekly Overview`,overallSituation:`Overall situation`,anomalyAlert:`Anomaly alert`,weeklyComparison:`Weekly Comparison`,averageReading:`Average Reading`,lastReading:`Last Reading`,restingHR:`Resting HR`,maxHR:`Max HR`,defaultAnalysis1:`The average heart rate this week was {{avg}} bpm.`,defaultAnalysis2:`Your heart rate reached a peak of {{max}} bpm on {{maxDay}}.`,defaultAnalysis3:`The lowest heart rate of {{min}} bpm was recorded on {{minDay}}.`,defaultOverview:`Your heart rate is generally within the normal range this week. Keep up with your regular exercise routine!`,defaultHighlights:`The trend chart shows some fluctuations in your heart rate during the week. This is normal and can be influenced by physical activity, stress levels, and sleep quality.`},glucose:{title:`Blood Glucose Details`,trendTitle:`Blood Glucose Trend`,trendyReport:`Trendy Report`,weeksAverage:`Week's average glucose`,normalRange:`Normal range`,range:`Range`,mean:`Mean`,statistics:`Glucose Statistics`,normalResults:`normal glucose results`,compareWithLastWeek:`Compare With Last Week`,averageGlucose:`Average glucose`,weeklyOverview:`Weekly Overview`,overallSituation:`Overall situation`,needsAttention:`Needs attention`,weeklyComparison:`Weekly Comparison`,averageReading:`Average Reading`,lastReading:`Last Reading`,fastingLevel:`Fasting Level`,postMealLevel:`Post-meal Level`,fastingNormal:`Fasting normal`,postMealNormal:`Post-meal normal`,defaultInsight:`Your blood glucose is generally within the normal range. Keep maintaining a balanced diet and regular exercise habits for stable blood sugar levels.`,defaultOverview:`Your blood glucose levels are generally within the normal range this week. Keep up the good work with your diet and exercise habits!`,defaultHighlights:`The trend chart shows some fluctuations in your blood glucose levels during the week. Pay attention to your diet, especially after meals, to maintain stable blood sugar levels.`},sleep:{title:`Sleep Details`,trendyReport:`Trendy Report`,weeksAverageSleep:`Week's average sleep`,sleepStructure:`Sleep Structure`,deepSleep:`Deep Sleep`,lightSleep:`Light Sleep`,remSleep:`REM Sleep`,awake:`Awake`,standard:`Standard`,dataAnalysis:`Data Analysis`,compareWithLastWeek:`Compare With Last Week`,avgSleepTime:`Avg. sleep time`,avgWakeTime:`Avg. wake time`,sameAsLastWeek:`Same as last week`,weeklyOverview:`Weekly Overview`,overallSituation:`Overall situation`,needsAttention:`Needs attention`,defaultInsight:`Your sleep schedule has been consistent this week. Maintaining a regular sleep routine is beneficial for your overall health and well-being.`,defaultOverview:`Your sleep quality this week has been generally good. You have maintained a consistent sleep schedule, which is beneficial for your overall health.`,defaultHighlights:`The trend chart shows your sleep patterns have been relatively stable throughout the week. However, pay attention to your REM sleep ratio as it may affect your sleep quality and dream patterns.`,defaultAnalysis1:`The average blood oxygen saturation this week was 97%, the same as last week.`,defaultAnalysis2:`Your blood oxygen level remained at a high level (98%) from Tuesday to Thursday this week.`,defaultAnalysis3:`On Friday, a blood oxygen level of 94% was recorded, slightly below the lower limit of the normal range.`,highest:`Highest`,lowest:`Lowest`},emotion:{title:`Emotion Details`,trendyReport:`Trendy Report`,weeksAverage:`Week's average emotion`,points:`pts`,score:`Emotion score`,statistics:`Emotion Statistics`,distribution:`Emotion Distribution`,dataAnalysis:`Data Analysis`,weeklyOverview:`Weekly Overview`,overallSituation:`Overall situation`,needsAttention:`Needs attention`,diary:`Emotion Diary`,positive:`Positive`,neutral:`Neutral`,negative:`Negative`,defaultOverview:`Your emotional state has been generally positive this week. Keep maintaining a good mindset and healthy lifestyle habits!`,defaultHighlights:`The trend chart shows some fluctuations in your emotions during the week. This is normal and can be influenced by work stress, sleep quality, and social activities.`,defaultAnalysis1:`Your emotions are predominantly positive, with an overall good state`,defaultAnalysis2:`Emotional fluctuations are within normal range, showing good emotional regulation ability`,defaultAnalysis3:`It is recommended to continue maintaining a positive attitude and practice relaxation techniques`,demoMode:`Demo Mode`,toggleDemoMode:`Toggle demo mode`,demoModeOn:`Using dummy data`,demoModeOff:`Using backend data`}},healthy:{comprehensiveHealth:`Comprehensive health data`,aiGenerated:`AI Generated`,bpDescription:`Your average systolic blood pressure over the past {{period}} was `,bpDescriptionCont:`, and your average diastolic blood pressure was `,hrDescription:`Your average heart rate over the past {{period}} was `,hrDescriptionCont:`, with normal resting heart rate patterns.`,heartRateLabel:`Heart rate`,bsDescription:`Your average blood sugar over the past {{period}} was `,bsDescriptionCont:`, within the normal range.`,spo2Description:`Your average blood oxygen over the past {{period}} was `,spo2DescriptionCont:`, maintaining healthy oxygen levels.`,sleepDescription:`Your average sleep duration over the past {{period}} was `,sleepDescriptionCont:`, with good sleep quality.`,sleepTime:`Sleep time`,emotionDescription:`Your emotional state over the past {{period}} was `,emotionDescriptionCont:`, showing positive trends.`,positive:`Positive`,neutral:`Neutral`,negative:`Negative`,nutritionDescription:`Your nutrition intake over the past {{period}} was `,nutritionDescriptionCont:`, within recommended levels.`,demoMode:`Demo Mode`,toggleDemoMode:`Toggle demo mode`,demoModeOn:`Using dummy data`,demoModeOff:`Using backend data`}}},zh:{translation:{nav:{bloodPressure:`è¡€åŽ‹`,spo2:`è¡€æ°§`,heartRate:`å¿ƒçŽ‡`,glucose:`è¡€ç³–`},home:{title:`å¥åº·æ•°æ®å¯è§†åŒ–`,subtitle:`Health Vital Visualization ç»„ä»¶åº“`,detailPages:`è¯¦æƒ…é¡µé¢`,widgetPages:`Widget ç»„ä»¶`},common:{loading:`åŠ è½½ä¸­...`,error:`å‘ç”Ÿé”™è¯¯`,retry:`é‡è¯•`,noData:`æš‚æ— æ•°æ®`,average:`å¹³å‡`,max:`æœ€é«˜`,min:`æœ€ä½Ž`,value:`æ•°å€¼`,times:`æ¬¡`,time:`æ¬¡`,good:`è‰¯å¥½`,inAverage:`å¹³å‡`,daily:`æ¯æ—¥`,weekly:`æ¯å‘¨`,disclaimer:`æœ¬äº§å“çš„ç›‘æµ‹ç»“æžœä»…ä¾›å‚è€ƒã€‚éƒ¨åˆ†å†…å®¹ç”± AI ç”Ÿæˆï¼Œè¯·ä»”ç»†æ ¸å®žã€‚ä¸åº”ç”¨äºŽåŒ»ç–—è¯Šæ–­ã€‚å¦‚æžœæ‚¨æ„Ÿåˆ°ä¸é€‚ï¼Œè¯·åŠæ—¶å°±åŒ»ã€‚`},vitals:{bloodPressure:`è¡€åŽ‹`,systolic:`æ”¶ç¼©åŽ‹`,diastolic:`èˆ’å¼ åŽ‹`,sbp:`é«˜åŽ‹`,dbp:`ä½ŽåŽ‹`,pulse:`è„‰æ`,spo2:`è¡€æ°§`,heartRate:`å¿ƒçŽ‡`,glucose:`è¡€ç³–`,fasting:`ç©ºè…¹`,postMeal:`é¤åŽ`,bloodSugar:`è¡€ç³–`,bloodOxygen:`è¡€æ°§`,sleep:`ç¡çœ `,emotion:`æƒ…ç»ª`,nutrition:`è¥å…»`},units:{mmHg:`mmHg`,percent:`%`,mgDl:`mg/dL`,mmolL:`mmol/L`,bpm:`æ¬¡/åˆ†`,minute:`åˆ†é’Ÿ`},status:{normal:`æ­£å¸¸`,elevated:`åé«˜`,high:`è¿‡é«˜`,low:`åä½Ž`,slow:`è¿‡ç¼“`,good:`è‰¯å¥½`,warning:`è­¦å‘Š`,danger:`å±é™©`,normalHighValue:`æ­£å¸¸é«˜å€¼`,tooLow:`è¿‡ä½Ž`,tooHigh:`è¿‡é«˜`},trend:{up:`ä¸Šå‡`,down:`ä¸‹é™`,stable:`å¹³ç¨³`},time:{week:`å‘¨`,month:`æœˆ`,year:`å¹´`,today:`ä»Šå¤©`,yesterday:`æ˜¨å¤©`,lastWeek:`ä¸Šå‘¨`},weekdays:{mon:`å‘¨ä¸€`,tue:`å‘¨äºŒ`,wed:`å‘¨ä¸‰`,thu:`å‘¨å››`,fri:`å‘¨äº”`,sat:`å‘¨å…­`,sun:`å‘¨æ—¥`},page:{bloodPressure:{title:`è¡€åŽ‹è¯¦æƒ…`,trendyReport:`è¶‹åŠ¿æŠ¥å‘Š`,weeksAverageSBP:`æœ¬å‘¨å¹³å‡é«˜åŽ‹`,weeksAverageDBP:`æœ¬å‘¨å¹³å‡ä½ŽåŽ‹`,bpStatistics:`è¡€åŽ‹ç»Ÿè®¡`,normalResults:`æ¬¡æ­£å¸¸è¡€åŽ‹ç»“æžœ`,compareWithLastWeek:`ä¸Žä¸Šå‘¨å¯¹æ¯”`,averageSBP:`å¹³å‡é«˜åŽ‹`,averageDBP:`å¹³å‡èˆ’å¼ åŽ‹`,weeklyOverview:`å‘¨æŠ¥æ¦‚è§ˆ`,overallSituation:`æ•´ä½“æƒ…å†µ`,needsAttention:`éœ€è¦æ³¨æ„`,defaultInsight:`æ‚¨çš„è¡€åŽ‹æ•´ä½“å¤„äºŽç†æƒ³èŒƒå›´å†…ã€‚è™½ç„¶ä¸Žä¸Šå‘¨ç›¸æ¯”ï¼Œæ”¶ç¼©åŽ‹ç•¥æœ‰ä¸Šå‡ï¼Œä½†ä»å¤„äºŽæ­£å¸¸æ³¢åŠ¨èŒƒå›´å†…ã€‚`},spo2:{title:`è¡€æ°§è¯¦æƒ…`,trendTitle:`è¡€æ°§è¶‹åŠ¿`,trendyReport:`è¶‹åŠ¿æŠ¥å‘Š`,weeksAverage:`æœ¬å‘¨å¹³å‡è¡€æ°§`,normalRange:`æ­£å¸¸èŒƒå›´`,range:`èŒƒå›´`,mean:`å‡å€¼`,statistics:`è¡€æ°§ç»Ÿè®¡`,totalTests:`æ¬¡æ•°`,dataAnalysis:`æ•°æ®åˆ†æž`,weeklyOverview:`å‘¨æŠ¥æ¦‚è§ˆ`,overallSituation:`æ•´ä½“æƒ…å†µ`,anomalyAlert:`å¼‚å¸¸è­¦æŠ¥`,weeklyComparison:`æœ¬å‘¨å¯¹æ¯”`,averageReading:`å¹³å‡è¡€æ°§`,lastReading:`æœ€è¿‘è¯»æ•°`,rangeToday:`ä»Šæ—¥èŒƒå›´`,defaultAnalysis1:`æœ¬å‘¨å¹³å‡è¡€æ°§é¥±å’Œåº¦ä¸º {{avg}}%ï¼Œä¸Žä¸Šå‘¨æŒå¹³ã€‚`,defaultAnalysis2:`è¡€æ°§æ°´å¹³åœ¨{{maxDay}}ä¿æŒè¾ƒé«˜æ°´å¹³ï¼ˆ{{max}}%ï¼‰ã€‚`,defaultAnalysis3:`{{minDay}}è®°å½•åˆ°è¡€æ°§æ°´å¹³ä¸º {{min}}%ï¼Œç•¥ä½ŽäºŽæ­£å¸¸èŒƒå›´ä¸‹é™ã€‚`,defaultOverview:`æ‚¨çš„è¡€æ°§æ•´ä½“å¤„äºŽç†æƒ³èŒƒå›´å†…ã€‚è™½ç„¶ä¸Žä¸Šå‘¨ç›¸æ¯”ç•¥æœ‰æ³¢åŠ¨ï¼Œä½†ä»å¤„äºŽæ­£å¸¸æ³¢åŠ¨èŒƒå›´å†…ã€‚`,defaultHighlights:`è¶‹åŠ¿å›¾æ˜¾ç¤ºæ‚¨çš„è¡€æ°§åœ¨æœ¬å‘¨ä¸­æœ‰æ˜Žæ˜¾æ³¢åŠ¨ã€‚ç»Ÿè®¡æ•°æ®æ˜¾ç¤ºæ‚¨çš„è¡€æ°§æµ‹é‡å€¼åœ¨ä¸åŒæ°´å¹³é—´æœ‰ä¸€å®šå˜åŒ–ã€‚æˆ‘ä»¬å°†ç»§ç»­ç›‘æµ‹æ‚¨çš„çŠ¶å†µï¼Œå¹¶å¸®åŠ©æ‚¨è¯†åˆ«ä»»ä½•å¯èƒ½å¯¼è‡´è¡€æ°§åä½Žçš„åŽŸå› ã€‚`},heartRate:{title:`å¿ƒçŽ‡è¯¦æƒ…`,trendTitle:`å¿ƒçŽ‡è¶‹åŠ¿`,trendyReport:`è¶‹åŠ¿æŠ¥å‘Š`,weeksAverage:`æœ¬å‘¨å¹³å‡å¿ƒçŽ‡`,range:`èŒƒå›´`,mean:`å‡å€¼`,statistics:`å¿ƒçŽ‡ç»Ÿè®¡`,totalTests:`æ¬¡æ•°`,dataAnalysis:`æ•°æ®åˆ†æž`,weeklyOverview:`å‘¨æŠ¥æ¦‚è§ˆ`,overallSituation:`æ•´ä½“æƒ…å†µ`,anomalyAlert:`å¼‚å¸¸è­¦æŠ¥`,weeklyComparison:`æœ¬å‘¨å¯¹æ¯”`,averageReading:`å¹³å‡å¿ƒçŽ‡`,lastReading:`æœ€è¿‘è¯»æ•°`,restingHR:`é™æ¯å¿ƒçŽ‡`,maxHR:`æœ€é«˜å¿ƒçŽ‡`,defaultAnalysis1:`æœ¬å‘¨å¹³å‡å¿ƒçŽ‡ä¸º {{avg}} æ¬¡/åˆ†ã€‚`,defaultAnalysis2:`å¿ƒçŽ‡åœ¨{{maxDay}}è¾¾åˆ°å³°å€¼ {{max}} æ¬¡/åˆ†ã€‚`,defaultAnalysis3:`{{minDay}}è®°å½•åˆ°æœ€ä½Žå¿ƒçŽ‡ {{min}} æ¬¡/åˆ†ã€‚`,defaultOverview:`æ‚¨çš„å¿ƒçŽ‡æœ¬å‘¨æ•´ä½“å¤„äºŽæ­£å¸¸èŒƒå›´å†…ã€‚ç»§ç»­ä¿æŒå¸¸è§„çš„è¿åŠ¨ä¹ æƒ¯ï¼`,defaultHighlights:`è¶‹åŠ¿å›¾æ˜¾ç¤ºæ‚¨çš„å¿ƒçŽ‡åœ¨æœ¬å‘¨ä¸­æœ‰ä¸€äº›æ³¢åŠ¨ã€‚è¿™æ˜¯æ­£å¸¸çš„ï¼Œå¯èƒ½ä¼šå—åˆ°ä½“åŠ›æ´»åŠ¨ã€åŽ‹åŠ›æ°´å¹³å’Œç¡çœ è´¨é‡çš„å½±å“ã€‚`},glucose:{title:`è¡€ç³–è¯¦æƒ…`,trendTitle:`è¡€ç³–è¶‹åŠ¿`,trendyReport:`è¶‹åŠ¿æŠ¥å‘Š`,weeksAverage:`æœ¬å‘¨å¹³å‡è¡€ç³–`,normalRange:`æ­£å¸¸èŒƒå›´`,range:`èŒƒå›´`,mean:`å‡å€¼`,statistics:`è¡€ç³–ç»Ÿè®¡`,normalResults:`æ¬¡æ­£å¸¸è¡€ç³–ç»“æžœ`,compareWithLastWeek:`ä¸Žä¸Šå‘¨å¯¹æ¯”`,averageGlucose:`å¹³å‡è¡€ç³–`,weeklyOverview:`å‘¨æŠ¥æ¦‚è§ˆ`,overallSituation:`æ•´ä½“æƒ…å†µ`,needsAttention:`éœ€è¦æ³¨æ„`,weeklyComparison:`æœ¬å‘¨å¯¹æ¯”`,averageReading:`å¹³å‡è¡€ç³–`,lastReading:`æœ€è¿‘è¯»æ•°`,fastingLevel:`ç©ºè…¹è¡€ç³–`,postMealLevel:`é¤åŽè¡€ç³–`,fastingNormal:`ç©ºè…¹æ­£å¸¸å€¼`,postMealNormal:`é¤åŽæ­£å¸¸å€¼`,defaultInsight:`æ‚¨çš„è¡€ç³–æ°´å¹³æ•´ä½“å¤„äºŽæ­£å¸¸èŒƒå›´å†…ã€‚è¯·ç»§ç»­ä¿æŒå‡è¡¡çš„é¥®é£Ÿå’Œè§„å¾‹çš„è¿åŠ¨ä¹ æƒ¯ï¼Œä»¥ç»´æŒç¨³å®šçš„è¡€ç³–æ°´å¹³ã€‚`,defaultOverview:`æœ¬å‘¨æ‚¨çš„è¡€ç³–æ°´å¹³æ•´ä½“å¤„äºŽæ­£å¸¸èŒƒå›´å†…ã€‚ç»§ç»­ä¿æŒè‰¯å¥½çš„é¥®é£Ÿå’Œè¿åŠ¨ä¹ æƒ¯ï¼`,defaultHighlights:`è¶‹åŠ¿å›¾æ˜¾ç¤ºæ‚¨çš„è¡€ç³–åœ¨æœ¬å‘¨ä¸­æœ‰ä¸€äº›æ³¢åŠ¨ã€‚è¯·æ³¨æ„é¥®é£Ÿï¼Œå°¤å…¶æ˜¯é¤åŽï¼Œä»¥ä¿æŒè¡€ç³–æ°´å¹³ç¨³å®šã€‚`},sleep:{title:`ç¡çœ è¯¦æƒ…`,trendyReport:`è¶‹åŠ¿æŠ¥å‘Š`,weeksAverageSleep:`æœ¬å‘¨å¹³å‡ç¡çœ `,sleepStructure:`ç¡çœ ç»“æž„`,deepSleep:`æ·±åº¦ç¡çœ `,lightSleep:`æµ…ç¡çœ `,remSleep:`å¿«é€Ÿçœ¼åŠ¨`,awake:`æ¸…é†’`,standard:`æ ‡å‡†`,dataAnalysis:`æ•°æ®åˆ†æž`,compareWithLastWeek:`ä¸Žä¸Šå‘¨å¯¹æ¯”`,avgSleepTime:`å¹³å‡å…¥ç¡æ—¶é—´`,avgWakeTime:`å¹³å‡èµ·åºŠæ—¶é—´`,sameAsLastWeek:`ä¸Žä¸Šå‘¨æŒå¹³`,weeklyOverview:`å‘¨æŠ¥æ¦‚è§ˆ`,overallSituation:`æ•´ä½“æƒ…å†µ`,needsAttention:`éœ€è¦æ³¨æ„`,defaultInsight:`æœ¬å‘¨æ‚¨çš„ç¡çœ ä½œæ¯æ¯”è¾ƒè§„å¾‹ã€‚ä¿æŒè§„å¾‹çš„ç¡çœ ä¹ æƒ¯å¯¹æ‚¨çš„æ•´ä½“å¥åº·éžå¸¸æœ‰ç›Šã€‚`,defaultOverview:`æœ¬å‘¨æ‚¨çš„ç¡çœ è´¨é‡æ•´ä½“è‰¯å¥½ã€‚æ‚¨ä¿æŒäº†è¾ƒä¸ºè§„å¾‹çš„ç¡çœ ä½œæ¯ï¼Œè¿™å¯¹æ‚¨çš„æ•´ä½“å¥åº·éžå¸¸æœ‰ç›Šã€‚`,defaultHighlights:`è¶‹åŠ¿å›¾æ˜¾ç¤ºæ‚¨æœ¬å‘¨çš„ç¡çœ æ¨¡å¼ç›¸å¯¹ç¨³å®šã€‚ä½†è¯·æ³¨æ„æ‚¨çš„å¿«é€Ÿçœ¼åŠ¨ç¡çœ æ¯”ä¾‹ï¼Œè¿™å¯èƒ½ä¼šå½±å“æ‚¨çš„ç¡çœ è´¨é‡å’Œæ¢¦å¢ƒæ¨¡å¼ã€‚`,defaultAnalysis1:`æœ¬å‘¨å¹³å‡è¡€æ°§é¥±å’Œåº¦ä¸º 97%ï¼Œä¸Žä¸Šå‘¨æŒå¹³ã€‚`,defaultAnalysis2:`è¡€æ°§æ°´å¹³åœ¨æœ¬å‘¨äºŒè‡³å‘¨å››ä¿æŒè¾ƒé«˜æ°´å¹³ï¼ˆ98%ï¼‰ã€‚`,defaultAnalysis3:`å‘¨äº”è®°å½•åˆ°è¡€æ°§æ°´å¹³ä¸º 94%ï¼Œç•¥ä½ŽäºŽæ­£å¸¸èŒƒå›´ä¸‹é™ã€‚`,highest:`æœ€é«˜`,lowest:`æœ€ä½Ž`},emotion:{title:`æƒ…ç»ªè¯¦æƒ…`,trendyReport:`è¶‹åŠ¿æŠ¥å‘Š`,weeksAverage:`æœ¬å‘¨å¹³å‡æƒ…ç»ª`,points:`åˆ†`,score:`æƒ…ç»ªåˆ†æ•°`,statistics:`æƒ…ç»ªç»Ÿè®¡`,distribution:`æƒ…ç»ªåˆ†å¸ƒ`,dataAnalysis:`æ•°æ®åˆ†æž`,weeklyOverview:`å‘¨æŠ¥æ¦‚è§ˆ`,overallSituation:`æ•´ä½“æƒ…å†µ`,needsAttention:`éœ€è¦æ³¨æ„`,diary:`æƒ…ç»ªæ—¥è®°`,positive:`ç§¯æž`,neutral:`ä¸­æ€§`,negative:`æ¶ˆæž`,defaultOverview:`æœ¬å‘¨æ‚¨çš„æƒ…ç»ªæ•´ä½“å¤„äºŽç§¯æžçŠ¶æ€ã€‚ç»§ç»­ä¿æŒè‰¯å¥½çš„å¿ƒæ€å’Œç”Ÿæ´»ä¹ æƒ¯ï¼`,defaultHighlights:`è¶‹åŠ¿å›¾æ˜¾ç¤ºæ‚¨çš„æƒ…ç»ªåœ¨æœ¬å‘¨ä¸­æœ‰ä¸€äº›æ³¢åŠ¨ã€‚è¿™æ˜¯æ­£å¸¸çš„ï¼Œå¯èƒ½ä¼šå—åˆ°å·¥ä½œåŽ‹åŠ›ã€ç¡çœ è´¨é‡å’Œç¤¾äº¤æ´»åŠ¨çš„å½±å“ã€‚`,defaultAnalysis1:`æ‚¨çš„æƒ…ç»ªä»¥ç§¯æžä¸ºä¸»ï¼Œæ•´ä½“çŠ¶æ€è‰¯å¥½`,defaultAnalysis2:`æƒ…ç»ªæ³¢åŠ¨åœ¨æ­£å¸¸èŒƒå›´å†…ï¼Œæƒ…ç»ªè°ƒèŠ‚èƒ½åŠ›è¾ƒå¼º`,defaultAnalysis3:`å»ºè®®ç»§ç»­ä¿æŒç§¯æžçš„ç”Ÿæ´»æ€åº¦ï¼Œé€‚å½“è¿›è¡Œæ”¾æ¾è®­ç»ƒ`,demoMode:`æ¼”ç¤ºæ¨¡å¼`,toggleDemoMode:`åˆ‡æ¢æ¼”ç¤ºæ¨¡å¼`,demoModeOn:`ä½¿ç”¨å‡æ•°æ®`,demoModeOff:`ä½¿ç”¨åŽç«¯æ•°æ®`}},healthy:{comprehensiveHealth:`ç»¼åˆå¥åº·æ•°æ®`,aiGenerated:`AI ç”Ÿæˆ`,bpDescription:`è¿‡åŽ»{{period}}æ‚¨çš„å¹³å‡æ”¶ç¼©åŽ‹ä¸º `,bpDescriptionCont:`ï¼Œå¹³å‡èˆ’å¼ åŽ‹ä¸º `,hrDescription:`è¿‡åŽ»{{period}}æ‚¨çš„å¹³å‡å¿ƒçŽ‡ä¸º `,hrDescriptionCont:`ï¼Œé™æ¯å¿ƒçŽ‡æ¨¡å¼æ­£å¸¸ã€‚`,heartRateLabel:`å¿ƒçŽ‡`,bsDescription:`è¿‡åŽ»{{period}}æ‚¨çš„å¹³å‡è¡€ç³–ä¸º `,bsDescriptionCont:`ï¼Œå¤„äºŽæ­£å¸¸èŒƒå›´å†…ã€‚`,spo2Description:`è¿‡åŽ»{{period}}æ‚¨çš„å¹³å‡è¡€æ°§ä¸º `,spo2DescriptionCont:`ï¼Œä¿æŒå¥åº·çš„æ°§æ°”æ°´å¹³ã€‚`,sleepDescription:`è¿‡åŽ»{{period}}æ‚¨çš„å¹³å‡ç¡çœ æ—¶é•¿ä¸º `,sleepDescriptionCont:`ï¼Œç¡çœ è´¨é‡è‰¯å¥½ã€‚`,sleepTime:`ç¡çœ æ—¶é•¿`,emotionDescription:`è¿‡åŽ»{{period}}æ‚¨çš„æƒ…ç»ªçŠ¶æ€ä¸º `,emotionDescriptionCont:`ï¼Œå‘ˆçŽ°ç§¯æžè¶‹åŠ¿ã€‚`,positive:`ç§¯æž`,neutral:`ä¸­æ€§`,negative:`æ¶ˆæž`,nutritionDescription:`è¿‡åŽ»{{period}}æ‚¨çš„è¥å…»æ‘„å…¥ä¸º `,nutritionDescriptionCont:`ï¼Œå¤„äºŽæŽ¨èæ°´å¹³å†…ã€‚`,demoMode:`æ¼”ç¤ºæ¨¡å¼`,toggleDemoMode:`åˆ‡æ¢æ¼”ç¤ºæ¨¡å¼`,demoModeOn:`ä½¿ç”¨å‡æ•°æ®`,demoModeOff:`ä½¿ç”¨åŽç«¯æ•°æ®`}}}},fallbackLng:`zh`,debug:!1,interpolation:{escapeValue:!1},detection:{order:[`querystring`,`localStorage`,`navigator`],lookupQuerystring:`lang`,lookupLocalStorage:`i18nextLng`,caches:[`localStorage`]}});var Fi=new Se({defaultOptions:{queries:{retry:2,refetchOnWindowFocus:!1}}});function Ii(){return(0,W.jsx)(N,{client:Fi,children:(0,W.jsx)(se,{children:(0,W.jsxs)(O,{children:[(0,W.jsx)(P,{path:`/`,element:(0,W.jsx)(Pi,{})}),(0,W.jsx)(P,{path:`/details/blood-pressure`,element:(0,W.jsx)(St,{})}),(0,W.jsx)(P,{path:`/details/spo2`,element:(0,W.jsx)(Yt,{})}),(0,W.jsx)(P,{path:`/details/heart-rate`,element:(0,W.jsx)(_n,{})}),(0,W.jsx)(P,{path:`/details/glucose`,element:(0,W.jsx)(zn,{})}),(0,W.jsx)(P,{path:`/details/healthy`,element:(0,W.jsx)(Dr,{})}),(0,W.jsx)(P,{path:`/details/sleep`,element:(0,W.jsx)(Qr,{})}),(0,W.jsx)(P,{path:`/details/emotion`,element:(0,W.jsx)(Mi,{})}),(0,W.jsx)(P,{path:`/widget/blood-pressure/trend`,element:(0,W.jsx)(kt,{})}),(0,W.jsx)(P,{path:`/widget/spo2/trend`,element:(0,W.jsx)(Qt,{})}),(0,W.jsx)(P,{path:`/widget/heart-rate/trend`,element:(0,W.jsx)(bn,{})}),(0,W.jsx)(P,{path:`/widget/glucose/trend`,element:(0,W.jsx)(Hn,{})}),(0,W.jsx)(P,{path:`*`,element:(0,W.jsx)(M,{to:`/`,replace:!0})})]})})})}var Li=Ii;(0,Ce.createRoot)(document.getElementById(`root`)).render((0,W.jsx)(Li,{}));