import{ot as e}from"./vendor-i_a7m9KR.js";import{_ as t,d as n,h as r,l as i,o as a,s as o,t as s,u as c}from"./vendor-charts-uxJ0cBSP.js";import{E as l,T as u,j as d}from"./vendor-react-B4dzC9y_.js";import{a as f,i as p,n as m}from"./index-B6oysRiB.js";import{n as h,r as g,t as _}from"./SuggestionsList-CwoUZ5Di.js";var v=e();function y(){return{score:82,level:`good`,percentile:99,percentileMessage:`Exceeding 99% people with same age!`,aiTags:[`Physical health`,`Needs attention`,`Maintain schedule`],indicators:{bloodPressure:{latest:{systolic:136,diastolic:95},avg:{systolic:126,diastolic:76},max:{systolic:140,diastolic:98},min:{systolic:118,diastolic:70},reference:{systolic:`90-129`,diastolic:`60-89`},status:`high_normal`,chart:[{time:`01:00`,systolic:136,diastolic:95},{time:`08:00`,systolic:125,diastolic:78},{time:`14:00`,systolic:130,diastolic:82},{time:`20:00`,systolic:128,diastolic:80}]},heartRate:{latest:84,avg:73,max:111,min:63,reference:`60-100`,status:`normal`,chart:[{time:`01:00`,value:84},{time:`08:00`,value:72},{time:`12:00`,value:88},{time:`18:00`,value:75}]},bloodGlucose:{latest:8.5,avg:5.4,max:4.6,min:7.8,reference:`3.9-6.1`,status:`high`,chart:[{time:`08:00`,value:5.2},{time:`12:00`,value:7.8},{time:`18:00`,value:6.1}]},bloodOxygen:{latest:94,avg:96,max:99,min:96,reference:`93-100`,status:`normal`,chart:[{time:`01:00`,value:98},{time:`08:00`,value:97},{time:`14:00`,value:96},{time:`20:00`,value:97}]}},aiInsights:[`The average blood oxygen saturation this week was 94.9%, the same as last week.`,`Your blood oxygen level remained at a high level (98%) from Tuesday to Thursday this week.`],suggestions:[{icon:`/images/daily_report/1.webp`,title:`Deep breath for 5 minutes`,description:`Relieve current anxiety and lower heart rate.`},{icon:`/images/daily_report/2.webp`,title:`Today's nap suggestion`,description:`Rest and recover with a short nap.`},{icon:`/images/daily_report/3.webp`,title:`Drink water`,description:`The recent water intake is lower than usual.`}]}}var b=`healthy_daily_demo_mode`;function x(){try{return localStorage.getItem(b)===`true`}catch(e){return console.warn(`[Demo Mode] Failed to read from localStorage:`,e),!1}}function S(){try{localStorage.setItem(b,`true`),console.log(`✅ [Healthy Daily Demo Mode] Enabled - Using dummy data`)}catch(e){console.error(`[Demo Mode] Failed to enable:`,e)}}function C(){try{localStorage.setItem(b,`false`),console.log(`✅ [Healthy Daily Demo Mode] Disabled - Using backend data`)}catch(e){console.error(`[Demo Mode] Failed to disable:`,e)}}function w(){let e=!x();return e?S():C(),e}var T=d(),E=(0,v.memo)(({active:e,payload:t,dataKey:n})=>{var r;if(!e||!t||t.length===0)return null;let i=(r=t[0])==null?void 0:r.payload;return i?(0,T.jsx)(`div`,{className:`bg-slate-700 text-white px-2 py-1 rounded text-xs shadow-lg`,children:(0,T.jsxs)(`p`,{children:[i.time,`: `,i[n]]})}):null});const D=(0,v.memo)(({data:e,dataKey:l=`value`,color:u,showArea:d=!0,height:p=120,yAxisDomain:m,showYAxis:h=!1,renderTooltip:g,className:_=``,gradientId:y})=>{let b=f(),x=y||`timeLineGradient-${Math.random().toString(36).substr(2,9)}`,S=[`00:00`,`06:00`,`12:00`,`18:00`,`24:00`],C=(0,v.useMemo)(()=>{if(m)return m;if(!e||e.length===0)return[0,100];let t=e.map(e=>e[l]).filter(e=>typeof e==`number`);if(t.length===0)return[0,100];let n=Math.min(...t),r=Math.max(...t),i=(r-n)*.1;return[Math.floor(n-i),Math.ceil(r+i)]},[e,l,m]);return(0,T.jsx)(`div`,{className:_,style:{height:p},children:(0,T.jsx)(t,{width:`100%`,height:`100%`,children:(0,T.jsxs)(s,{data:e,margin:{top:5,right:5,left:h?-15:-30,bottom:0},children:[(0,T.jsx)(`defs`,{children:(0,T.jsxs)(`linearGradient`,{id:x,x1:`0`,y1:`0`,x2:`0`,y2:`1`,children:[(0,T.jsx)(`stop`,{offset:`5%`,stopColor:u,stopOpacity:.3}),(0,T.jsx)(`stop`,{offset:`95%`,stopColor:u,stopOpacity:.05})]})}),(0,T.jsx)(n,{strokeDasharray:`3 3`,stroke:`#e2e8f0`,vertical:!1}),(0,T.jsx)(o,{dataKey:`time`,tick:{fontSize:10,fill:`#94a3b8`},tickLine:!1,axisLine:!1,ticks:S}),h&&(0,T.jsx)(a,{tick:{fontSize:10,fill:`#94a3b8`},tickLine:!1,axisLine:!1,domain:C}),(0,T.jsx)(r,{content:g||(e=>(0,T.jsx)(E,{...e,dataKey:l})),wrapperStyle:{outline:`none`,pointerEvents:`none`},allowEscapeViewBox:{x:!1,y:!1}}),d&&(0,T.jsx)(i,{type:`monotone`,dataKey:l,stroke:`transparent`,fill:`url(#${x})`,...b}),(0,T.jsx)(c,{type:`monotone`,dataKey:l,stroke:u,strokeWidth:2,dot:{fill:u,strokeWidth:0,r:3},activeDot:{r:5,stroke:u,strokeWidth:2,fill:`#fff`},...b})]})})})});var O=(e,t)=>e===null?`--`:typeof e==`object`&&`systolic`in e?`${e.systolic}/${e.diastolic}`:t===`bloodGlucose`&&typeof e==`number`?e.toFixed(1):String(e),k=e=>{if(!e)return`#94a3b8`;let t=e.toLowerCase();return t.includes(`normal`)?`#10B981`:t.includes(`high`)||t.includes(`danger`)?`#EF4444`:t.includes(`low`)?`#3B82F6`:`#F59E0B`};const A=(0,v.memo)(({type:e,title:t,color:n,latest:r,avg:i,max:a,min:o,reference:s,status:c,chart:u,className:d=``})=>{let{t:f}=l(),p=u.map(t=>{var n,r;return{time:t.time,value:e===`bloodPressure`?(n=t.systolic)==null?0:n:(r=t.value)==null?0:r}}).filter(e=>typeof e.value==`number`&&e.value>=0),m=typeof s==`object`?`${s.systolic}/${s.diastolic}`:s;return(0,T.jsxs)(`div`,{className:`bg-white rounded-2xl p-4 shadow-sm ${d}`,children:[(0,T.jsxs)(`div`,{className:`flex items-center justify-between mb-3`,children:[(0,T.jsxs)(`div`,{className:`flex items-center gap-2`,children:[(0,T.jsx)(`span`,{className:`w-2 h-2 rounded-full`,style:{backgroundColor:n}}),(0,T.jsx)(`span`,{className:`text-sm font-medium text-slate-700`,children:t}),c&&(0,T.jsx)(`span`,{className:`text-xs px-2 py-0.5 rounded-full`,style:{backgroundColor:`${k(c)}20`,color:k(c)},children:c})]}),(0,T.jsxs)(`span`,{className:`text-xs text-slate-400`,children:[f(`daily.reference`,`Reference`),`: `,m]})]}),(0,T.jsxs)(`div`,{className:`grid grid-cols-4 gap-2 mb-3`,children:[(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`div`,{className:`text-lg font-bold`,style:{color:n},children:O(r,e)}),(0,T.jsx)(`div`,{className:`text-xs text-slate-400`,children:f(`daily.latest`,`Latest`)})]}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`div`,{className:`text-lg font-semibold text-slate-700`,children:O(i,e)}),(0,T.jsx)(`div`,{className:`text-xs text-slate-400`,children:f(`daily.weekAvg`,`7d Avg`)})]}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`div`,{className:`text-lg font-semibold text-slate-700`,children:O(a,e)}),(0,T.jsx)(`div`,{className:`text-xs text-slate-400`,children:f(`common.max`,`Max`)})]}),(0,T.jsxs)(`div`,{children:[(0,T.jsx)(`div`,{className:`text-lg font-semibold text-slate-700`,children:O(o,e)}),(0,T.jsx)(`div`,{className:`text-xs text-slate-400`,children:f(`common.min`,`Min`)})]})]}),p.length>0&&(0,T.jsx)(D,{data:p,color:n,height:80,showArea:!0,showYAxis:!1})]})});function j(){let{t:e}=l(),[t,n]=(0,v.useState)(null),[r,i]=(0,v.useState)(x());return(0,v.useEffect)(()=>{n(y())},[r]),t?(0,T.jsx)(`div`,{className:`min-h-screen pb-20`,style:{backgroundColor:`#F1EFEE`},children:(0,T.jsx)(`div`,{className:`max-w-2xl mx-auto`,children:(0,T.jsxs)(`div`,{className:`p-4 space-y-4`,children:[(0,T.jsxs)(`div`,{className:`flex items-center justify-end gap-2`,children:[(0,T.jsx)(`span`,{className:`text-xs text-slate-500`,children:`Demo Mode`}),(0,T.jsx)(`button`,{onClick:()=>{i(w())},className:`w-10 h-5 rounded-full transition-colors ${r?`bg-orange-400`:`bg-slate-300`}`,children:(0,T.jsx)(`span`,{className:`block w-4 h-4 bg-white rounded-full shadow transform transition-transform ${r?`translate-x-5`:`translate-x-0.5`}`})})]}),(0,T.jsx)(g,{score:t.score,maxScore:100,percentile:t.percentile,percentileMessage:t.percentileMessage,aiTags:t.aiTags,themeColor:`#FB923D`,title:e(`daily.todayScore`,`Today's score`),icon:(0,T.jsx)(u,{className:`w-6 h-6 text-white`})}),(0,T.jsxs)(`div`,{className:`space-y-4`,children:[(0,T.jsx)(`h3`,{className:`text-base font-semibold text-slate-800 px-1`,children:e(`daily.coreIndicators`,`Core indicator Analysis`)}),(0,T.jsx)(A,{type:`bloodPressure`,title:e(`vitals.bloodPressure`,`Blood pressure`),color:p.bp,latest:t.indicators.bloodPressure.latest,avg:t.indicators.bloodPressure.avg,max:t.indicators.bloodPressure.max,min:t.indicators.bloodPressure.min,reference:t.indicators.bloodPressure.reference,status:t.indicators.bloodPressure.status,chart:t.indicators.bloodPressure.chart}),(0,T.jsx)(A,{type:`heartRate`,title:e(`vitals.heartRate`,`Heart rate`),color:p.heartRate,latest:t.indicators.heartRate.latest,avg:t.indicators.heartRate.avg,max:t.indicators.heartRate.max,min:t.indicators.heartRate.min,reference:t.indicators.heartRate.reference,status:t.indicators.heartRate.status,chart:t.indicators.heartRate.chart}),(0,T.jsx)(A,{type:`bloodGlucose`,title:e(`vitals.bloodGlucose`,`POCT`),color:`#F59E0B`,latest:t.indicators.bloodGlucose.latest,avg:t.indicators.bloodGlucose.avg,max:t.indicators.bloodGlucose.max,min:t.indicators.bloodGlucose.min,reference:t.indicators.bloodGlucose.reference,status:t.indicators.bloodGlucose.status,chart:t.indicators.bloodGlucose.chart}),(0,T.jsx)(A,{type:`bloodOxygen`,title:e(`vitals.spo2`,`SpO2`),color:p.spo2,latest:t.indicators.bloodOxygen.latest,avg:t.indicators.bloodOxygen.avg,max:t.indicators.bloodOxygen.max,min:t.indicators.bloodOxygen.min,reference:t.indicators.bloodOxygen.reference,status:t.indicators.bloodOxygen.status,chart:t.indicators.bloodOxygen.chart})]}),t.aiInsights.length>0&&(0,T.jsx)(h,{insights:t.aiInsights,themeColor:m.primary}),t.suggestions.length>0&&(0,T.jsx)(_,{suggestions:t.suggestions}),(0,T.jsx)(`p`,{className:`text-xs text-slate-400 text-center px-4 py-2`,children:e(`common.disclaimer`,`The monitoring results of this product are for reference only.`)})]})})}):(0,T.jsx)(`div`,{className:`flex items-center justify-center h-64`,children:`Loading...`})}export{j as default};