System.register(["./vendor-legacy-BFWz_Ol4.js","./vendor-charts-legacy-T56nRIl-.js","./vendor-router-legacy-dtk8Qgi9.js","./vendor-query-legacy-DmLb6WcG.js","./vendor-i18n-legacy-fjOwBjkb.js","./theme-legacy-BPmhlnTm.js","./card-legacy-BAqfJ-x3.js","./useUrlParams-legacy-DwHop4BH.js","./client-legacy-CFiQjTX9.js","./DistributionCard-legacy-D0GcXimJ.js","./useChartAnimation-legacy-6rVLwxCV.js","./TrendLineChart-legacy-OymNiGz5.js","./WeeklyOverviewCard-legacy-BA9KKe86.js","./usePrefetchData-legacy-IN3Mv77r.js","./DisclaimerBox-legacy-RyuuXYpk.js","./DataAnalysisCard-legacy-Bo096RDw.js","./api-legacy-DGfmZ9Td.js"],function(e,t){var n,a,s,r,c,i,o,d,l,u,g,j,m,y;function x(e){return`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`}function f(e){return`${e.getFullYear()}/${String(e.getMonth()+1).padStart(2,"0")}/${String(e.getDate()).padStart(2,"0")}`}return e("SpO2Page",function(){const{t:e}=s(),{theme:t}=c(),{prefetchPreviousWeeks:n}=j(),[a,D]=(0,m.useState)(()=>{const e=new Date,t=new Date;return t.setDate(e.getDate()-6),{start:t,end:e}});(0,m.useEffect)(()=>{n(a.end,3)},[a.end,n]);const h=(0,m.useMemo)(()=>{const e=new Date;e.setHours(0,0,0,0);const t=new Date(a.end);return t.setHours(0,0,0,0),t<e},[a.end]),v=(0,m.useMemo)(()=>({startDate:x(a.start),endDate:x(a.end)}),[a]),p=(0,m.useMemo)(()=>({start:f(a.start),end:f(a.end)}),[a]),{data:S,isLoading:N,isFetching:b,error:w}=l(v);return w?(0,y.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",style:{backgroundColor:t.background},children:(0,y.jsxs)("div",{className:"text-center",children:[(0,y.jsx)("p",{className:"text-red-500 mb-2",children:e("common.error")}),(0,y.jsx)("p",{className:"text-sm",style:{color:t.textSecondary},children:String(w)})]})}):(0,y.jsx)("div",{className:"min-h-screen pb-20",style:{backgroundColor:t.background},children:(0,y.jsxs)("div",{className:"max-w-2xl mx-auto",children:[(0,y.jsx)("div",{className:"sticky top-0 z-20 py-3 px-4",style:{backgroundColor:t.background},children:(0,y.jsx)("div",{className:"flex justify-center",children:(0,y.jsx)(r,{startDate:p.start,endDate:p.end,onPrevious:()=>{D(e=>{const t=new Date(e.start),n=new Date(e.end);return t.setDate(t.getDate()-7),n.setDate(n.getDate()-7),{start:t,end:n}})},onNext:()=>{h&&D(e=>{const t=new Date(e.start),n=new Date(e.end);t.setDate(t.getDate()+7),n.setDate(n.getDate()+7);const a=new Date;return n>a&&(n.setTime(a.getTime()),t.setTime(a.getTime()),t.setDate(t.getDate()-6)),{start:t,end:n}})},disableNext:!h})})}),(0,y.jsx)("div",{className:"px-4 space-y-4",children:S||N?(0,y.jsxs)("div",{className:"space-y-4",children:[(0,y.jsx)(u,{data:S}),(0,y.jsx)(o,{data:S}),(0,y.jsx)(d,{data:S}),(0,y.jsx)(g,{data:S}),(0,y.jsx)(i,{})]}):(0,y.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,y.jsx)("p",{style:{color:t.textSecondary},children:e("common.noData")})})})]})})}),{setters:[function(e){n=e.at,a=e.rt},function(e){},function(e){},function(e){},function(e){s=e.n},function(e){},function(e){},function(e){r=e.n,c=e.t},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){},function(e){i=e.t},function(e){},function(e){o=e.a,d=e.i,l=e.n,u=e.o,g=e.r,j=e.t}],execute:function(){m=n(),y=a()}}});