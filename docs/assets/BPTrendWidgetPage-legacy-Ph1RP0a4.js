System.register(["./vendor-legacy-BFWz_Ol4.js","./vendor-charts-legacy-T56nRIl-.js","./vendor-query-legacy-DmLb6WcG.js","./vendor-i18n-legacy-fjOwBjkb.js","./theme-legacy-BPmhlnTm.js","./card-legacy-BAqfJ-x3.js","./client-legacy-CFiQjTX9.js","./useChartAnimation-legacy-6rVLwxCV.js","./usePrefetchData-legacy-IN3Mv77r.js","./api-legacy-CNZgxUdt.js","./MetricSummaryCard-legacy-B4pQy3F7.js"],function(e,s){var a,t,n,c,i,l,r,o,d,m,x,h,u,g,y,j,p,f,v,N;function b({showCard:e,className:s,children:a}){return e?(0,p.jsx)(x,{className:s,children:(0,p.jsx)(d,{className:"py-4",children:a})}):(0,p.jsx)("div",{className:r("p-4",s),children:a})}return e("BPTrendWidgetPage",function(){return(0,p.jsx)(g,{children:(0,p.jsx)("div",{className:"w-full max-w-md p-4",children:(0,p.jsx)(v,{showCard:!1,height:200})})})}),{setters:[function(e){a=e.at,t=e.rt,n=e.u},function(e){},function(e){},function(e){c=e.n},function(e){i=e.l,l=e.t},function(e){r=e.a,o=e.i,d=e.n,m=e.r,x=e.t},function(e){},function(e){},function(e){},function(e){h=e.t},function(e){u=e.n,g=e.r,y=e.t}],execute:function(){j=a(),p=t(),f=({showCard:e=!0,height:s=200,className:a})=>{const{t:t}=c(),{data:i,isLoading:r,isError:g,refetch:y}=h();if(g||!i)return(0,p.jsx)(b,{showCard:e,className:a,children:(0,p.jsxs)("div",{className:"flex flex-col items-center justify-center py-8 text-center",children:[(0,p.jsx)("p",{className:"text-sm text-slate-500 mb-3",children:t("common.error")}),(0,p.jsx)("button",{onClick:()=>y(),className:"px-4 py-2 text-sm font-medium text-white bg-bp rounded-lg hover:opacity-90 transition-opacity",children:t("common.retry")})]})});const f=(0,j.useMemo)(()=>i.chartData.map(e=>({dateLabel:e.dateLabel,high:e.systolic,low:e.diastolic,date:e.date})),[i.chartData]),v=(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,p.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,p.jsx)("span",{className:"w-3 h-0.5 rounded",style:{backgroundColor:l.bp.primary}}),(0,p.jsx)("span",{className:"text-xs text-slate-500",children:t("vitals.systolic")})]}),(0,p.jsxs)("div",{className:"flex items-center gap-1.5",children:[(0,p.jsx)("span",{className:"w-3 h-0.5 rounded border-dashed",style:{borderBottomWidth:2,borderColor:l.bp.secondary}}),(0,p.jsx)("span",{className:"text-xs text-slate-500",children:t("vitals.diastolic")})]}),r&&(0,p.jsxs)("div",{className:"ml-auto flex items-center gap-1.5 text-xs text-slate-400",children:[(0,p.jsx)(n,{className:"w-3 h-3 animate-spin"}),(0,p.jsx)("span",{children:t("common.loading")})]})]}),(0,p.jsx)(u,{data:f,type:"range",color:l.bp.primary,secondaryColor:l.bp.secondary,height:s,yDomain:[i.yAxisRange.min,i.yAxisRange.max]})]});return e?(0,p.jsxs)(x,{className:a,children:[(0,p.jsx)(m,{children:(0,p.jsx)(o,{children:t("page.bloodPressure.trendTitle")})}),(0,p.jsx)(d,{children:v})]}):(0,p.jsx)("div",{className:a,children:v})},v=(0,j.memo)(f),N=({className:e})=>{const{t:s}=c(),{data:a,isLoading:t,isError:l}=h();if(l||!a||!a.latestReading)return(0,p.jsx)(x,{className:e,children:(0,p.jsx)(d,{className:"py-8 text-center",children:(0,p.jsx)("p",{className:"text-sm text-slate-500",children:s("common.noData")})})});const{summary:r,latestReading:o}=a,m=(0,j.useMemo)(()=>0!==r.systolicChange?`${r.systolicChange>0?"+":""}${r.systolicChange}`:void 0,[r.systolicChange]),u=(0,j.useMemo)(()=>[{labelKey:"page.bloodPressure.averageReading",value:`${r.avgSystolic}/${r.avgDiastolic}`,unit:s("units.mmHg")},{labelKey:"status."+r.status,value:s(r.statusKey)}],[r.avgSystolic,r.avgDiastolic,r.status,r.statusKey,s]);return(0,p.jsx)(y,{className:e,titleKey:"vitals.bloodPressure",value:`${o.systolic}/${o.diastolic}`,unit:s("units.mmHg"),trend:r.systolicTrend,trendValue:m,accentColor:i.bp,subMetrics:u,loadingIndicator:t&&(0,p.jsxs)("div",{className:"flex items-center gap-1.5 text-xs text-slate-400",children:[(0,p.jsx)(n,{className:"w-3 h-3 animate-spin"}),(0,p.jsx)("span",{children:s("common.loading")})]})})},(0,j.memo)(N)}}});