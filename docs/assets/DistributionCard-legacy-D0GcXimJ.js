System.register(["./vendor-legacy-BFWz_Ol4.js","./vendor-charts-legacy-T56nRIl-.js","./vendor-i18n-legacy-fjOwBjkb.js","./theme-legacy-BPmhlnTm.js","./card-legacy-BAqfJ-x3.js"],function(e,s){var l,t,a,n,i,c,r,o,d,x,m,h,u,p,f,g,j;return{setters:[function(e){l=e.at,t=e.p,a=e.rt},function(e){n=e.g,i=e.m,c=e.p,r=e.r,o=e.v},function(e){d=e.n},function(e){x=e.c},function(e){m=e.o,h=e.t}],execute:function(){u=l(),p=a(),f=({data:e,innerRadius:s,outerRadius:l,paddingAngle:t=0,startAngle:a=90,endAngle:d=-270,children:x,widthClass:h="w-full",heightClass:u="h-full",animationProps:f=m(),className:g="",useCornerRadius:j=!0,smallSectorThreshold:N=.02})=>(0,p.jsxs)("div",{className:`relative transform-gpu will-change-transform ${h} ${u} ${g}`,children:[(0,p.jsx)(o,{width:"100%",height:"100%",children:(0,p.jsx)(r,{margin:{top:0,right:0,bottom:0,left:0},children:(0,p.jsx)(c,{data:e,cx:"50%",cy:"50%",innerRadius:s,outerRadius:l,paddingAngle:t,dataKey:"value",startAngle:a,endAngle:d,strokeWidth:0,shape:e=>{const{cx:s,cy:l,innerRadius:t,outerRadius:a,startAngle:i,endAngle:c,fill:r}=e,o=(t+a)/2,d=Math.abs(c-i)*Math.PI/180*o;if(j&&d<14){const e=(i+c)/2,n=Math.PI/180,d=s+o*Math.cos(-e*n),x=l+o*Math.sin(-e*n),m=a-t;return(0,p.jsx)("circle",{cx:d,cy:x,r:Math.min(m/2,5),fill:r})}return(0,p.jsx)(n,{...e,cornerRadius:j?5:0,strokeWidth:0})},...f,children:e.map((e,s)=>(0,p.jsx)(i,{fill:e.color,style:{outline:"none"}},`cell-${s}`))})})}),x&&(0,p.jsx)("div",{className:"absolute inset-0 flex flex-col items-center justify-center pointer-events-none",children:x})]}),g=(0,u.memo)(f),j=({title:e,icon:s,iconElement:l,themeColor:a,items:n,centerValue:i,centerLabel:c,centerValueColor:r,showCount:o=!0,columns:f=1,gridColumns:j=1,highlightValue:N,highlightLabel:v,highlightDescription:y,itemLayout:b="default",pieChartSize:w="auto",donutThickness:k=12,className:C="",isLoading:R=!1,showInfo:A=!0,infoContent:M})=>{const{t:$}=d(),P=m(),[E,L]=(0,u.useState)(!1),S=(0,u.useCallback)(()=>{L(!0)},[]),I=(0,u.useCallback)(()=>{L(!1)},[]),V=(0,u.useMemo)(()=>{const e=n.filter(e=>e.percent>0||void 0!==e.count&&e.count>0).map(e=>({name:e.label,value:e.percent>0?e.percent:.1,color:e.color,count:e.count}));return 0===e.length?[{name:"No Data",value:100,color:"#E5E7EB"}]:e},[n]),z="small"===w?"w-32 h-32":"medium"===w?"w-40 h-40":"large"===w||2===f||void 0!==N?"w-48 h-48":"w-32 h-32",{innerRadius:B,outerRadius:D}=(()=>{if(2===f||void 0!==N||"grid-2col"===b){const e=98;return{innerRadius:e-k+"%",outerRadius:`${e}%`}}return{innerRadius:80-(k||20)+"%",outerRadius:"80%"}})();return(0,p.jsxs)(h,{className:`${C} relative overflow-hidden`,children:[(0,p.jsxs)("div",{className:"flex items-center gap-6",children:[(0,p.jsxs)("div",{className:"flex-1 min-w-0 flex flex-col",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2 mb-4",children:[l||s&&(0,p.jsx)(s,{className:"w-5 h-5",style:{color:a}}),(0,p.jsx)("h3",{className:"text-base font-semibold text-slate-800",children:e}),A&&(0,p.jsx)(t,{className:"w-4 h-4 text-slate-400 cursor-pointer hover:text-slate-600 transition-colors",onClick:S})]}),(0,p.jsx)("div",{className:"flex-1",children:void 0!==N?(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("div",{className:"mb-4",children:[(0,p.jsxs)("div",{className:"flex items-baseline gap-1",children:[(0,p.jsx)("span",{className:"text-4xl font-bold",style:{color:a},children:N}),v&&(0,p.jsx)("span",{className:"text-base text-slate-400",children:v})]}),y&&(0,p.jsx)("p",{className:"text-sm text-slate-500 mt-1",children:y})]}),(0,p.jsx)("div",{className:`grid ${2===j?"grid-cols-2":"grid-cols-1"} gap-x-4 gap-y-2`,children:n.map(e=>(0,p.jsxs)("div",{className:"flex flex-col",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,p.jsx)("span",{className:"text-sm text-slate-600",children:e.label})]}),(0,p.jsxs)("span",{className:"text-base font-semibold ml-[18px]",style:{color:e.color},children:[e.count," ",1===e.count?$("common.time"):$("common.times")]})]},e.type))})]}):"with-duration"===b?(0,p.jsx)("div",{className:"space-y-2",children:n.map(e=>(0,p.jsxs)("div",{className:"flex items-center justify-between",children:[(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,p.jsx)("span",{className:"text-sm text-slate-600",children:e.label}),(0,p.jsxs)("span",{className:"text-sm font-medium text-slate-800",children:[e.percent,"%"]})]}),(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[e.duration&&(0,p.jsx)("span",{className:"text-xs text-slate-500",children:e.duration}),e.status&&(0,p.jsx)("span",{className:"text-xs px-2 py-0.5 rounded-full bg-green-100 text-green-600",children:e.status})]})]},e.type))}):"grid-2col"===b?(0,p.jsx)("div",{className:"grid grid-cols-2 gap-x-4 gap-y-2",children:n.slice(0,8).map(e=>(0,p.jsxs)("div",{className:"flex items-center gap-2",children:[(0,p.jsx)("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,p.jsx)("span",{className:"text-sm text-slate-600",children:e.label}),(0,p.jsxs)("span",{className:"text-sm font-medium text-slate-800",children:[e.percent,"%"]})]},e.type))}):2===f?(0,p.jsx)("div",{className:"grid grid-cols-2 gap-x-6 gap-y-3",children:n.map(e=>(0,p.jsxs)("div",{className:"flex items-center gap-2 min-w-0",children:[(0,p.jsx)("span",{className:"w-3 h-3 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,p.jsx)("span",{className:"text-sm text-slate-700 flex-shrink-0",children:e.label}),(0,p.jsxs)("span",{className:"text-sm font-medium ml-auto flex-shrink-0",style:{color:e.color},children:[e.percent,"%"]})]},e.type))}):(0,p.jsx)("div",{className:"space-y-2",children:n.map(e=>{var s;return(0,p.jsxs)("div",{className:"flex items-center gap-3",children:[(0,p.jsx)("span",{className:"w-2.5 h-2.5 rounded-full flex-shrink-0",style:{backgroundColor:e.color}}),(0,p.jsx)("span",{className:"text-sm text-slate-600 w-14",children:e.label}),(0,p.jsxs)("span",{className:"text-sm font-semibold w-10",style:{color:e.color},children:[e.percent,"%"]}),o&&(0,p.jsxs)("span",{className:"text-sm",style:{color:e.color},children:[null!==(s=e.count)&&void 0!==s?s:0," ",$("common.times")]})]},e.type)})})})]}),(0,p.jsxs)(g,{data:V,innerRadius:B,outerRadius:D,paddingAngle:2===f||void 0!==N?2:3,widthClass:z,heightClass:"",animationProps:P,children:[(0,p.jsx)("span",{className:"text-2xl font-bold text-center px-2",style:{color:r||a},children:i}),c&&(0,p.jsx)("span",{className:"text-xs text-slate-400 mt-1",children:c})]})]}),E&&(0,p.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},onClick:I,children:(0,p.jsxs)("div",{className:"bg-white shadow-2xl max-w-md w-full mx-4 overflow-hidden",style:{borderRadius:x.cardBorderRadius},onClick:e=>e.stopPropagation(),children:[(0,p.jsx)("div",{className:"px-6 pt-6 pb-4",children:(0,p.jsx)("h3",{className:"text-xl font-bold text-slate-800 text-center",children:$("common.illustrate")})}),(0,p.jsx)("div",{className:"px-6 pb-6 max-h-96 overflow-y-auto",children:(0,p.jsx)("div",{className:"bg-slate-50 rounded-2xl p-4",children:M?"string"==typeof M?(0,p.jsx)("div",{className:"text-sm text-slate-700 whitespace-pre-line leading-relaxed",children:M}):M:(0,p.jsx)("div",{className:"space-y-3",children:n.map(e=>(0,p.jsxs)("div",{className:"flex items-start gap-3",children:[(0,p.jsx)("span",{className:"w-4 h-4 rounded-full flex-shrink-0 mt-0.5",style:{backgroundColor:e.color}}),(0,p.jsxs)("div",{className:"flex-1",children:[(0,p.jsx)("p",{className:"text-sm font-medium text-slate-800",children:e.label}),(0,p.jsxs)("p",{className:"text-xs text-slate-500 mt-0.5",children:[e.percent,"% (",e.count||0," ",$("common.times"),")"]})]})]},e.type))})})}),(0,p.jsx)("div",{className:"px-6 pb-6",children:(0,p.jsx)("button",{onClick:I,className:"w-full py-3 rounded-full font-semibold text-white transition-all duration-200 hover:opacity-90 active:scale-95",style:{backgroundColor:a},children:$("common.close")})})]})})]})},e("t",(0,u.memo)(j))}}});